<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™˜ê²½ê³µë‹¨ ê´€ë¦¬ì - ì˜ˆì‚°ì œ ëª©ë¡</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* í—¤ë” */
        .admin-header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-left h1 {
            font-size: 24px;
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 8px;
        }
        
        /* ì—°ë„ë³„ íƒ­ */
        .year-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .year-tab {
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .year-tab.active {
            background: white;
            color: #1e3c72;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        /* ì˜ˆì‚°ì œ ëª©ë¡ í…Œì´ë¸” */
        .budget-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .budget-table th,
        .budget-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            vertical-align: middle;
        }
        
        .budget-table th {
            background: #f8fafc;
            font-weight: bold;
            color: #1e3c72;
            font-size: 14px;
        }
        
        .budget-table tr:hover {
            background: #f0f9ff;
        }
        
        /* ìƒíƒœ ë±ƒì§€ */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-badge.active { background: #dcfce7; color: #166534; }
        .status-badge.completed { background: #e0e7ff; color: #3730a3; }
        .status-badge.planning { background: #fef3c7; color: #92400e; }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #1e3c72;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        /* í•„í„° ì˜ì—­ */
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .filter-select {
            padding: 8px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            color: #374151;
        }

        /* ì§„í–‰ë¥  ë°” */
        .progress-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .progress-bar {
            flex: 1;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            min-width: 100px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            font-size: 12px;
            font-weight: 600;
            color: #374151;
            min-width: 80px;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- í—¤ë” -->
            <div class="admin-header">
                <div class="header-content">
                    <div class="header-left">
                        <h1>ğŸ›ï¸ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ ê´€ë¦¬</h1>
                        <p>ì „ì²´ ì˜ˆì‚°ì œ ëª©ë¡ ë° í˜„í™© ê´€ë¦¬</p>
                    </div>
                    <div class="header-right">
                        <button @click="createNewBudget" class="btn btn-primary" style="padding: 12px 24px; font-size: 15px; background: #10b981;">
                            âœ¨ ìƒˆ ì˜ˆì‚°ì œ ìƒì„±
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- ì—°ë„ë³„ íƒ­ -->
            <div class="year-tabs">
                <button 
                    v-for="year in years" 
                    :key="year"
                    :class="['year-tab', { active: selectedYear === year }]"
                    @click="selectedYear = year"
                >
                    {{ year }}ë…„
                </button>
            </div>
            
            <!-- ë©”ì¸ ì»¨í…ì¸  -->
            <div class="card">
                <!-- í•„í„° -->
                <div class="filters">
                    <select v-model="filters.type" class="filter-select">
                        <option value="all">ì „ì²´ ìœ í˜•</option>
                        <option value="main">ë³¸ì˜ˆì‚°</option>
                        <option value="supplementary">ì¶”ê²½ì˜ˆì‚°</option>
                    </select>
                    
                    <select v-model="filters.status" class="filter-select">
                        <option value="all">ì „ì²´ ìƒíƒœ</option>
                        <option value="active">ì§„í–‰ì¤‘</option>
                        <option value="completed">ì™„ë£Œ</option>
                        <option value="planning">ëŒ€ê¸°</option>
                    </select>
                </div>
                
                <!-- ì˜ˆì‚°ì œ ëª©ë¡ -->
                <table class="budget-table">
                    <thead>
                        <tr>
                            <th>ì˜ˆì‚°ì œ êµ¬ë¶„</th>
                            <th>ê²€í†  ì°¨ìˆ˜</th>
                            <th>ê²€í†  ê¸°ê°„</th>
                            <th>ì´ ì‚¬ì—…ìˆ˜</th>
                            <th>ì œì¶œ í˜„í™©</th>
                            <th>ì§„í–‰ ìƒíƒœ</th>
                            <th>ìƒì„¸ë³´ê¸°</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="item in filteredBudgets" :key="item.id">
                            <td>
                                <div style="font-weight: bold;">{{ item.name }}</div>
                                <div style="font-size: 12px; color: #6b7280;">{{ item.year }}ë…„ {{ item.type === 'main' ? 'ë³¸ì˜ˆì‚°' : item.supplementaryRound + 'ì°¨ ì¶”ê²½' }}</div>
                            </td>
                            <td style="text-align: center; font-weight: bold; font-size: 16px; color: #1e3c72;">
                                {{ item.round }}ì°¨
                            </td>
                            <td style="font-size: 13px;">
                                {{ item.startDate }} ~ {{ item.endDate }}
                            </td>
                            <td>
                                <div style="font-size: 13px;">
                                    <span style="color: #3b82f6;">ì˜ˆì‚° {{ item.projectCounts.budget }}ê°œ</span> / 
                                    <span style="color: #10b981;">ê¸°ê¸ˆ {{ item.projectCounts.fund }}ê°œ</span>
                                    <div style="font-weight: bold;">ì´ {{ item.projectCounts.budget + item.projectCounts.fund }}ê°œ</div>
                                </div>
                            </td>
                            <td>
                                <div class="progress-container">
                                    <div class="progress-bar">
                                        <div class="progress-fill" :style="{ width: item.submissionProgress + '%' }"></div>
                                    </div>
                                    <span class="progress-text">{{ item.submittedProjects }} / {{ item.projectCounts.budget + item.projectCounts.fund }} ê°œ</span>
                                </div>
                            </td>
                            <td>
                                <span :class="['status-badge', item.status]">
                                    {{ getStatusText(item.status) }}
                                </span>
                            </td>
                            <td>
                                <button @click="viewDetails(item)" class="btn btn-primary">
                                    ğŸ” í˜„í™© ë³´ê¸°
                                </button>
                            </td>
                        </tr>
                        <tr v-if="filteredBudgets.length === 0">
                            <td colspan="7" style="text-align: center; padding: 50px; color: #6b7280;">
                                í•´ë‹¹ ì¡°ê±´ì˜ ì˜ˆì‚°ì œê°€ ì—†ìŠµë‹ˆë‹¤.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;
        
        createApp({
            setup() {
                // ì—°ë„ ëª©ë¡
                const years = ref(['2025', '2024', '2023']);
                const selectedYear = ref('2025');
                
                // í•„í„°
                const filters = ref({
                    type: 'all',
                    status: 'all'
                });
                
                // ì˜ˆì‚°ì œ ëª©ë¡ (ì°¨ìˆ˜ë³„ë¡œ ë¶„ë¦¬)
                const budgetRounds = ref([
                    // 2025ë…„ ë³¸ì˜ˆì‚°
                    { id: 1, budgetSystemId: 1, year: '2025', name: '2025ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 1, startDate: '2024-12-01', endDate: '2025-01-10', status: 'active', projectCounts: { budget: 122, fund: 158 }, submittedProjects: 150, submissionProgress: 54 },
                    { id: 2, budgetSystemId: 1, year: '2025', name: '2025ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 2, startDate: '2025-01-15', endDate: '2025-02-15', status: 'planning', projectCounts: { budget: 122, fund: 158 }, submittedProjects: 0, submissionProgress: 0 },
                    { id: 3, budgetSystemId: 1, year: '2025', name: '2025ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 3, startDate: '2025-02-20', endDate: '2025-03-20', status: 'planning', projectCounts: { budget: 122, fund: 158 }, submittedProjects: 0, submissionProgress: 0 },
                    
                    // 2024ë…„ ë³¸ì˜ˆì‚°
                    { id: 4, budgetSystemId: 2, year: '2024', name: '2024ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 1, startDate: '2023-12-01', endDate: '2024-01-10', status: 'completed', projectCounts: { budget: 120, fund: 150 }, submittedProjects: 270, submissionProgress: 100 },
                    { id: 5, budgetSystemId: 2, year: '2024', name: '2024ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 2, startDate: '2024-01-15', endDate: '2024-02-15', status: 'completed', projectCounts: { budget: 120, fund: 150 }, submittedProjects: 270, submissionProgress: 100 },
                    
                    // 2024ë…„ 2ì°¨ ì¶”ê²½
                    { id: 6, budgetSystemId: 3, year: '2024', name: '2024ë…„ 2ì°¨ ì¶”ê²½ ì˜ˆì‚°ì œ', type: 'supplementary', supplementaryRound: 2, round: 1, startDate: '2024-08-01', endDate: '2024-08-20', status: 'completed', projectCounts: { budget: 98, fund: 134 }, submittedProjects: 232, submissionProgress: 100 },
                    
                    // 2023ë…„ ë³¸ì˜ˆì‚°
                    { id: 7, budgetSystemId: 4, year: '2023', name: '2023ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 1, startDate: '2022-12-01', endDate: '2023-01-10', status: 'completed', projectCounts: { budget: 110, fund: 140 }, submittedProjects: 250, submissionProgress: 100 },
                    { id: 8, budgetSystemId: 4, year: '2023', name: '2023ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ', type: 'main', round: 2, startDate: '2023-01-15', endDate: '2023-02-15', status: 'completed', projectCounts: { budget: 110, fund: 140 }, submittedProjects: 250, submissionProgress: 100 },
                ]);
                
                // í•„í„°ë§ëœ ëª©ë¡
                const filteredBudgets = computed(() => {
                    return budgetRounds.value.filter(item => {
                        const isYearMatch = item.year === selectedYear.value;
                        const isTypeMatch = filters.value.type === 'all' || item.type === filters.value.type;
                        const isStatusMatch = filters.value.status === 'all' || item.status === filters.value.status;
                        return isYearMatch && isTypeMatch && isStatusMatch;
                    });
                });
                
                // ìƒíƒœ í…ìŠ¤íŠ¸ ë³€í™˜
                const getStatusText = (status) => {
                    const statusMap = {
                        'active': 'ì§„í–‰ì¤‘',
                        'completed': 'ì™„ë£Œ',
                        'planning': 'ëŒ€ê¸°'
                    };
                    return statusMap[status] || status;
                };
                
                // ìƒˆ ì˜ˆì‚°ì œ ìƒì„± í˜ì´ì§€ë¡œ ì´ë™
                const createNewBudget = () => {
                    window.location.href = '6.1 í™˜ê²½ê³µë‹¨ ê´€ë¦¬ì - ì˜ˆì‚°ì œ ì‹œì‘ ì„¤ì • í™”ë©´.html';
                };
                
                // ìƒì„¸ë³´ê¸° í˜ì´ì§€ë¡œ ì´ë™
                const viewDetails = (item) => {
                    alert(`${item.year}ë…„ ${item.name} ${item.round}ì°¨ í˜„í™© ë³´ê¸° í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
                    // ì‹¤ì œ êµ¬í˜„ ì‹œ, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ì°¨ìˆ˜ì˜ ì •ë³´ë¥¼ ë„˜ê²¨ì¤ë‹ˆë‹¤.
                    // ì˜ˆ: window.location.href = `6.2....html?year=${item.year}&round=${item.round}&id=${item.budgetSystemId}`;
                    window.location.href = '6.2 í™˜ê²½ê³µë‹¨ ê²€í† ì - ì „ì²´ í˜„í™© ëª¨ë‹ˆí„°ë§ í™”ë©´.html';
                };
                
                return {
                    years,
                    selectedYear,
                    filters,
                    filteredBudgets,
                    getStatusText,
                    createNewBudget,
                    viewDetails
                };
            }
        }).mount('#app');
    </script>
</body>
</html> 