<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¸ë¶€ì‚¬ì—… ì‘ì„± ë‹´ë‹¹ì - ê°œì¸ ì—…ë¬´ ê´€ë¦¬</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* ê°œì¸í™”ëœ í—¤ë” ì„¹ì…˜ */
        .header {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .user-info h1 {
            color: #6366f1;
            font-size: 26px;
            margin-bottom: 5px;
        }
        
        .user-info p {
            color: #6b7280;
            font-size: 14px;
        }
        
        .personal-status {
            background: #eef2ff;
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .personal-status h3 {
            color: #6366f1;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .personal-status .status-badge {
            background: #10b981;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ì„¹ì…˜ - ì»´íŒ©íŠ¸ ë²„ì „ */
        .period-selector {
            background: #f8fafc;
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .selector-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .selector-label {
            font-weight: bold;
            color: #6366f1;
            font-size: 14px;
        }
        
        .selector-dropdown {
            padding: 6px 10px;
            border: 2px solid #6366f1;
            border-radius: 6px;
            font-weight: bold;
            color: #6366f1;
            background: white;
            min-width: 80px;
        }
        
        /* ê°œì¸ ì›Œí¬í”Œë¡œìš° ì•ˆë‚´ - ê°œì„  */
        .workflow-section {
            background: #ecfdf5;
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
        }
        
        .workflow-title {
            color: #065f46;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .workflow-title::before {
            content: "ğŸ”„";
            margin-right: 8px;
        }
        
        .workflow-progress-info {
            font-size: 12px;
            color: #065f46;
            background: rgba(255, 255, 255, 0.7);
            padding: 4px 8px;
            border-radius: 12px;
        }
        
        .workflow-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 8px;
            background: white;
            border-radius: 8px;
            min-width: 110px;
            position: relative;
            border: 2px solid transparent;
        }
        
        .workflow-step.active {
            background: #6366f1;
            color: white;
            border-color: #4f46e5;
        }
        
        .workflow-step.completed {
            background: #10b981;
            color: white;
            border-color: #059669;
        }
        
        .step-number {
            background: #e5e7eb;
            color: #374151;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 6px;
        }
        
        .workflow-step.active .step-number {
            background: white;
            color: #6366f1;
        }
        
        .workflow-step.completed .step-number {
            background: white;
            color: #10b981;
        }
        
        .step-label {
            font-size: 11px;
            text-align: center;
            font-weight: bold;
            line-height: 1.2;
        }
        
        .step-count {
            font-size: 9px;
            margin-top: 2px;
            opacity: 0.8;
        }
        
        /* ê°œì¸ í†µê³„ - 5ê°œ ì¹´ë“œ ëŒ€ì‘ */
        .personal-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .personal-stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 4px solid;
            transition: transform 0.3s ease;
        }
        
        .personal-stat-card:hover {
            transform: translateY(-2px);
        }
        
        .personal-stat-card.total { border-left-color: #6366f1; }
        .personal-stat-card.assigned { border-left-color: #10b981; }
        .personal-stat-card.completed { border-left-color: #059669; }
        .personal-stat-card.inprogress { border-left-color: #f59e0b; }
        .personal-stat-card.deadline { border-left-color: #ef4444; }
        
        .personal-stat-number {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .personal-stat-label {
            color: #6b7280;
            font-size: 13px;
            font-weight: 500;
        }
        
        /* ë‚´ ì„¸ë¶€ì‚¬ì—… ëª©ë¡ - ì¹´ë“œ í˜•íƒœ */
        .my-projects-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-header h2 {
            color: #6366f1;
            font-size: 20px;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .project-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .project-card.writing {
            border-color: #f59e0b;
            background: #fffbeb;
        }
        
        .project-card.submitted {
            border-color: #10b981;
            background: #ecfdf5;
        }
        
        .project-card.reviewing {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        
        .project-card.revision {
            border-color: #ef4444;
            background: #fef2f2;
        }
        
        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .project-code {
            background: #f3f4f6;
            color: #374151;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .project-title {
            font-size: 16px;
            font-weight: bold;
            color: #374151;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .project-meta {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
            padding: 8px 0;
        }
        
        .meta-label {
            color: #6b7280;
            font-size: 12px;
            margin-bottom: 3px;
        }
        
        .meta-value {
            font-weight: bold;
            color: #374151;
        }
        
        /* ì§„í–‰ë¥  í”„ë¡œê·¸ë ˆìŠ¤ë°” ì¶”ê°€ */
        .progress-item {
            display: flex;
            flex-direction: column;
            grid-column: 1 / -1;
            padding: 8px 0;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .progress-label {
            color: #6b7280;
            font-size: 12px;
        }
        
        .progress-percentage {
            font-weight: bold;
            color: #374151;
            font-size: 12px;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .progress-writing {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }
        
        .progress-submitted {
            background: linear-gradient(90deg, #10b981, #059669);
        }
        
        .progress-reviewing {
            background: linear-gradient(90deg, #3b82f6, #2563eb);
        }
        
        .progress-revision {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }
        
        /* ìƒíƒœë³„ ìš°ì„ ìˆœìœ„ í‘œì‹œ */
        .priority-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .priority-urgent {
            background: #ef4444;
            animation: pulse-urgent 2s infinite;
        }
        
        .priority-normal {
            background: #10b981;
        }
        
        .priority-attention {
            background: #f59e0b;
            animation: pulse-attention 3s infinite;
        }
        
        @keyframes pulse-urgent {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes pulse-attention {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .project-actions {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #6366f1;
            color: white;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.8;
            transform: translateY(-1px);
        }
        
        /* í•˜ë‹¨ ì •ë³´ ì„¹ì…˜ - ê°œì¸í™” */
        .bottom-info-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .info-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .info-card h3 {
            color: #6366f1;
            font-size: 16px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 8px;
        }
        
        .info-card h3::before {
            margin-right: 8px;
        }
        
        .my-notices h3::before {
            content: "ğŸ“®";
        }
        
        .my-resources h3::before {
            content: "ğŸ“‹";
        }
        
        .info-list {
            list-style: none;
        }
        
        .info-item {
            padding: 10px 0;
            border-bottom: 1px solid #f3f4f6;
            font-size: 14px;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-item:hover {
            background: #f9fafb;
            margin: 0 -10px;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .info-title {
            color: #374151;
            font-weight: 500;
            margin-bottom: 3px;
        }
        
        .info-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #6b7280;
        }
        
        .info-badge {
            background: #6366f1;
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: bold;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .workflow-steps {
                flex-direction: column;
            }
            
            .personal-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
            
            .bottom-info-section {
                grid-template-columns: 1fr;
            }
        }

        /* ê°œì¸ í˜„í™© ìš”ì•½ë§Œ ë‚¨ê¸°ê³  ì›Œí¬í”Œë¡œìš° ì„¹ì…˜ ì œê±° */
        .status-summary-section {
            background: #ecfdf5;
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .summary-title {
            color: #065f46;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .summary-title::before {
            content: "ğŸ“Š";
            margin-right: 8px;
        }
        
        /* ì‹¬í”Œí•œ ìƒíƒœ ê°œìš” */
        .simple-status-overview {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .simple-status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .status-dot.writing { background: #f59e0b; }
        .status-dot.submitted { background: #10b981; }
        .status-dot.reviewing { background: #3b82f6; }
        .status-dot.revision { background: #ef4444; }
        .status-dot.completed { background: #8b5cf6; }
        
        .status-text {
            color: #374151;
            font-weight: 500;
        }
        
        /* ì „ì²´ ì§„í–‰ë¥  ë°”ë§Œ ë‚¨ê¹€ */
        .overall-progress {
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .progress-title {
            font-weight: bold;
            color: #374151;
            font-size: 14px;
        }
        
        .progress-percentage {
            font-weight: bold;
            color: #10b981;
            font-size: 16px;
        }
        
        .progress-bar-large {
            width: 100%;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill-large {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            border-radius: 10px;
            transition: width 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        /* ë·° ì „í™˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .view-toggle {
            display: flex;
            background: #f3f4f6;
            border-radius: 8px;
            padding: 4px;
        }
        
        .view-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: transparent;
            color: #6b7280;
        }
        
        .view-btn.active {
            background: #6366f1;
            color: white;
        }
        
        .view-btn:hover {
            background: #e5e7eb;
        }
        
        .view-btn.active:hover {
            background: #5856eb;
        }

        /* ëª©ë¡ë·° í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .projects-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .projects-table th,
        .projects-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .projects-table th {
            background: #f9fafb;
            font-weight: bold;
            color: #374151;
            font-size: 14px;
        }
        
        .projects-table tr:hover {
            background: #f9fafb;
        }
        
        .table-project-title {
            font-weight: bold;
            color: #374151;
            margin-bottom: 3px;
        }
        
        .table-project-code {
            font-size: 12px;
            color: #6b7280;
        }
        
        .table-progress {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .table-progress-bar {
            width: 60px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .table-progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .table-actions {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
        }
        
        .btn-small {
            padding: 4px 8px;
            border: none;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            font-weight: bold;
        }

        /* ë‹´ë‹¹ì‚¬ì—… ì„ íƒ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .project-selection-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .project-selection-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 800px;
            width: 95%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .selection-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .selection-title {
            color: #6366f1;
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .selection-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }
        
        .selection-info {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .selection-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .selection-table th,
        .selection-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .selection-table th {
            background: #f9fafb;
            font-weight: bold;
            color: #374151;
        }
        
        .selection-table tr:hover {
            background: #f9fafb;
        }
        
        .selection-checkbox {
            width: 18px;
            height: 18px;
            accent-color: #6366f1;
        }
        
        .project-name-cell {
            font-weight: bold;
            color: #374151;
        }
        
        .project-code-cell {
            font-size: 12px;
            color: #6b7280;
            margin-top: 3px;
        }
        
        .current-assignee {
            font-size: 12px;
            color: #059669;
            background: #ecfdf5;
            padding: 2px 6px;
            border-radius: 10px;
        }
        
        .selection-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-large {
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
        }

        /* ë‹´ë‹¹ì‚¬ì—… ê´€ë¦¬ ë²„íŠ¼ */
        .manage-projects-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .manage-projects-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- ê°œì¸í™”ëœ í—¤ë” ì„¹ì…˜ -->
            <div class="header">
                <div class="header-top">
                    <div class="user-info">
                        <h1>ğŸ‘‹ {{ currentUser.name }}ë‹˜</h1>
                        <p>{{ currentUser.department }} | {{ currentUser.position }} | ë‹´ë‹¹ì‚¬ì—… {{ myProjects.length }}ê°œ</p>
                    </div>
                    <div class="personal-status">
                        <h3>ë‚˜ì˜ ì§„í–‰í˜„í™©</h3>
                        <span class="status-badge">{{ getMyOverallStatus() }}</span>
                    </div>
                </div>
                
                <!-- ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ì„¹ì…˜ -->
                <div class="period-selector">
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <div class="selector-group">
                            <label class="selector-label">ğŸ“… ì—°ë„:</label>
                            <select v-model="selectedYear" @change="loadMyData" class="selector-dropdown">
                                <option value="2024">2024ë…„</option>
                                <option value="2023">2023ë…„</option>
                            </select>
                        </div>
                        <div class="selector-group">
                            <label class="selector-label">ğŸ”„ ì°¨ìˆ˜:</label>
                            <select v-model="selectedRound" @change="loadMyData" class="selector-dropdown">
                                <option value="1">1ì°¨</option>
                                <option value="2">2ì°¨</option>
                                <option value="3">3ì°¨</option>
                                <option value="4">4ì°¨</option>
                            </select>
                        </div>
                    </div>
                    <div style="font-size: 12px; color: #6b7280;">
                        {{ isCurrentPeriod ? 'í˜„ì¬ ì§„í–‰ì¤‘' : 'ê³¼ê±° ë°ì´í„° ì¡°íšŒ' }}
                    </div>
                </div>
            </div>
            
            <!-- í†µê³„ ì¹´ë“œ - 5ê°œë¡œ í™•ì¥ -->
            <div class="personal-stats">
                <div class="personal-stat-card total">
                    <div class="personal-stat-number" style="color: #6366f1;">{{ allDepartmentProjects.length }}</div>
                    <div class="personal-stat-label">ë¶€ì²˜ ì´ ì„¸ë¶€ì‚¬ì—…ìˆ˜</div>
                </div>
                <div class="personal-stat-card assigned">
                    <div class="personal-stat-number" style="color: #10b981;">{{ myProjects.length }}</div>
                    <div class="personal-stat-label">ë‚˜ì˜ ë‹´ë‹¹ ì„¸ë¶€ì‚¬ì—…ìˆ˜</div>
                </div>
                <div class="personal-stat-card completed">
                    <div class="personal-stat-number" style="color: #059669;">{{ getStatusCount('ì œì¶œì™„ë£Œ') + getStatusCount('ê²€í† ì¤‘') + getStatusCount('ê²€í† ì™„ë£Œ') }}</div>
                    <div class="personal-stat-label">ì œì¶œ ì™„ë£Œ</div>
                </div>
                <div class="personal-stat-card inprogress">
                    <div class="personal-stat-number" style="color: #f59e0b;">{{ getStatusCount('ì‘ì„±ì¤‘') + getStatusCount('ì¬ì‘ì„±í•„ìš”') }}</div>
                    <div class="personal-stat-label">ì‘ì„± í•„ìš”</div>
                </div>
                <div class="personal-stat-card deadline">
                    <div class="personal-stat-number" style="color: #ef4444;">D-{{ getDaysToDeadline() }}</div>
                    <div class="personal-stat-label">{{ selectedRound }}ì°¨ ë§ˆê°</div>
                </div>
            </div>
            
            <!-- ë‚´ ì„¸ë¶€ì‚¬ì—… ëª©ë¡ -->
            <div class="my-projects-section">
                <div class="section-header">
                    <h2>ğŸ“ ë‚´ê°€ ë‹´ë‹¹í•œ ì„¸ë¶€ì‚¬ì—… ({{ selectedYear }}ë…„ {{ selectedRound }}ì°¨)</h2>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <!-- ë‹´ë‹¹ì‚¬ì—… ê´€ë¦¬ ë²„íŠ¼ -->
                        <button class="manage-projects-btn" @click="showProjectSelection = true">
                            âš™ï¸ ë‹´ë‹¹ì‚¬ì—… ê´€ë¦¬
                        </button>
                        <div style="font-size: 14px; color: #6b7280;">
                            ë§ˆê°ì¼: {{ getCommonDeadline() }}
                        </div>
                        <!-- ë·° ì „í™˜ ë²„íŠ¼ -->
                        <div class="view-toggle">
                            <button 
                                :class="['view-btn', {active: viewMode === 'card'}]"
                                @click="viewMode = 'card'"
                            >
                                ğŸ´ ì¹´ë“œ
                            </button>
                            <button 
                                :class="['view-btn', {active: viewMode === 'list'}]"
                                @click="viewMode = 'list'"
                            >
                                ğŸ“‹ ëª©ë¡
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- ë‹´ë‹¹ ì‚¬ì—…ì´ ì—†ì„ ë•Œ ì•ˆë‚´ -->
                <div v-if="myProjects.length === 0" style="text-align: center; padding: 40px; color: #6b7280;">
                    <div style="font-size: 48px; margin-bottom: 15px;">ğŸ“‹</div>
                    <h3 style="margin-bottom: 10px;">ë‹´ë‹¹ ì‚¬ì—…ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                    <p style="margin-bottom: 20px;">ìƒë‹¨ì˜ "ë‹´ë‹¹ì‚¬ì—… ê´€ë¦¬" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë‹´ë‹¹í•  ì‚¬ì—…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                    <button class="manage-projects-btn" @click="showProjectSelection = true">
                        âš™ï¸ ë‹´ë‹¹ì‚¬ì—… ì„ íƒí•˜ê¸°
                    </button>
                </div>

                <!-- ì¹´ë“œë·° -->
                <div v-if="viewMode === 'card'" class="projects-grid">
                    <div v-for="project in myProjects" :key="project.id" 
                         :class="getProjectCardClass(project.status)">
                        
                        <!-- ìš°ì„ ìˆœìœ„ í‘œì‹œ -->
                        <div :class="getPriorityClass(project)"></div>
                        
                        <div class="project-header">
                            <span class="project-code">{{ project.code }}</span>
                            <span :class="getStatusBadgeClass(project.status)">{{ project.status }}</span>
                        </div>
                        
                        <div class="project-title">{{ project.name }}</div>
                        
                        <div class="project-meta">
                            <div class="meta-item">
                                <span class="meta-label">ì˜ˆì‚°ì•¡</span>
                                <span class="meta-value">{{ project.budget.toLocaleString() }}ë°±ë§Œì›</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">ë‹´ë‹¹ê¸°ê°„</span>
                                <span class="meta-value">{{ getProjectDuration(project) }}</span>
                            </div>
                            
                            <!-- ì§„í–‰ë¥  í”„ë¡œê·¸ë ˆìŠ¤ë°” -->
                            <div class="progress-item">
                                <div class="progress-header">
                                    <span class="progress-label">ì‘ì„± ì§„í–‰ë¥ </span>
                                    <span class="progress-percentage">{{ project.progress }}%</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div :class="getProgressBarClass(project.status)" 
                                         class="progress-bar-fill"
                                         :style="{width: project.progress + '%'}">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="meta-item">
                                <span class="meta-label">ìµœì¢… ìˆ˜ì •ì¼</span>
                                <span class="meta-value">{{ project.lastModified }}</span>
                            </div>
                        </div>
                        
                        <div class="project-actions">
                            <!-- ì‘ì„±/ìˆ˜ì • ë²„íŠ¼ -->
                            <button 
                                v-if="(project.status === 'ì‘ì„±ì¤‘' || project.status === 'ì¬ì‘ì„±í•„ìš”') && isCurrentPeriod"
                                class="btn btn-primary"
                                @click="editMyProject(project)"
                            >
                                {{ project.status === 'ì¬ì‘ì„±í•„ìš”' ? 'ğŸ”„ ì¬ì‘ì„±' : 'âœï¸ ì‘ì„±' }}
                            </button>
                            
                            <!-- ì œì¶œ ë²„íŠ¼ -->
                            <button 
                                v-if="project.status === 'ì‘ì„±ì¤‘' && project.progress >= 100 && isCurrentPeriod"
                                class="btn btn-success"
                                @click="submitMyProject(project)"
                            >
                                ğŸ“¤ ì œì¶œ
                            </button>
                            
                            <!-- ê²€í† ì˜ê²¬ ë³´ê¸° ë²„íŠ¼ -->
                            <button 
                                v-if="project.status === 'ê²€í† ì™„ë£Œ' || project.status === 'ì¬ì‘ì„±í•„ìš”'"
                                class="btn btn-warning"
                                @click="viewMyReview(project)"
                            >
                                ğŸ“‹ ê²€í† ì˜ê²¬
                            </button>
                            
                            <!-- ìƒì„¸ë³´ê¸° ë²„íŠ¼ -->
                            <button 
                                class="btn btn-secondary"
                                @click="viewMyProject(project)"
                            >
                                ğŸ‘ï¸ ìƒì„¸ë³´ê¸°
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- ëª©ë¡ë·° -->
                <div v-if="viewMode === 'list'">
                    <table class="projects-table">
                        <thead>
                            <tr>
                                <th style="width: 40%;">ì‚¬ì—…ëª…</th>
                                <th style="width: 12%;">ì˜ˆì‚°ì•¡</th>
                                <th style="width: 10%;">ìƒíƒœ</th>
                                <th style="width: 15%;">ì§„í–‰ë¥ </th>
                                <th style="width: 12%;">ìµœì¢…ìˆ˜ì •ì¼</th>
                                <th style="width: 11%;">ì•¡ì…˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="project in myProjects" :key="project.id">
                                <td>
                                    <div class="table-project-title">{{ project.name }}</div>
                                    <div class="table-project-code">{{ project.code }}</div>
                                </td>
                                <td>{{ project.budget.toLocaleString() }}ë°±ë§Œì›</td>
                                <td>
                                    <span :class="getStatusBadgeClass(project.status)">{{ project.status }}</span>
                                </td>
                                <td>
                                    <div class="table-progress">
                                        <div class="table-progress-bar">
                                            <div :class="getProgressBarClass(project.status)" 
                                                 class="table-progress-fill"
                                                 :style="{width: project.progress + '%'}">
                                            </div>
                                        </div>
                                        <span style="font-size: 12px; color: #6b7280;">{{ project.progress }}%</span>
                                    </div>
                                </td>
                                <td>{{ project.lastModified }}</td>
                                <td>
                                    <div class="table-actions">
                                        <!-- ì‘ì„±/ìˆ˜ì • ë²„íŠ¼ -->
                                        <button 
                                            v-if="(project.status === 'ì‘ì„±ì¤‘' || project.status === 'ì¬ì‘ì„±í•„ìš”') && isCurrentPeriod"
                                            class="btn-small btn-primary"
                                            @click="editMyProject(project)"
                                            :title="project.status === 'ì¬ì‘ì„±í•„ìš”' ? 'ì¬ì‘ì„±' : 'ì‘ì„±'"
                                        >
                                            {{ project.status === 'ì¬ì‘ì„±í•„ìš”' ? 'ğŸ”„' : 'âœï¸' }}
                                        </button>
                                        
                                        <!-- ì œì¶œ ë²„íŠ¼ -->
                                        <button 
                                            v-if="project.status === 'ì‘ì„±ì¤‘' && project.progress >= 100 && isCurrentPeriod"
                                            class="btn-small btn-success"
                                            @click="submitMyProject(project)"
                                            title="ì œì¶œ"
                                        >
                                            ğŸ“¤
                                        </button>
                                        
                                        <!-- ê²€í† ì˜ê²¬ ë³´ê¸° ë²„íŠ¼ -->
                                        <button 
                                            v-if="project.status === 'ê²€í† ì™„ë£Œ' || project.status === 'ì¬ì‘ì„±í•„ìš”'"
                                            class="btn-small btn-warning"
                                            @click="viewMyReview(project)"
                                            title="ê²€í† ì˜ê²¬"
                                        >
                                            ğŸ“‹
                                        </button>
                                        
                                        <!-- ìƒì„¸ë³´ê¸° ë²„íŠ¼ -->
                                        <button 
                                            class="btn-small btn-secondary"
                                            @click="viewMyProject(project)"
                                            title="ìƒì„¸ë³´ê¸°"
                                        >
                                            ğŸ‘ï¸
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- í•˜ë‹¨ 2ì»¬ëŸ¼ ì •ë³´ ì„¹ì…˜ë§Œ ë‚¨ê¹€ -->
            <div class="bottom-info-section">
                <!-- ì™¼ìª½: ê³µì§€ì‚¬í•­ -->
                <div class="info-card">
                    <h3 style="display: flex; align-items: center;">
                        ğŸ“¢ ê³µì§€ì‚¬í•­
                    </h3>
                    <ul class="info-list">
                        <li v-for="notice in notices" :key="notice.id" class="info-item" @click="viewNotice(notice)">
                            <div class="info-title">{{ notice.title }}</div>
                            <div class="info-meta">
                                <span>{{ notice.date }}</span>
                                <span v-if="notice.important" class="info-badge" style="background: #ef4444;">ì¤‘ìš”</span>
                                <span v-else class="info-badge" style="background: #6366f1;">ì¼ë°˜</span>
                            </div>
                        </li>
                    </ul>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn btn-secondary" @click="viewAllNotices()">
                            ê³µì§€ì‚¬í•­ ì „ì²´ë³´ê¸°
                        </button>
                    </div>
                </div>
                
                <!-- ì˜¤ë¥¸ìª½: ë‚˜ì—ê²Œ ì˜¨ ì•Œë¦¼ -->
                <div class="info-card">
                    <h3 style="display: flex; align-items: center;">
                        ğŸ“® ë‚˜ì—ê²Œ ì˜¨ ì•Œë¦¼
                    </h3>
                    <ul class="info-list">
                        <li v-for="alert in myAlerts" :key="alert.id" class="info-item" @click="viewMyAlert(alert)">
                            <div class="info-title">{{ alert.title }}</div>
                            <div class="info-meta">
                                <span>{{ alert.date }}</span>
                                <span v-if="!alert.read" class="info-badge" style="background: #10b981;">ìƒˆì•Œë¦¼</span>
                                <span v-else class="info-badge" style="background: #6b7280;">ì½ìŒ</span>
                            </div>
                        </li>
                    </ul>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn btn-secondary" @click="viewAllAlerts()">
                            ë‚´ ì•Œë¦¼ ì „ì²´ë³´ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ë‹´ë‹¹ì‚¬ì—… ì„ íƒ ëª¨ë‹¬ -->
        <div v-if="showProjectSelection" class="project-selection-modal" @click="closeProjectSelection">
            <div class="project-selection-content" @click.stop>
                <div class="selection-header">
                    <div>
                        <h3 class="selection-title">ë‹´ë‹¹ ì„¸ë¶€ì‚¬ì—… ì„ íƒ</h3>
                        <p style="color: #6b7280; font-size: 14px;">{{ currentUser.department }} ì „ì²´ ì„¸ë¶€ì‚¬ì—… ëª©ë¡</p>
                    </div>
                    <button class="selection-close" @click="closeProjectSelection">&times;</button>
                </div>
                
                <div class="selection-info">
                    <div style="color: #0369a1; font-weight: bold; margin-bottom: 5px;">ğŸ“‹ ì•ˆë‚´ì‚¬í•­</div>
                    <div style="color: #0369a1; font-size: 14px;">
                        â€¢ ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ì—¬ ë‹´ë‹¹í•  ì„¸ë¶€ì‚¬ì—…ì„ ì§€ì •í•˜ì„¸ìš”<br>
                        â€¢ ì´ë¯¸ ë‹¤ë¥¸ ë‹´ë‹¹ìê°€ ì„ íƒí•œ ì‚¬ì—…ì€ ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>
                        â€¢ ì„ íƒì„ ì™„ë£Œí•˜ë©´ "ë‚´ê°€ ë‹´ë‹¹í•œ ì„¸ë¶€ì‚¬ì—…"ì— ì¶”ê°€ë©ë‹ˆë‹¤
                    </div>
                </div>
                
                <table class="selection-table">
                    <thead>
                        <tr>
                            <th style="width: 8%;">ì„ íƒ</th>
                            <th style="width: 40%;">ì‚¬ì—…ëª…</th>
                            <th style="width: 15%;">ì˜ˆì‚°ì•¡</th>
                            <th style="width: 12%;">í˜„ì¬ ìƒíƒœ</th>
                            <th style="width: 15%;">í˜„ì¬ ë‹´ë‹¹ì</th>
                            <th style="width: 10%;">ì§„í–‰ë¥ </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="project in allDepartmentProjects" :key="project.id">
                            <td>
                                <input 
                                    type="checkbox" 
                                    class="selection-checkbox"
                                    :checked="isMyProject(project.id)"
                                    @change="toggleProjectSelection(project.id, $event)"
                                >
                            </td>
                            <td>
                                <div class="project-name-cell">{{ project.name }}</div>
                                <div class="project-code-cell">{{ project.code }}</div>
                            </td>
                            <td>{{ project.budget.toLocaleString() }}ë°±ë§Œì›</td>
                            <td>
                                <span :class="getStatusBadgeClass(project.status)">{{ project.status }}</span>
                            </td>
                            <td>
                                <span v-if="project.assignee" class="current-assignee">{{ project.assignee }}</span>
                                <span v-else style="color: #9ca3af;">ë¯¸ë°°ì •</span>
                            </td>
                            <td>{{ project.progress }}%</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="selection-buttons">
                    <button class="btn btn-success btn-large" @click="saveProjectSelection()">
                        ğŸ’¾ ì„ íƒ ì‚¬í•­ ì €ì¥
                    </button>
                    <button class="btn btn-secondary btn-large" @click="closeProjectSelection()">
                        ì·¨ì†Œ
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const { createApp, ref, computed } = Vue;
        
        createApp({
            setup() {
                // í˜„ì¬ ì‚¬ìš©ì ì •ë³´
                const currentUser = ref({
                    name: 'ì´ì˜í¬',
                    department: 'êµ­í† êµí†µë¶€ ë„ì‹œê³„íšê³¼',
                    position: 'ì£¼ë¬´ê´€'
                });
                
                // ì„ íƒëœ ì—°ë„/ì°¨ìˆ˜
                const selectedYear = ref('2024');
                const selectedRound = ref('1');
                
                // ë·° ëª¨ë“œ ìƒíƒœ
                const viewMode = ref('card');
                
                // ëª¨ë‹¬ ìƒíƒœ
                const showProjectSelection = ref(false);
                
                // í˜„ì¬ ê¸°ê°„ ì—¬ë¶€
                const isCurrentPeriod = computed(() => {
                    return selectedYear.value === '2024' && selectedRound.value === '1';
                });
                
                // ë¶€ì²˜ ì „ì²´ ì„¸ë¶€ì‚¬ì—… ëª©ë¡
                const allDepartmentProjects = ref([
                    {
                        id: 1,
                        code: 'KT2024-001',
                        name: 'ìŠ¤ë§ˆíŠ¸ì‹œí‹° ì¸í”„ë¼ êµ¬ì¶• ì‚¬ì—…',
                        budget: 15000,
                        status: 'ì‘ì„±ì¤‘',
                        progress: 85,
                        assignee: 'ì´ì˜í¬',
                        lastModified: '2024-12-20',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 2,
                        code: 'KT2024-002',
                        name: 'ì¹œí™˜ê²½ ëŒ€ì¤‘êµí†µ í™•ì¶©',
                        budget: 28000,
                        status: 'ì‘ì„±ì¤‘',
                        progress: 60,
                        assignee: 'ë°•ì² ìˆ˜',
                        lastModified: '2024-12-18',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 3,
                        code: 'KT2024-003',
                        name: 'ë„ì‹œê³µì› ë…¹ì§€ í™•ëŒ€',
                        budget: 8500,
                        status: 'ì¬ì‘ì„±í•„ìš”',
                        progress: 100,
                        assignee: 'ì´ì˜í¬',
                        lastModified: '2024-12-18',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 4,
                        code: 'KT2024-004',
                        name: 'ê±´ë¬¼ ì—ë„ˆì§€íš¨ìœ¨ ê°œì„ ',
                        budget: 12000,
                        status: 'ë¯¸ë°°ì •',
                        progress: 0,
                        assignee: '',
                        lastModified: '-',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 5,
                        code: 'KT2024-005',
                        name: 'ì¬ìƒì—ë„ˆì§€ ë°œì „ì†Œ ê±´ì„¤',
                        budget: 45000,
                        status: 'ë¯¸ë°°ì •',
                        progress: 0,
                        assignee: '',
                        lastModified: '-',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 6,
                        code: 'KT2024-006',
                        name: 'ê·¸ë¦°ë¹Œë”© ì¸ì¦ ì§€ì›',
                        budget: 7200,
                        status: 'ì‘ì„±ì¤‘',
                        progress: 30,
                        assignee: 'ì •ë¯¼ìˆ˜',
                        lastModified: '2024-12-19',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 7,
                        code: 'KT2024-007',
                        name: 'ì¹œí™˜ê²½ ê±´ì¶•ë¬¼ ì¸ì¦ ì§€ì›',
                        budget: 4200,
                        status: 'ì œì¶œì™„ë£Œ',
                        progress: 100,
                        assignee: 'ì´ì˜í¬',
                        lastModified: '2024-12-15',
                        deadline: '2024-12-31'
                    }
                ]);
                
                // ë‚´ê°€ ì„ íƒí•œ ì‚¬ì—… ID ëª©ë¡
                const myProjectIds = ref([1, 3, 7]);
                
                // ë‚´ê°€ ë‹´ë‹¹í•œ ì„¸ë¶€ì‚¬ì—… (computedë¡œ í•„í„°ë§)
                const myProjects = computed(() => {
                    return allDepartmentProjects.value.filter(project => 
                        myProjectIds.value.includes(project.id)
                    );
                });
                
                // ë‚´ í†µê³„ (computed ìˆ˜ì •)
                const myStats = computed(() => {
                    const projects = myProjects.value; // computedë¼ì„œ .value ì‚¬ìš©
                    const completed = projects.filter(p => 
                        p.status === 'ì œì¶œì™„ë£Œ' || p.status === 'ê²€í† ì¤‘' || p.status === 'ê²€í† ì™„ë£Œ'
                    ).length;
                    const inprogress = projects.filter(p => 
                        p.status === 'ì‘ì„±ì¤‘' || p.status === 'ì¬ì‘ì„±í•„ìš”'
                    ).length;
                    
                    return { completed, inprogress };
                });
                
                // ê³µì§€ì‚¬í•­ ë°ì´í„°
                const notices = ref([
                    {
                        id: 1,
                        title: '2024ë…„ 1ì°¨ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ ì œì¶œ ë§ˆê° ì•ˆë‚´',
                        date: '2024-12-21',
                        important: true
                    },
                    {
                        id: 2,
                        title: 'ì„¸ë¶€ì‚¬ì—… ì‘ì„± ì‹œ CO2 ê°ì¶•ëŸ‰ ì‚°ì • ê°€ì´ë“œë¼ì¸ ì—…ë°ì´íŠ¸',
                        date: '2024-12-20',
                        important: true
                    },
                    {
                        id: 3,
                        title: 'í™˜ê²½ê³µë‹¨ ê²€í†  ê¸°ì¤€ ë³€ê²½ ì‚¬í•­ ì•ˆë‚´',
                        date: '2024-12-18',
                        important: false
                    },
                    {
                        id: 4,
                        title: 'ì„¸ë¶€ì‚¬ì—… ì‘ì„± ê´€ë ¨ ì˜¨ë¼ì¸ êµìœ¡ ì‹¤ì‹œ ì•ˆë‚´',
                        date: '2024-12-15',
                        important: false
                    },
                    {
                        id: 5,
                        title: '2ì°¨ ì œì¶œ ì¼ì • ì‚¬ì „ ê³µì§€',
                        date: '2024-12-12',
                        important: false
                    }
                ]);
                
                // ë‚˜ì—ê²Œ ì˜¨ ê°œì¸ ì•Œë¦¼
                const myAlerts = ref([
                    {
                        id: 1,
                        title: 'ìŠ¤ë§ˆíŠ¸ì‹œí‹° ì‚¬ì—… ê²€í†  ì˜ê²¬ ë„ì°©',
                        date: '2024-12-21',
                        read: false
                    },
                    {
                        id: 2,
                        title: '1ì°¨ ì œì¶œ ë§ˆê°ì¼ ì•ˆë‚´ (12ì›” 31ì¼)',
                        date: '2024-12-20',
                        read: true
                    },
                    {
                        id: 3,
                        title: 'CO2 ê°ì¶•ëŸ‰ ì‚°ì • ê°€ì´ë“œ ì—…ë°ì´íŠ¸',
                        date: '2024-12-18',
                        read: true
                    },
                    {
                        id: 4,
                        title: 'ì¹œí™˜ê²½ ê±´ì¶•ë¬¼ ì¸ì¦ ì§€ì› ì‚¬ì—… ìŠ¹ì¸ ì™„ë£Œ',
                        date: '2024-12-16',
                        read: true
                    },
                    {
                        id: 5,
                        title: 'ë„ì‹œê³µì› ë…¹ì§€ í™•ëŒ€ ì‚¬ì—… ì¬ì‘ì„± ìš”ì²­',
                        date: '2024-12-15',
                        read: true
                    }
                ]);
                
                // ì „ë°˜ì ì¸ ë‚˜ì˜ ìƒíƒœ
                const getMyOverallStatus = () => {
                    const total = myProjects.value.length; // computedë¼ì„œ .value ì‚¬ìš©
                    const completed = myStats.value.completed;
                    
                    if (completed === total) return 'ëª¨ë“  ì‚¬ì—… ì™„ë£Œ';
                    if (completed > total / 2) return 'ìˆœì¡°ë¡­ê²Œ ì§„í–‰ì¤‘';
                    return 'ì‘ì—… í•„ìš”';
                };
                
                // ë§ˆê°ê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜ (D-day í˜•ì‹)
                const getDaysToDeadline = () => {
                    if (!isCurrentPeriod.value) return 'ì™„ë£Œ';
                    const today = new Date();
                    const deadline = new Date('2024-12-31');
                    const diffTime = deadline - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    if (diffDays > 0) return diffDays;
                    if (diffDays === 0) return 'ì˜¤ëŠ˜';
                    return 'ì§€ë‚¨';
                };
                
                // ìƒíƒœë³„ ê°œìˆ˜ ê³„ì‚°
                const getStatusCount = (status) => {
                    return myProjects.value.filter(p => p.status === status).length;
                };
                
                // ê³µí†µ ë§ˆê°ì¼
                const getCommonDeadline = () => {
                    if (!isCurrentPeriod.value) return 'ì™„ë£Œë¨';
                    return '2024ë…„ 12ì›” 31ì¼ (í™”)';
                };
                
                // í”„ë¡œì íŠ¸ ê¸°ê°„
                const getProjectDuration = (project) => {
                    return '11ì›”~12ì›”';
                };
                
                // ì§„í–‰ë¥  í”„ë¡œê·¸ë ˆìŠ¤ë°” í´ë˜ìŠ¤
                const getProgressBarClass = (status) => {
                    const statusMap = {
                        'ì‘ì„±ì¤‘': 'progress-writing',
                        'ì œì¶œì™„ë£Œ': 'progress-submitted',
                        'ê²€í† ì¤‘': 'progress-reviewing',
                        'ì¬ì‘ì„±í•„ìš”': 'progress-revision'
                    };
                    return statusMap[status] || 'progress-writing';
                };
                
                // ìš°ì„ ìˆœìœ„ í´ë˜ìŠ¤
                const getPriorityClass = (project) => {
                    const today = new Date();
                    const deadline = new Date(project.deadline);
                    const daysLeft = Math.ceil((deadline - today) / (1000 * 60 * 60 * 24));
                    
                    if (project.status === 'ì¬ì‘ì„±í•„ìš”') return 'priority-indicator priority-urgent';
                    if (project.progress < 50 && daysLeft <= 7) return 'priority-indicator priority-attention';
                    return 'priority-indicator priority-normal';
                };
                
                // í”„ë¡œì íŠ¸ ì¹´ë“œ í´ë˜ìŠ¤
                const getProjectCardClass = (status) => {
                    const baseClass = 'project-card';
                    const statusMap = {
                        'ì‘ì„±ì¤‘': 'writing',
                        'ì œì¶œì™„ë£Œ': 'submitted',
                        'ê²€í† ì¤‘': 'reviewing',
                        'ì¬ì‘ì„±í•„ìš”': 'revision'
                    };
                    return `${baseClass} ${statusMap[status] || ''}`;
                };
                
                // ìƒíƒœ ë°°ì§€ í´ë˜ìŠ¤
                const getStatusBadgeClass = (status) => {
                    const statusMap = {
                        'ì‘ì„±ì¤‘': 'status-badge status-writing',
                        'ì œì¶œì™„ë£Œ': 'status-badge status-submitted',
                        'ê²€í† ì¤‘': 'status-badge status-reviewing',
                        'ì¬ì‘ì„±í•„ìš”': 'status-badge status-revision',
                        'ë¯¸ë°°ì •': 'status-badge status-writing'
                    };
                    return statusMap[status] || 'status-badge';
                };
                
                // ë§ˆê°ì¼ê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜
                const getDaysUntilDeadline = (project) => {
                    const today = new Date();
                    const deadline = new Date(project.deadline);
                    const diffTime = deadline - today;
                    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                };
                
                // ë‚´ í”„ë¡œì íŠ¸ì¸ì§€ í™•ì¸
                const isMyProject = (projectId) => {
                    return myProjectIds.value.includes(projectId);
                };
                
                // í”„ë¡œì íŠ¸ ì„ íƒ/í•´ì œ í† ê¸€
                const toggleProjectSelection = (projectId, event) => {
                    if (event.target.checked) {
                        if (!myProjectIds.value.includes(projectId)) {
                            myProjectIds.value.push(projectId);
                            const project = allDepartmentProjects.value.find(p => p.id === projectId);
                            if (project) {
                                project.assignee = currentUser.value.name;
                                if (project.status === 'ë¯¸ë°°ì •') {
                                    project.status = 'ì‘ì„±ì¤‘';
                                }
                            }
                        }
                    } else {
                        const index = myProjectIds.value.indexOf(projectId);
                        if (index > -1) {
                            myProjectIds.value.splice(index, 1);
                            const project = allDepartmentProjects.value.find(p => p.id === projectId);
                            if (project && project.assignee === currentUser.value.name) {
                                project.assignee = '';
                                project.status = 'ë¯¸ë°°ì •';
                                project.progress = 0;
                            }
                        }
                    }
                };
                
                // ì„ íƒì‚¬í•­ ì €ì¥
                const saveProjectSelection = () => {
                    const selectedCount = myProjectIds.value.length;
                    alert(`ë‹´ë‹¹ ì‚¬ì—… ì„ íƒì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì„ íƒëœ ì‚¬ì—…: ${selectedCount}ê°œ`);
                    closeProjectSelection();
                };
                
                // ëª¨ë‹¬ ë‹«ê¸°
                const closeProjectSelection = () => {
                    showProjectSelection.value = false;
                };
                
                // ë°ì´í„° ë¡œë“œ
                const loadMyData = () => {
                    console.log(`${selectedYear.value}ë…„ ${selectedRound.value}ì°¨ ê°œì¸ ë°ì´í„° ë¡œë“œ`);
                };
                
                // ë‚´ í”„ë¡œì íŠ¸ í¸ì§‘
                const editMyProject = (project) => {
                    alert(`${project.name} ì‘ì„±ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n\ní˜„ì¬ ì§„í–‰ë¥ : ${project.progress}%`);
                };
                
                // ë‚´ í”„ë¡œì íŠ¸ ì œì¶œ
                const submitMyProject = (project) => {
                    if (confirm(`${project.name}ì„(ë¥¼) ì œì¶œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì œì¶œ í›„ì—ëŠ” ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.`)) {
                        project.status = 'ì œì¶œì™„ë£Œ';
                        project.lastModified = new Date().toISOString().split('T')[0];
                        alert('ì œì¶œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. í™˜ê²½ê³µë‹¨ ê²€í† ë¥¼ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.');
                    }
                };
                
                // ë‚´ ê²€í† ì˜ê²¬ ë³´ê¸°
                const viewMyReview = (project) => {
                    alert(`ê²€í† ì˜ê²¬\n\nê²€í† ì: í™˜ê²½ê³µë‹¨ ê¹€ê²€í† \nì˜ê²¬: CO2 ê°ì¶•ëŸ‰ ì‚°ì • ê·¼ê±° ë³´ì™„ í•„ìš”`);
                };
                
                // ë‚´ í”„ë¡œì íŠ¸ ìƒì„¸ë³´ê¸°
                const viewMyProject = (project) => {
                    alert(`${project.name} ìƒì„¸ ì •ë³´\n\nì§„í–‰ë¥ : ${project.progress}%\nìƒíƒœ: ${project.status}\në§ˆê°ì¼: ${project.deadline}`);
                };
                
                // ê³µì§€ì‚¬í•­ ê´€ë ¨ í•¨ìˆ˜
                const viewNotice = (notice) => {
                    alert(`ê³µì§€ì‚¬í•­\n\nì œëª©: ${notice.title}\nì‘ì„±ì¼: ${notice.date}\n\nìì„¸í•œ ë‚´ìš©ì€ ê³µì§€ì‚¬í•­ ì „ì²´ë³´ê¸°ì—ì„œ í™•ì¸í•˜ì„¸ìš”.`);
                };
                
                const viewAllNotices = () => {
                    alert('ê³µì§€ì‚¬í•­ ì „ì²´ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                };
                
                // ê°œì¸ ì•Œë¦¼ ê´€ë ¨ í•¨ìˆ˜
                const viewMyAlert = (alert) => {
                    alert.read = true;
                    alert(`ë‚´ ì•Œë¦¼\n\nì œëª©: ${alert.title}\në‚ ì§œ: ${alert.date}\n\nê´€ë ¨ ì‚¬ì—…ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.`);
                };
                
                const viewAllAlerts = () => {
                    alert('ë‚´ ì•Œë¦¼ ì „ì²´ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                };
                
                return {
                    currentUser,
                    selectedYear,
                    selectedRound,
                    isCurrentPeriod,
                    viewMode,
                    showProjectSelection,
                    allDepartmentProjects,
                    myProjectIds,
                    myProjects,
                    myStats,
                    notices,
                    myAlerts,
                    getMyOverallStatus,
                    getDaysToDeadline,
                    getStatusCount,
                    getCommonDeadline,
                    getProjectDuration,
                    getProgressBarClass,
                    getPriorityClass,
                    getProjectCardClass,
                    getStatusBadgeClass,
                    getDaysUntilDeadline,
                    isMyProject,
                    toggleProjectSelection,
                    saveProjectSelection,
                    closeProjectSelection,
                    loadMyData,
                    editMyProject,
                    submitMyProject,
                    viewMyReview,
                    viewMyProject,
                    viewNotice,
                    viewAllNotices,
                    viewMyAlert,
                    viewAllAlerts
                };
            }
        }).mount('#app');
    </script>
</body>
</html> 