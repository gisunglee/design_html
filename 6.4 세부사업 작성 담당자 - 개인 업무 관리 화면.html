<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÑ∏Î∂ÄÏÇ¨ÏóÖ ÏûëÏÑ± Îã¥ÎãπÏûê - Í∞úÏù∏ ÏóÖÎ¨¥ Í¥ÄÎ¶¨</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Í∞úÏù∏ÌôîÎêú Ìó§Îçî ÏÑπÏÖò */
        .header {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .user-info h1 {
            color: #6366f1;
            font-size: 26px;
            margin-bottom: 5px;
        }
        
        .user-info p {
            color: #6b7280;
            font-size: 14px;
        }
        
        .personal-status {
            background: #eef2ff;
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .personal-status h3 {
            color: #6366f1;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .personal-status .status-badge {
            background: #10b981;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù ÏÑπÏÖò - Ïª¥Ìå©Ìä∏ Î≤ÑÏ†Ñ */
        .period-selector {
            background: #f8fafc;
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .selector-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .selector-label {
            font-weight: bold;
            color: #6366f1;
            font-size: 14px;
        }
        
        .selector-dropdown {
            padding: 6px 10px;
            border: 2px solid #6366f1;
            border-radius: 6px;
            font-weight: bold;
            color: #6366f1;
            background: white;
            min-width: 80px;
        }
        
        /* Í∞úÏù∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏïàÎÇ¥ - Í∞úÏÑ† */
        .workflow-section {
            background: #ecfdf5;
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
        }
        
        .workflow-title {
            color: #065f46;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .workflow-title::before {
            content: "üîÑ";
            margin-right: 8px;
        }
        
        .workflow-progress-info {
            font-size: 12px;
            color: #065f46;
            background: rgba(255, 255, 255, 0.7);
            padding: 4px 8px;
            border-radius: 12px;
        }
        
        .workflow-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 8px;
            background: white;
            border-radius: 8px;
            min-width: 110px;
            position: relative;
            border: 2px solid transparent;
        }
        
        .workflow-step.active {
            background: #6366f1;
            color: white;
            border-color: #4f46e5;
        }
        
        .workflow-step.completed {
            background: #10b981;
            color: white;
            border-color: #059669;
        }
        
        .step-number {
            background: #e5e7eb;
            color: #374151;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 6px;
        }
        
        .workflow-step.active .step-number {
            background: white;
            color: #6366f1;
        }
        
        .workflow-step.completed .step-number {
            background: white;
            color: #10b981;
        }
        
        .step-label {
            font-size: 11px;
            text-align: center;
            font-weight: bold;
            line-height: 1.2;
        }
        
        .step-count {
            font-size: 9px;
            margin-top: 2px;
            opacity: 0.8;
        }
        
        /* Í∞úÏù∏ ÌÜµÍ≥Ñ - 5Í∞ú Ïπ¥Îìú ÎåÄÏùë */
        .personal-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .personal-stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 4px solid;
            transition: transform 0.3s ease;
        }
        
        .personal-stat-card:hover {
            transform: translateY(-2px);
        }
        
        .personal-stat-card.total { border-left-color: #6366f1; }
        .personal-stat-card.assigned { border-left-color: #10b981; }
        .personal-stat-card.completed { border-left-color: #059669; }
        .personal-stat-card.inprogress { border-left-color: #f59e0b; }
        .personal-stat-card.deadline { border-left-color: #ef4444; }
        
        .personal-stat-number {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .personal-stat-label {
            color: #6b7280;
            font-size: 13px;
            font-weight: 500;
        }
        
        /* ÎÇ¥ ÏÑ∏Î∂ÄÏÇ¨ÏóÖ Î™©Î°ù - Ïπ¥Îìú ÌòïÌÉú */
        .my-projects-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-header h2 {
            color: #6366f1;
            font-size: 20px;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .project-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .project-card.writing {
            border-color: #f59e0b;
            background: #fffbeb;
        }
        
        .project-card.submitted {
            border-color: #10b981;
            background: #ecfdf5;
        }
        
        .project-card.reviewing {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        
        .project-card.revision {
            border-color: #ef4444;
            background: #fef2f2;
        }
        
        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .project-code {
            background: #f3f4f6;
            color: #374151;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .project-title {
            font-size: 16px;
            font-weight: bold;
            color: #374151;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .project-meta {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
            padding: 8px 0;
        }
        
        .meta-label {
            color: #6b7280;
            font-size: 12px;
            margin-bottom: 3px;
        }
        
        .meta-value {
            font-weight: bold;
            color: #374151;
        }
        
        /* ÏßÑÌñâÎ•† ÌîÑÎ°úÍ∑∏Î†àÏä§Î∞î Ï∂îÍ∞Ä */
        .progress-item {
            display: flex;
            flex-direction: column;
            grid-column: 1 / -1;
            padding: 8px 0;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .progress-label {
            color: #6b7280;
            font-size: 12px;
        }
        
        .progress-percentage {
            font-weight: bold;
            color: #374151;
            font-size: 12px;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .progress-writing {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }
        
        .progress-submitted {
            background: linear-gradient(90deg, #10b981, #059669);
        }
        
        .progress-reviewing {
            background: linear-gradient(90deg, #3b82f6, #2563eb);
        }
        
        .progress-revision {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }
        
        /* ÏÉÅÌÉúÎ≥Ñ Ïö∞ÏÑ†ÏàúÏúÑ ÌëúÏãú */
        .priority-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .priority-urgent {
            background: #ef4444;
            animation: pulse-urgent 2s infinite;
        }
        
        .priority-normal {
            background: #10b981;
        }
        
        .priority-attention {
            background: #f59e0b;
            animation: pulse-attention 3s infinite;
        }
        
        @keyframes pulse-urgent {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes pulse-attention {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .project-actions {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #6366f1;
            color: white;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.8;
            transform: translateY(-1px);
        }
        
        /* ÌïòÎã® Ï†ïÎ≥¥ ÏÑπÏÖò - Í∞úÏù∏Ìôî */
        .bottom-info-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .info-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .info-card h3 {
            color: #6366f1;
            font-size: 16px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 8px;
        }
        
        .info-card h3::before {
            margin-right: 8px;
        }
        
        .my-notices h3::before {
            content: "üìÆ";
        }
        
        .my-resources h3::before {
            content: "üìã";
        }
        
        .info-list {
            list-style: none;
        }
        
        .info-item {
            padding: 10px 0;
            border-bottom: 1px solid #f3f4f6;
            font-size: 14px;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-item:hover {
            background: #f9fafb;
            margin: 0 -10px;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .info-title {
            color: #374151;
            font-weight: 500;
            margin-bottom: 3px;
        }
        
        .info-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #6b7280;
        }
        
        .info-badge {
            background: #6366f1;
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: bold;
        }
        
        /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .workflow-steps {
                flex-direction: column;
            }
            
            .personal-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
            
            .bottom-info-section {
                grid-template-columns: 1fr;
            }
        }

        /* Í∞úÏù∏ ÌòÑÌô© ÏöîÏïΩÎßå ÎÇ®Í∏∞Í≥† ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏÑπÏÖò Ï†úÍ±∞ */
        .status-summary-section {
            background: #ecfdf5;
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .summary-title {
            color: #065f46;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .summary-title::before {
            content: "üìä";
            margin-right: 8px;
        }
        
        /* Ïã¨ÌîåÌïú ÏÉÅÌÉú Í∞úÏöî */
        .simple-status-overview {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .simple-status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .status-dot.writing { background: #f59e0b; }
        .status-dot.submitted { background: #10b981; }
        .status-dot.reviewing { background: #3b82f6; }
        .status-dot.revision { background: #ef4444; }
        .status-dot.completed { background: #8b5cf6; }
        
        .status-text {
            color: #374151;
            font-weight: 500;
        }
        
        /* Ï†ÑÏ≤¥ ÏßÑÌñâÎ•† Î∞îÎßå ÎÇ®ÍπÄ */
        .overall-progress {
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .progress-title {
            font-weight: bold;
            color: #374151;
            font-size: 14px;
        }
        
        .progress-percentage {
            font-weight: bold;
            color: #10b981;
            font-size: 16px;
        }
        
        .progress-bar-large {
            width: 100%;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill-large {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            border-radius: 10px;
            transition: width 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        /* Î∑∞ Ï†ÑÌôò Î≤ÑÌäº Ïä§ÌÉÄÏùº */
        .view-toggle {
            display: flex;
            background: #f3f4f6;
            border-radius: 8px;
            padding: 4px;
        }
        
        .view-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: transparent;
            color: #6b7280;
        }
        
        .view-btn.active {
            background: #6366f1;
            color: white;
        }
        
        .view-btn:hover {
            background: #e5e7eb;
        }
        
        .view-btn.active:hover {
            background: #5856eb;
        }

        /* Î™©Î°ùÎ∑∞ ÌÖåÏù¥Î∏î Ïä§ÌÉÄÏùº */
        .projects-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .projects-table th,
        .projects-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .projects-table th {
            background: #f9fafb;
            font-weight: bold;
            color: #374151;
            font-size: 14px;
        }
        
        .projects-table tr:hover {
            background: #f9fafb;
        }
        
        .table-project-title {
            font-weight: bold;
            color: #374151;
            margin-bottom: 3px;
        }
        
        .table-project-code {
            font-size: 12px;
            color: #6b7280;
        }
        
        .table-progress {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .table-progress-bar {
            width: 60px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .table-progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .table-actions {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
        }
        
        .btn-small {
            padding: 4px 8px;
            border: none;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Îã¥ÎãπÏÇ¨ÏóÖ ÏÑ†ÌÉù Î™®Îã¨ Ïä§ÌÉÄÏùº */
        .project-selection-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .project-selection-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 800px;
            width: 95%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .selection-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .selection-title {
            color: #6366f1;
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .selection-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }
        
        .selection-info {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .selection-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .selection-table th,
        .selection-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .selection-table th {
            background: #f9fafb;
            font-weight: bold;
            color: #374151;
        }
        
        .selection-table tr:hover {
            background: #f9fafb;
        }
        
        .selection-checkbox {
            width: 18px;
            height: 18px;
            accent-color: #6366f1;
        }
        
        .project-name-cell {
            font-weight: bold;
            color: #374151;
        }
        
        .project-code-cell {
            font-size: 12px;
            color: #6b7280;
            margin-top: 3px;
        }
        
        .current-assignee {
            font-size: 12px;
            color: #059669;
            background: #ecfdf5;
            padding: 2px 6px;
            border-radius: 10px;
        }
        
        .selection-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-large {
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
        }

        /* Îã¥ÎãπÏÇ¨ÏóÖ Í¥ÄÎ¶¨ Î≤ÑÌäº */
        .manage-projects-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .manage-projects-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- Í∞úÏù∏ÌôîÎêú Ìó§Îçî ÏÑπÏÖò -->
            <div class="header">
                <div class="header-top">
                    <div class="user-info">
                        <h1>üëã {{ currentUser.name }}Îãò</h1>
                        <p>{{ currentUser.department }} | {{ currentUser.position }} | Îã¥ÎãπÏÇ¨ÏóÖ {{ myProjects.length }}Í∞ú</p>
                    </div>
                    <div class="personal-status">
                        <h3>ÎÇòÏùò ÏßÑÌñâÌòÑÌô©</h3>
                        <span class="status-badge">{{ getMyOverallStatus() }}</span>
                    </div>
                </div>
                
                <!-- Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù ÏÑπÏÖò -->
                <div class="period-selector">
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <div class="selector-group">
                            <label class="selector-label">üìÖ Ïó∞ÎèÑ:</label>
                            <select v-model="selectedYear" @change="loadMyData" class="selector-dropdown">
                                <option value="2024">2024ÎÖÑ</option>
                                <option value="2023">2023ÎÖÑ</option>
                            </select>
                        </div>
                        <div class="selector-group">
                            <label class="selector-label">üîÑ Ï∞®Ïàò:</label>
                            <select v-model="selectedRound" @change="loadMyData" class="selector-dropdown">
                                <option value="1">1Ï∞®</option>
                                <option value="2">2Ï∞®</option>
                                <option value="3">3Ï∞®</option>
                                <option value="4">4Ï∞®</option>
                            </select>
                        </div>
                    </div>
                    <div style="font-size: 12px; color: #6b7280;">
                        {{ isCurrentPeriod ? 'ÌòÑÏû¨ ÏßÑÌñâÏ§ë' : 'Í≥ºÍ±∞ Îç∞Ïù¥ÌÑ∞ Ï°∞Ìöå' }}
                    </div>
                </div>
            </div>
            
            <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú - 5Í∞úÎ°ú ÌôïÏû• -->
            <div class="personal-stats">
                <div class="personal-stat-card total">
                    <div class="personal-stat-number" style="color: #6366f1;">{{ allDepartmentProjects.length }}</div>
                    <div class="personal-stat-label">Î∂ÄÏ≤ò Ï¥ù ÏÑ∏Î∂ÄÏÇ¨ÏóÖÏàò</div>
                </div>
                <div class="personal-stat-card assigned">
                    <div class="personal-stat-number" style="color: #10b981;">{{ myProjects.length }}</div>
                    <div class="personal-stat-label">ÎÇòÏùò Îã¥Îãπ ÏÑ∏Î∂ÄÏÇ¨ÏóÖÏàò</div>
                </div>
                <div class="personal-stat-card completed">
                    <div class="personal-stat-number" style="color: #059669;">{{ getStatusCount('Ï†úÏ∂úÏôÑÎ£å') + getStatusCount('Í≤ÄÌÜ†Ï§ë') + getStatusCount('Í≤ÄÌÜ†ÏôÑÎ£å') }}</div>
                    <div class="personal-stat-label">Ï†úÏ∂ú ÏôÑÎ£å</div>
                </div>
                <div class="personal-stat-card inprogress">
                    <div class="personal-stat-number" style="color: #f59e0b;">{{ getStatusCount('ÏûëÏÑ±Ï§ë') + getStatusCount('Ïû¨ÏûëÏÑ±ÌïÑÏöî') }}</div>
                    <div class="personal-stat-label">ÏûëÏÑ± ÌïÑÏöî</div>
                </div>
                <div class="personal-stat-card deadline">
                    <div class="personal-stat-number" style="color: #ef4444;">D-{{ getDaysToDeadline() }}</div>
                    <div class="personal-stat-label">{{ selectedRound }}Ï∞® ÎßàÍ∞ê</div>
                </div>
            </div>
            
            <!-- ÎÇ¥ ÏÑ∏Î∂ÄÏÇ¨ÏóÖ Î™©Î°ù -->
            <div class="my-projects-section">
                <div class="section-header">
                    <h2>üìù ÎÇ¥Í∞Ä Îã¥ÎãπÌïú ÏÑ∏Î∂ÄÏÇ¨ÏóÖ ({{ selectedYear }}ÎÖÑ {{ selectedRound }}Ï∞®)</h2>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <!-- Îã¥ÎãπÏÇ¨ÏóÖ Í¥ÄÎ¶¨ Î≤ÑÌäº -->
                        <button class="manage-projects-btn" @click="showProjectSelection = true">
                            ‚öôÔ∏è Îã¥ÎãπÏÇ¨ÏóÖ Í¥ÄÎ¶¨
                        </button>
                        <div style="font-size: 14px; color: #6b7280;">
                            ÎßàÍ∞êÏùº: {{ getCommonDeadline() }}
                        </div>
                        <!-- Î∑∞ Ï†ÑÌôò Î≤ÑÌäº -->
                        <div class="view-toggle">
                            <button 
                                :class="['view-btn', {active: viewMode === 'card'}]"
                                @click="viewMode = 'card'"
                            >
                                üé¥ Ïπ¥Îìú
                            </button>
                            <button 
                                :class="['view-btn', {active: viewMode === 'list'}]"
                                @click="viewMode = 'list'"
                            >
                                üìã Î™©Î°ù
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Îã¥Îãπ ÏÇ¨ÏóÖÏù¥ ÏóÜÏùÑ Îïå ÏïàÎÇ¥ -->
                <div v-if="myProjects.length === 0" style="text-align: center; padding: 40px; color: #6b7280;">
                    <div style="font-size: 48px; margin-bottom: 15px;">üìã</div>
                    <h3 style="margin-bottom: 10px;">Îã¥Îãπ ÏÇ¨ÏóÖÏù¥ ÏóÜÏäµÎãàÎã§</h3>
                    <p style="margin-bottom: 20px;">ÏÉÅÎã®Ïùò "Îã¥ÎãπÏÇ¨ÏóÖ Í¥ÄÎ¶¨" Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ Îã¥ÎãπÌï† ÏÇ¨ÏóÖÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.</p>
                    <button class="manage-projects-btn" @click="showProjectSelection = true">
                        ‚öôÔ∏è Îã¥ÎãπÏÇ¨ÏóÖ ÏÑ†ÌÉùÌïòÍ∏∞
                    </button>
                </div>

                <!-- Ïπ¥ÎìúÎ∑∞ -->
                <div v-if="viewMode === 'card'" class="projects-grid">
                    <div v-for="project in myProjects" :key="project.id" 
                         :class="getProjectCardClass(project.status)">
                        
                        <!-- Ïö∞ÏÑ†ÏàúÏúÑ ÌëúÏãú -->
                        <div :class="getPriorityClass(project)"></div>
                        
                        <div class="project-header">
                            <span class="project-code">{{ project.code }}</span>
                            <span :class="getStatusBadgeClass(project.status)">{{ project.status }}</span>
                        </div>
                        
                        <div class="project-title">{{ project.name }}</div>
                        
                        <div class="project-meta">
                            <div class="meta-item">
                                <span class="meta-label">ÏòàÏÇ∞Ïï°</span>
                                <span class="meta-value">{{ project.budget.toLocaleString() }}Î∞±ÎßåÏõê</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">Îã¥ÎãπÍ∏∞Í∞Ñ</span>
                                <span class="meta-value">{{ getProjectDuration(project) }}</span>
                            </div>
                            
                            <!-- ÏßÑÌñâÎ•† ÌîÑÎ°úÍ∑∏Î†àÏä§Î∞î -->
                            <div class="progress-item">
                                <div class="progress-header">
                                    <span class="progress-label">ÏûëÏÑ± ÏßÑÌñâÎ•†</span>
                                    <span class="progress-percentage">{{ project.progress }}%</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div :class="getProgressBarClass(project.status)" 
                                         class="progress-bar-fill"
                                         :style="{width: project.progress + '%'}">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="meta-item">
                                <span class="meta-label">ÏµúÏ¢Ö ÏàòÏ†ïÏùº</span>
                                <span class="meta-value">{{ project.lastModified }}</span>
                            </div>
                        </div>
                        
                        <div class="project-actions">
                            <!-- ÏûëÏÑ±/ÏàòÏ†ï Î≤ÑÌäº -->
                            <button 
                                v-if="(project.status === 'ÏûëÏÑ±Ï§ë' || project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî') && isCurrentPeriod"
                                class="btn btn-primary"
                                @click="editMyProject(project)"
                            >
                                {{ project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî' ? 'üîÑ Ïû¨ÏûëÏÑ±' : '‚úèÔ∏è ÏûëÏÑ±' }}
                            </button>
                            
                            <!-- Ï†úÏ∂ú Î≤ÑÌäº -->
                            <button 
                                v-if="project.status === 'ÏûëÏÑ±Ï§ë' && project.progress >= 100 && isCurrentPeriod"
                                class="btn btn-success"
                                @click="submitMyProject(project)"
                            >
                                üì§ Ï†úÏ∂ú
                            </button>
                            
                            <!-- Í≤ÄÌÜ†ÏùòÍ≤¨ Î≥¥Í∏∞ Î≤ÑÌäº -->
                            <button 
                                v-if="project.status === 'Í≤ÄÌÜ†ÏôÑÎ£å' || project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî'"
                                class="btn btn-warning"
                                @click="viewMyReview(project)"
                            >
                                üìã Í≤ÄÌÜ†ÏùòÍ≤¨
                            </button>
                            
                            <!-- ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº -->
                            <button 
                                class="btn btn-secondary"
                                @click="viewMyProject(project)"
                            >
                                üëÅÔ∏è ÏÉÅÏÑ∏Î≥¥Í∏∞
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Î™©Î°ùÎ∑∞ -->
                <div v-if="viewMode === 'list'">
                    <table class="projects-table">
                        <thead>
                            <tr>
                                <th style="width: 40%;">ÏÇ¨ÏóÖÎ™Ö</th>
                                <th style="width: 12%;">ÏòàÏÇ∞Ïï°</th>
                                <th style="width: 10%;">ÏÉÅÌÉú</th>
                                <th style="width: 15%;">ÏßÑÌñâÎ•†</th>
                                <th style="width: 12%;">ÏµúÏ¢ÖÏàòÏ†ïÏùº</th>
                                <th style="width: 11%;">Ïï°ÏÖò</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="project in myProjects" :key="project.id">
                                <td>
                                    <div class="table-project-title">{{ project.name }}</div>
                                    <div class="table-project-code">{{ project.code }}</div>
                                </td>
                                <td>{{ project.budget.toLocaleString() }}Î∞±ÎßåÏõê</td>
                                <td>
                                    <span :class="getStatusBadgeClass(project.status)">{{ project.status }}</span>
                                </td>
                                <td>
                                    <div class="table-progress">
                                        <div class="table-progress-bar">
                                            <div :class="getProgressBarClass(project.status)" 
                                                 class="table-progress-fill"
                                                 :style="{width: project.progress + '%'}">
                                            </div>
                                        </div>
                                        <span style="font-size: 12px; color: #6b7280;">{{ project.progress }}%</span>
                                    </div>
                                </td>
                                <td>{{ project.lastModified }}</td>
                                <td>
                                    <div class="table-actions">
                                        <!-- ÏûëÏÑ±/ÏàòÏ†ï Î≤ÑÌäº -->
                                        <button 
                                            v-if="(project.status === 'ÏûëÏÑ±Ï§ë' || project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî') && isCurrentPeriod"
                                            class="btn-small btn-primary"
                                            @click="editMyProject(project)"
                                            :title="project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî' ? 'Ïû¨ÏûëÏÑ±' : 'ÏûëÏÑ±'"
                                        >
                                            {{ project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî' ? 'üîÑ' : '‚úèÔ∏è' }}
                                        </button>
                                        
                                        <!-- Ï†úÏ∂ú Î≤ÑÌäº -->
                                        <button 
                                            v-if="project.status === 'ÏûëÏÑ±Ï§ë' && project.progress >= 100 && isCurrentPeriod"
                                            class="btn-small btn-success"
                                            @click="submitMyProject(project)"
                                            title="Ï†úÏ∂ú"
                                        >
                                            üì§
                                        </button>
                                        
                                        <!-- Í≤ÄÌÜ†ÏùòÍ≤¨ Î≥¥Í∏∞ Î≤ÑÌäº -->
                                        <button 
                                            v-if="project.status === 'Í≤ÄÌÜ†ÏôÑÎ£å' || project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî'"
                                            class="btn-small btn-warning"
                                            @click="viewMyReview(project)"
                                            title="Í≤ÄÌÜ†ÏùòÍ≤¨"
                                        >
                                            üìã
                                        </button>
                                        
                                        <!-- ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº -->
                                        <button 
                                            class="btn-small btn-secondary"
                                            @click="viewMyProject(project)"
                                            title="ÏÉÅÏÑ∏Î≥¥Í∏∞"
                                        >
                                            üëÅÔ∏è
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- ÌïòÎã® 2Ïª¨Îüº Ï†ïÎ≥¥ ÏÑπÏÖòÎßå ÎÇ®ÍπÄ -->
            <div class="bottom-info-section">
                <!-- ÏôºÏ™Ω: Í≥µÏßÄÏÇ¨Ìï≠ -->
                <div class="info-card">
                    <h3 style="display: flex; align-items: center;">
                        üì¢ Í≥µÏßÄÏÇ¨Ìï≠
                    </h3>
                    <ul class="info-list">
                        <li v-for="notice in notices" :key="notice.id" class="info-item" @click="viewNotice(notice)">
                            <div class="info-title">{{ notice.title }}</div>
                            <div class="info-meta">
                                <span>{{ notice.date }}</span>
                                <span v-if="notice.important" class="info-badge" style="background: #ef4444;">Ï§ëÏöî</span>
                                <span v-else class="info-badge" style="background: #6366f1;">ÏùºÎ∞ò</span>
                            </div>
                        </li>
                    </ul>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn btn-secondary" @click="viewAllNotices()">
                            Í≥µÏßÄÏÇ¨Ìï≠ Ï†ÑÏ≤¥Î≥¥Í∏∞
                        </button>
                    </div>
                </div>
                
                <!-- Ïò§Î•∏Ï™Ω: ÎÇòÏóêÍ≤å Ïò® ÏïåÎ¶º -->
                <div class="info-card">
                    <h3 style="display: flex; align-items: center;">
                        üìÆ ÎÇòÏóêÍ≤å Ïò® ÏïåÎ¶º
                    </h3>
                    <ul class="info-list">
                        <li v-for="alert in myAlerts" :key="alert.id" class="info-item" @click="viewMyAlert(alert)">
                            <div class="info-title">{{ alert.title }}</div>
                            <div class="info-meta">
                                <span>{{ alert.date }}</span>
                                <span v-if="!alert.read" class="info-badge" style="background: #10b981;">ÏÉàÏïåÎ¶º</span>
                                <span v-else class="info-badge" style="background: #6b7280;">ÏùΩÏùå</span>
                            </div>
                        </li>
                    </ul>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn btn-secondary" @click="viewAllAlerts()">
                            ÎÇ¥ ÏïåÎ¶º Ï†ÑÏ≤¥Î≥¥Í∏∞
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Îã¥ÎãπÏÇ¨ÏóÖ ÏÑ†ÌÉù Î™®Îã¨ -->
        <div v-if="showProjectSelection" class="project-selection-modal" @click="closeProjectSelection">
            <div class="project-selection-content" @click.stop>
                <div class="selection-header">
                    <div>
                        <h3 class="selection-title">Îã¥Îãπ ÏÑ∏Î∂ÄÏÇ¨ÏóÖ ÏÑ†ÌÉù</h3>
                        <p style="color: #6b7280; font-size: 14px;">{{ currentUser.department }} Ï†ÑÏ≤¥ ÏÑ∏Î∂ÄÏÇ¨ÏóÖ Î™©Î°ù</p>
                    </div>
                    <button class="selection-close" @click="closeProjectSelection">&times;</button>
                </div>
                
                <div class="selection-info">
                    <div style="color: #0369a1; font-weight: bold; margin-bottom: 5px;">üìã ÏïàÎÇ¥ÏÇ¨Ìï≠</div>
                    <div style="color: #0369a1; font-size: 14px;">
                        ‚Ä¢ Ï≤¥ÌÅ¨Î∞ïÏä§Î•º ÏÑ†ÌÉùÌïòÏó¨ Îã¥ÎãπÌï† ÏÑ∏Î∂ÄÏÇ¨ÏóÖÏùÑ ÏßÄÏ†ïÌïòÏÑ∏Ïöî<br>
                        ‚Ä¢ Ïù¥ÎØ∏ Îã§Î•∏ Îã¥ÎãπÏûêÍ∞Ä ÏÑ†ÌÉùÌïú ÏÇ¨ÏóÖÏùÄ Ï§ëÎ≥µ ÏÑ†ÌÉù Í∞ÄÎä•Ìï©ÎãàÎã§<br>
                        ‚Ä¢ ÏÑ†ÌÉùÏùÑ ÏôÑÎ£åÌïòÎ©¥ "ÎÇ¥Í∞Ä Îã¥ÎãπÌïú ÏÑ∏Î∂ÄÏÇ¨ÏóÖ"Ïóê Ï∂îÍ∞ÄÎê©ÎãàÎã§
                    </div>
                </div>
                
                <table class="selection-table">
                    <thead>
                        <tr>
                            <th style="width: 8%;">ÏÑ†ÌÉù</th>
                            <th style="width: 40%;">ÏÇ¨ÏóÖÎ™Ö</th>
                            <th style="width: 15%;">ÏòàÏÇ∞Ïï°</th>
                            <th style="width: 12%;">ÌòÑÏû¨ ÏÉÅÌÉú</th>
                            <th style="width: 15%;">ÌòÑÏû¨ Îã¥ÎãπÏûê</th>
                            <th style="width: 10%;">ÏßÑÌñâÎ•†</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="project in allDepartmentProjects" :key="project.id">
                            <td>
                                <input 
                                    type="checkbox" 
                                    class="selection-checkbox"
                                    :checked="isMyProject(project.id)"
                                    @change="toggleProjectSelection(project.id, $event)"
                                >
                            </td>
                            <td>
                                <div class="project-name-cell">{{ project.name }}</div>
                                <div class="project-code-cell">{{ project.code }}</div>
                            </td>
                            <td>{{ project.budget.toLocaleString() }}Î∞±ÎßåÏõê</td>
                            <td>
                                <span :class="getStatusBadgeClass(project.status)">{{ project.status }}</span>
                            </td>
                            <td>
                                <span v-if="project.assignee" class="current-assignee">{{ project.assignee }}</span>
                                <span v-else style="color: #9ca3af;">ÎØ∏Î∞∞Ï†ï</span>
                            </td>
                            <td>{{ project.progress }}%</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="selection-buttons">
                    <button class="btn btn-success btn-large" @click="saveProjectSelection()">
                        üíæ ÏÑ†ÌÉù ÏÇ¨Ìï≠ Ï†ÄÏû•
                    </button>
                    <button class="btn btn-secondary btn-large" @click="closeProjectSelection()">
                        Ï∑®ÏÜå
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const { createApp, ref, computed } = Vue;
        
        createApp({
            setup() {
                // ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥
                const currentUser = ref({
                    name: 'Ïù¥ÏòÅÌù¨',
                    department: 'Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä ÎèÑÏãúÍ≥ÑÌöçÍ≥º',
                    position: 'Ï£ºÎ¨¥Í¥Ä'
                });
                
                // ÏÑ†ÌÉùÎêú Ïó∞ÎèÑ/Ï∞®Ïàò
                const selectedYear = ref('2024');
                const selectedRound = ref('1');
                
                // Î∑∞ Î™®Îìú ÏÉÅÌÉú
                const viewMode = ref('card');
                
                // Î™®Îã¨ ÏÉÅÌÉú
                const showProjectSelection = ref(false);
                
                // ÌòÑÏû¨ Í∏∞Í∞Ñ Ïó¨Î∂Ä
                const isCurrentPeriod = computed(() => {
                    return selectedYear.value === '2024' && selectedRound.value === '1';
                });
                
                // Î∂ÄÏ≤ò Ï†ÑÏ≤¥ ÏÑ∏Î∂ÄÏÇ¨ÏóÖ Î™©Î°ù
                const allDepartmentProjects = ref([
                    {
                        id: 1,
                        code: 'KT2024-001',
                        name: 'Ïä§ÎßàÌä∏ÏãúÌã∞ Ïù∏ÌîÑÎùº Íµ¨Ï∂ï ÏÇ¨ÏóÖ',
                        budget: 15000,
                        status: 'ÏûëÏÑ±Ï§ë',
                        progress: 85,
                        assignee: 'Ïù¥ÏòÅÌù¨',
                        lastModified: '2024-12-20',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 2,
                        code: 'KT2024-002',
                        name: 'ÏπúÌôòÍ≤Ω ÎåÄÏ§ëÍµêÌÜµ ÌôïÏ∂©',
                        budget: 28000,
                        status: 'ÏûëÏÑ±Ï§ë',
                        progress: 60,
                        assignee: 'Î∞ïÏ≤†Ïàò',
                        lastModified: '2024-12-18',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 3,
                        code: 'KT2024-003',
                        name: 'ÎèÑÏãúÍ≥µÏõê ÎÖπÏßÄ ÌôïÎåÄ',
                        budget: 8500,
                        status: 'Ïû¨ÏûëÏÑ±ÌïÑÏöî',
                        progress: 100,
                        assignee: 'Ïù¥ÏòÅÌù¨',
                        lastModified: '2024-12-18',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 4,
                        code: 'KT2024-004',
                        name: 'Í±¥Î¨º ÏóêÎÑàÏßÄÌö®Ïú® Í∞úÏÑ†',
                        budget: 12000,
                        status: 'ÎØ∏Î∞∞Ï†ï',
                        progress: 0,
                        assignee: '',
                        lastModified: '-',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 5,
                        code: 'KT2024-005',
                        name: 'Ïû¨ÏÉùÏóêÎÑàÏßÄ Î∞úÏ†ÑÏÜå Í±¥ÏÑ§',
                        budget: 45000,
                        status: 'ÎØ∏Î∞∞Ï†ï',
                        progress: 0,
                        assignee: '',
                        lastModified: '-',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 6,
                        code: 'KT2024-006',
                        name: 'Í∑∏Î¶∞ÎπåÎî© Ïù∏Ï¶ù ÏßÄÏõê',
                        budget: 7200,
                        status: 'ÏûëÏÑ±Ï§ë',
                        progress: 30,
                        assignee: 'Ï†ïÎØºÏàò',
                        lastModified: '2024-12-19',
                        deadline: '2024-12-31'
                    },
                    {
                        id: 7,
                        code: 'KT2024-007',
                        name: 'ÏπúÌôòÍ≤Ω Í±¥Ï∂ïÎ¨º Ïù∏Ï¶ù ÏßÄÏõê',
                        budget: 4200,
                        status: 'Ï†úÏ∂úÏôÑÎ£å',
                        progress: 100,
                        assignee: 'Ïù¥ÏòÅÌù¨',
                        lastModified: '2024-12-15',
                        deadline: '2024-12-31'
                    }
                ]);
                
                // ÎÇ¥Í∞Ä ÏÑ†ÌÉùÌïú ÏÇ¨ÏóÖ ID Î™©Î°ù
                const myProjectIds = ref([1, 3, 7]);
                
                // ÎÇ¥Í∞Ä Îã¥ÎãπÌïú ÏÑ∏Î∂ÄÏÇ¨ÏóÖ (computedÎ°ú ÌïÑÌÑ∞ÎßÅ)
                const myProjects = computed(() => {
                    return allDepartmentProjects.value.filter(project => 
                        myProjectIds.value.includes(project.id)
                    );
                });
                
                // ÎÇ¥ ÌÜµÍ≥Ñ (computed ÏàòÏ†ï)
                const myStats = computed(() => {
                    const projects = myProjects.value; // computedÎùºÏÑú .value ÏÇ¨Ïö©
                    const completed = projects.filter(p => 
                        p.status === 'Ï†úÏ∂úÏôÑÎ£å' || p.status === 'Í≤ÄÌÜ†Ï§ë' || p.status === 'Í≤ÄÌÜ†ÏôÑÎ£å'
                    ).length;
                    const inprogress = projects.filter(p => 
                        p.status === 'ÏûëÏÑ±Ï§ë' || p.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî'
                    ).length;
                    
                    return { completed, inprogress };
                });
                
                // Í≥µÏßÄÏÇ¨Ìï≠ Îç∞Ïù¥ÌÑ∞
                const notices = ref([
                    {
                        id: 1,
                        title: '2024ÎÖÑ 1Ï∞® Ïò®Ïã§Í∞ÄÏä§Í∞êÏ∂ïÏù∏ÏßÄ ÏòàÏÇ∞Ï†ú Ï†úÏ∂ú ÎßàÍ∞ê ÏïàÎÇ¥',
                        date: '2024-12-21',
                        important: true
                    },
                    {
                        id: 2,
                        title: 'ÏÑ∏Î∂ÄÏÇ¨ÏóÖ ÏûëÏÑ± Ïãú CO2 Í∞êÏ∂ïÎüâ ÏÇ∞Ï†ï Í∞ÄÏù¥ÎìúÎùºÏù∏ ÏóÖÎç∞Ïù¥Ìä∏',
                        date: '2024-12-20',
                        important: true
                    },
                    {
                        id: 3,
                        title: 'ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ† Í∏∞Ï§Ä Î≥ÄÍ≤Ω ÏÇ¨Ìï≠ ÏïàÎÇ¥',
                        date: '2024-12-18',
                        important: false
                    },
                    {
                        id: 4,
                        title: 'ÏÑ∏Î∂ÄÏÇ¨ÏóÖ ÏûëÏÑ± Í¥ÄÎ†® Ïò®ÎùºÏù∏ ÍµêÏú° Ïã§Ïãú ÏïàÎÇ¥',
                        date: '2024-12-15',
                        important: false
                    },
                    {
                        id: 5,
                        title: '2Ï∞® Ï†úÏ∂ú ÏùºÏ†ï ÏÇ¨Ï†Ñ Í≥µÏßÄ',
                        date: '2024-12-12',
                        important: false
                    }
                ]);
                
                // ÎÇòÏóêÍ≤å Ïò® Í∞úÏù∏ ÏïåÎ¶º
                const myAlerts = ref([
                    {
                        id: 1,
                        title: 'Ïä§ÎßàÌä∏ÏãúÌã∞ ÏÇ¨ÏóÖ Í≤ÄÌÜ† ÏùòÍ≤¨ ÎèÑÏ∞©',
                        date: '2024-12-21',
                        read: false
                    },
                    {
                        id: 2,
                        title: '1Ï∞® Ï†úÏ∂ú ÎßàÍ∞êÏùº ÏïàÎÇ¥ (12Ïõî 31Ïùº)',
                        date: '2024-12-20',
                        read: true
                    },
                    {
                        id: 3,
                        title: 'CO2 Í∞êÏ∂ïÎüâ ÏÇ∞Ï†ï Í∞ÄÏù¥Îìú ÏóÖÎç∞Ïù¥Ìä∏',
                        date: '2024-12-18',
                        read: true
                    },
                    {
                        id: 4,
                        title: 'ÏπúÌôòÍ≤Ω Í±¥Ï∂ïÎ¨º Ïù∏Ï¶ù ÏßÄÏõê ÏÇ¨ÏóÖ ÏäπÏù∏ ÏôÑÎ£å',
                        date: '2024-12-16',
                        read: true
                    },
                    {
                        id: 5,
                        title: 'ÎèÑÏãúÍ≥µÏõê ÎÖπÏßÄ ÌôïÎåÄ ÏÇ¨ÏóÖ Ïû¨ÏûëÏÑ± ÏöîÏ≤≠',
                        date: '2024-12-15',
                        read: true
                    }
                ]);
                
                // Ï†ÑÎ∞òÏ†ÅÏù∏ ÎÇòÏùò ÏÉÅÌÉú
                const getMyOverallStatus = () => {
                    const total = myProjects.value.length; // computedÎùºÏÑú .value ÏÇ¨Ïö©
                    const completed = myStats.value.completed;
                    
                    if (completed === total) return 'Î™®Îì† ÏÇ¨ÏóÖ ÏôÑÎ£å';
                    if (completed > total / 2) return 'ÏàúÏ°∞Î°≠Í≤å ÏßÑÌñâÏ§ë';
                    return 'ÏûëÏóÖ ÌïÑÏöî';
                };
                
                // ÎßàÍ∞êÍπåÏßÄ ÎÇ®ÏùÄ ÏùºÏàò (D-day ÌòïÏãù)
                const getDaysToDeadline = () => {
                    if (!isCurrentPeriod.value) return 'ÏôÑÎ£å';
                    const today = new Date();
                    const deadline = new Date('2024-12-31');
                    const diffTime = deadline - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    if (diffDays > 0) return diffDays;
                    if (diffDays === 0) return 'Ïò§Îäò';
                    return 'ÏßÄÎÇ®';
                };
                
                // ÏÉÅÌÉúÎ≥Ñ Í∞úÏàò Í≥ÑÏÇ∞
                const getStatusCount = (status) => {
                    return myProjects.value.filter(p => p.status === status).length;
                };
                
                // Í≥µÌÜµ ÎßàÍ∞êÏùº
                const getCommonDeadline = () => {
                    if (!isCurrentPeriod.value) return 'ÏôÑÎ£åÎê®';
                    return '2024ÎÖÑ 12Ïõî 31Ïùº (Ìôî)';
                };
                
                // ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Í∞Ñ
                const getProjectDuration = (project) => {
                    return '11Ïõî~12Ïõî';
                };
                
                // ÏßÑÌñâÎ•† ÌîÑÎ°úÍ∑∏Î†àÏä§Î∞î ÌÅ¥ÎûòÏä§
                const getProgressBarClass = (status) => {
                    const statusMap = {
                        'ÏûëÏÑ±Ï§ë': 'progress-writing',
                        'Ï†úÏ∂úÏôÑÎ£å': 'progress-submitted',
                        'Í≤ÄÌÜ†Ï§ë': 'progress-reviewing',
                        'Ïû¨ÏûëÏÑ±ÌïÑÏöî': 'progress-revision'
                    };
                    return statusMap[status] || 'progress-writing';
                };
                
                // Ïö∞ÏÑ†ÏàúÏúÑ ÌÅ¥ÎûòÏä§
                const getPriorityClass = (project) => {
                    const today = new Date();
                    const deadline = new Date(project.deadline);
                    const daysLeft = Math.ceil((deadline - today) / (1000 * 60 * 60 * 24));
                    
                    if (project.status === 'Ïû¨ÏûëÏÑ±ÌïÑÏöî') return 'priority-indicator priority-urgent';
                    if (project.progress < 50 && daysLeft <= 7) return 'priority-indicator priority-attention';
                    return 'priority-indicator priority-normal';
                };
                
                // ÌîÑÎ°úÏ†ùÌä∏ Ïπ¥Îìú ÌÅ¥ÎûòÏä§
                const getProjectCardClass = (status) => {
                    const baseClass = 'project-card';
                    const statusMap = {
                        'ÏûëÏÑ±Ï§ë': 'writing',
                        'Ï†úÏ∂úÏôÑÎ£å': 'submitted',
                        'Í≤ÄÌÜ†Ï§ë': 'reviewing',
                        'Ïû¨ÏûëÏÑ±ÌïÑÏöî': 'revision'
                    };
                    return `${baseClass} ${statusMap[status] || ''}`;
                };
                
                // ÏÉÅÌÉú Î∞∞ÏßÄ ÌÅ¥ÎûòÏä§
                const getStatusBadgeClass = (status) => {
                    const statusMap = {
                        'ÏûëÏÑ±Ï§ë': 'status-badge status-writing',
                        'Ï†úÏ∂úÏôÑÎ£å': 'status-badge status-submitted',
                        'Í≤ÄÌÜ†Ï§ë': 'status-badge status-reviewing',
                        'Ïû¨ÏûëÏÑ±ÌïÑÏöî': 'status-badge status-revision',
                        'ÎØ∏Î∞∞Ï†ï': 'status-badge status-writing'
                    };
                    return statusMap[status] || 'status-badge';
                };
                
                // ÎßàÍ∞êÏùºÍπåÏßÄ ÎÇ®ÏùÄ ÏùºÏàò
                const getDaysUntilDeadline = (project) => {
                    const today = new Date();
                    const deadline = new Date(project.deadline);
                    const diffTime = deadline - today;
                    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                };
                
                // ÎÇ¥ ÌîÑÎ°úÏ†ùÌä∏Ïù∏ÏßÄ ÌôïÏù∏
                const isMyProject = (projectId) => {
                    return myProjectIds.value.includes(projectId);
                };
                
                // ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù/Ìï¥Ï†ú ÌÜ†Í∏Ä
                const toggleProjectSelection = (projectId, event) => {
                    if (event.target.checked) {
                        if (!myProjectIds.value.includes(projectId)) {
                            myProjectIds.value.push(projectId);
                            const project = allDepartmentProjects.value.find(p => p.id === projectId);
                            if (project) {
                                project.assignee = currentUser.value.name;
                                if (project.status === 'ÎØ∏Î∞∞Ï†ï') {
                                    project.status = 'ÏûëÏÑ±Ï§ë';
                                }
                            }
                        }
                    } else {
                        const index = myProjectIds.value.indexOf(projectId);
                        if (index > -1) {
                            myProjectIds.value.splice(index, 1);
                            const project = allDepartmentProjects.value.find(p => p.id === projectId);
                            if (project && project.assignee === currentUser.value.name) {
                                project.assignee = '';
                                project.status = 'ÎØ∏Î∞∞Ï†ï';
                                project.progress = 0;
                            }
                        }
                    }
                };
                
                // ÏÑ†ÌÉùÏÇ¨Ìï≠ Ï†ÄÏû•
                const saveProjectSelection = () => {
                    const selectedCount = myProjectIds.value.length;
                    alert(`Îã¥Îãπ ÏÇ¨ÏóÖ ÏÑ†ÌÉùÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.\n\nÏÑ†ÌÉùÎêú ÏÇ¨ÏóÖ: ${selectedCount}Í∞ú`);
                    closeProjectSelection();
                };
                
                // Î™®Îã¨ Îã´Í∏∞
                const closeProjectSelection = () => {
                    showProjectSelection.value = false;
                };
                
                // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
                const loadMyData = () => {
                    console.log(`${selectedYear.value}ÎÖÑ ${selectedRound.value}Ï∞® Í∞úÏù∏ Îç∞Ïù¥ÌÑ∞ Î°úÎìú`);
                };
                
                // ÎÇ¥ ÌîÑÎ°úÏ†ùÌä∏ Ìé∏Ïßë
                const editMyProject = (project) => {
                    alert(`${project.name} ÏûëÏÑ±ÏùÑ ÏãúÏûëÌï©ÎãàÎã§.\n\nÌòÑÏû¨ ÏßÑÌñâÎ•†: ${project.progress}%`);
                };
                
                // ÎÇ¥ ÌîÑÎ°úÏ†ùÌä∏ Ï†úÏ∂ú
                const submitMyProject = (project) => {
                    if (confirm(`${project.name}ÏùÑ(Î•º) Ï†úÏ∂úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\nÏ†úÏ∂ú ÌõÑÏóêÎäî ÏàòÏ†ïÏù¥ Î∂àÍ∞ÄÎä•Ìï©ÎãàÎã§.`)) {
                        project.status = 'Ï†úÏ∂úÏôÑÎ£å';
                        project.lastModified = new Date().toISOString().split('T')[0];
                        alert('Ï†úÏ∂úÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ†Î•º Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî.');
                    }
                };
                
                // ÎÇ¥ Í≤ÄÌÜ†ÏùòÍ≤¨ Î≥¥Í∏∞
                const viewMyReview = (project) => {
                    alert(`Í≤ÄÌÜ†ÏùòÍ≤¨\n\nÍ≤ÄÌÜ†Ïûê: ÌôòÍ≤ΩÍ≥µÎã® ÍπÄÍ≤ÄÌÜ†\nÏùòÍ≤¨: CO2 Í∞êÏ∂ïÎüâ ÏÇ∞Ï†ï Í∑ºÍ±∞ Î≥¥ÏôÑ ÌïÑÏöî`);
                };
                
                // ÎÇ¥ ÌîÑÎ°úÏ†ùÌä∏ ÏÉÅÏÑ∏Î≥¥Í∏∞
                const viewMyProject = (project) => {
                    alert(`${project.name} ÏÉÅÏÑ∏ Ï†ïÎ≥¥\n\nÏßÑÌñâÎ•†: ${project.progress}%\nÏÉÅÌÉú: ${project.status}\nÎßàÍ∞êÏùº: ${project.deadline}`);
                };
                
                // Í≥µÏßÄÏÇ¨Ìï≠ Í¥ÄÎ†® Ìï®Ïàò
                const viewNotice = (notice) => {
                    alert(`Í≥µÏßÄÏÇ¨Ìï≠\n\nÏ†úÎ™©: ${notice.title}\nÏûëÏÑ±Ïùº: ${notice.date}\n\nÏûêÏÑ∏Ìïú ÎÇ¥Ïö©ÏùÄ Í≥µÏßÄÏÇ¨Ìï≠ Ï†ÑÏ≤¥Î≥¥Í∏∞ÏóêÏÑú ÌôïÏù∏ÌïòÏÑ∏Ïöî.`);
                };
                
                const viewAllNotices = () => {
                    alert('Í≥µÏßÄÏÇ¨Ìï≠ Ï†ÑÏ≤¥ Î™©Î°ù ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
                };
                
                // Í∞úÏù∏ ÏïåÎ¶º Í¥ÄÎ†® Ìï®Ïàò
                const viewMyAlert = (alert) => {
                    alert.read = true;
                    alert(`ÎÇ¥ ÏïåÎ¶º\n\nÏ†úÎ™©: ${alert.title}\nÎÇ†Ïßú: ${alert.date}\n\nÍ¥ÄÎ†® ÏÇ¨ÏóÖÏùò ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî.`);
                };
                
                const viewAllAlerts = () => {
                    alert('ÎÇ¥ ÏïåÎ¶º Ï†ÑÏ≤¥ Î™©Î°ù ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
                };
                
                return {
                    currentUser,
                    selectedYear,
                    selectedRound,
                    isCurrentPeriod,
                    viewMode,
                    showProjectSelection,
                    allDepartmentProjects,
                    myProjectIds,
                    myProjects,
                    myStats,
                    notices,
                    myAlerts,
                    getMyOverallStatus,
                    getDaysToDeadline,
                    getStatusCount,
                    getCommonDeadline,
                    getProjectDuration,
                    getProgressBarClass,
                    getPriorityClass,
                    getProjectCardClass,
                    getStatusBadgeClass,
                    getDaysUntilDeadline,
                    isMyProject,
                    toggleProjectSelection,
                    saveProjectSelection,
                    closeProjectSelection,
                    loadMyData,
                    editMyProject,
                    submitMyProject,
                    viewMyReview,
                    viewMyProject,
                    viewNotice,
                    viewAllNotices,
                    viewMyAlert,
                    viewAllAlerts
                };
            }
        }).mount('#app');
    </script>
</body>
</html> 