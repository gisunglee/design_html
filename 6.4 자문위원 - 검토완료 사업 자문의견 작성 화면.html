<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏûêÎ¨∏ÏúÑÏõê - Í≤ÄÌÜ†ÏôÑÎ£å ÏÇ¨ÏóÖ ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ±</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #7c3aed 0%, #4c1d95 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1500px;
            margin: 0 auto;
        }
        
        /* Ìó§Îçî ÏÑπÏÖò - ÏûêÎ¨∏ÏúÑÏõê Ï†ïÎ≥¥ Î∞è ÌòÑÏû¨ ÏÉÅÌÉú */
        .header {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        /* Ìó§Îçî Í∞úÏÑ† - Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù Ï∂îÍ∞Ä */
        .header-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Ìó§Îçî Ïó¨Î∞± Ï°∞Ï†ï - Í≤πÏπ® Î∞©ÏßÄ */
        .header-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            padding: 12px 20px;
            background: #f3e8ff;
            border: 2px solid #7c3aed;
            border-radius: 10px;
            margin-bottom: 20px; /* Ïó¨Î∞± Ï∂îÍ∞ÄÌïòÏó¨ Í≤πÏπ® Î∞©ÏßÄ */
        }
        
        .year-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .year-label {
            font-weight: bold;
            color: #7c3aed;
            font-size: 15px;
        }
        
        .year-dropdown {
            padding: 8px 15px;
            border: 2px solid #7c3aed;
            border-radius: 8px;
            font-weight: bold;
            color: #7c3aed;
            background: white;
            min-width: 100px;
            font-size: 14px;
        }
        
        .round-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .round-label {
            font-weight: bold;
            color: #7c3aed;
            font-size: 15px;
        }
        
        .round-buttons {
            display: flex;
            gap: 6px;
        }
        
        .round-btn {
            padding: 8px 15px;
            border: 2px solid #7c3aed;
            border-radius: 8px;
            background: white;
            color: #7c3aed;
            font-weight: bold;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 50px;
        }
        
        .round-btn.active {
            background: #7c3aed;
            color: white;
        }
        
        .round-btn:hover {
            background: #6d28d9;
            color: white;
        }
        
        .advisor-info h1 {
            color: #7c3aed;
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .advisor-info p {
            color: #6b7280;
            font-size: 14px;
        }
        
        .current-status {
            background: #f3e8ff;
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .current-status h3 {
            color: #7c3aed;
            margin-bottom: 5px;
        }
        
        .status-badge {
            background: #10b981;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* ÏóÖÎ¨¥ ÏïàÎÇ¥ ÏÑπÏÖò */
        .guide-section {
            background: #e0f2fe;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 25px;
        }
        
        .guide-title {
            color: #0369a1;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .guide-title::before {
            content: "üìã";
            margin-right: 8px;
        }
        
        /* ÌÜµÍ≥Ñ ÎåÄÏãúÎ≥¥Îìú */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #6b7280;
            font-size: 14px;
        }
        
        .stat-pending { color: #f59e0b; }
        .stat-completed { color: #10b981; }
        .stat-total { color: #3b82f6; }
        .stat-approved { color: #059669; }
        
        /* Í≤ÄÌÜ†ÏôÑÎ£å ÏÇ¨ÏóÖ Î™©Î°ù */
        .projects-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-header h2 {
            color: #7c3aed;
            font-size: 22px;
        }
        
        .filter-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .search-input {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            width: 200px;
        }
        
        /* ÌÖåÏù¥Î∏î Ïä§ÌÉÄÏùº */
        .projects-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .projects-table th,
        .projects-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .projects-table th {
            background: #f9fafb;
            font-weight: bold;
            color: #374151;
        }
        
        .advisory-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
        }
        
        .advisory-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .advisory-completed {
            background: #d1fae5;
            color: #065f46;
        }
        
        .advisory-approved {
            background: #dcfce7;
            color: #14532d;
        }
        
        .advisory-rejected {
            background: #fee2e2;
            color: #991b1b;
        }
        
        /* Ïï°ÏÖò Î≤ÑÌäºÎì§ */
        .action-buttons {
            display: flex;
            gap: 5px;
        }
        
        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-primary {
            background: #7c3aed;
            color: white;
        }
        
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.8;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ± Î™®Îã¨ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 900px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .modal-title {
            color: #7c3aed;
            font-size: 22px;
            margin-bottom: 8px;
        }
        
        .modal-close {
            float: right;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }
        
        .project-summary {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        
        .project-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
        }
        
        .info-label {
            font-weight: bold;
            color: #374151;
            margin-bottom: 4px;
        }
        
        .info-value {
            color: #6b7280;
        }
        
        .review-section {
            margin-bottom: 25px;
        }
        
        .review-section h4 {
            color: #374151;
            margin-bottom: 10px;
            padding: 10px;
            background: #f3f4f6;
            border-radius: 6px;
        }
        
        .review-content {
            background: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #3b82f6;
            margin-bottom: 15px;
        }
        
        .review-text {
            color: #374151;
            line-height: 1.6;
        }
        
        .advisory-form {
            border-top: 2px solid #e5e7eb;
            padding-top: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-weight: bold;
            color: #374151;
            margin-bottom: 8px;
        }
        
        .form-textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }
        
        .form-select {
            width: 100%;
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }
        
        .btn-large {
            padding: 12px 30px;
            font-size: 16px;
        }
        
        /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .filter-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-input {
                width: 100%;
            }
            
            .project-info {
                grid-template-columns: 1fr;
            }
        }

        /* ÏûêÎ¨∏ÏúÑÏõê ÏóÖÎ¨¥ ÏïàÎÇ¥ */
        .advisor-guide {
            background: #dbeafe;
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
        }

        /* ÌïòÎã® Ï†ïÎ≥¥ ÏÑπÏÖò - ÏÑ∏Î∂ÄÏÇ¨ÏóÖ Îã¥ÎãπÏûê Ïä§ÌÉÄÏùºÍ≥º ÎèôÏùºÌïòÍ≤å */
        .bottom-info-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        
        .info-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            height: fit-content;
        }
        
        .info-card h3 {
            color: #334155;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .info-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .info-item {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .info-item:hover {
            background: #f1f5f9;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-title {
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 4px;
            text-align: left;
        }
        
        .info-meta {
            font-size: 12px;
            color: #64748b;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Î∞∞ÏßÄ Ïä§ÌÉÄÏùº ÌÜµÏùº */
        .notice-badge, .alert-badge {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .notice-badge.important, .alert-badge.important {
            background: #ef4444;
            color: white;
        }
        
        .notice-badge.normal, .alert-badge.normal {
            background: #7c3aed;
            color: white;
        }
        
        .alert-badge.new {
            background: #10b981;
            color: white;
        }
        
        .alert-badge.read {
            background: #6b7280;
            color: white;
        }
        
        /* Ï†ÑÏ≤¥Î≥¥Í∏∞ Î≤ÑÌäº Ïä§ÌÉÄÏùº */
        .view-all-btn {
            background: #6b7280;
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .view-all-btn:hover {
            background: #4b5563;
        }

        /* ÏûêÎ¨∏ÏúÑÏõê ÌÜµÍ≥Ñ Ïä§ÌÉÄÏùº - 4Í∞ú Ìï≠Î™© */
        .advisor-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 5Í∞ú ‚Üí 4Í∞úÎ°ú Î≥ÄÍ≤Ω */
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .advisor-stat-card {
            background: #f3e8ff;
            border: 2px solid #a855f7;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .advisor-stat-card:hover {
            border-color: #7c3aed;
            background: #ede9fe;
            transform: translateY(-2px);
        }
        
        .advisor-stat-number {
            font-size: 28px;
            font-weight: bold;
            color: #7c3aed;
            margin-bottom: 8px;
        }
        
        .advisor-stat-label {
            font-size: 14px;
            font-weight: bold;
            color: #581c87;
            margin-bottom: 4px;
        }
        
        .advisor-stat-detail {
            font-size: 12px;
            color: #6b46c1;
        }

        /* Î∂ÄÏ≤òÎ≥Ñ ÏßÑÌñâÌòÑÌô© ÏÑπÏÖò Ïä§ÌÉÄÏùº Ï∂îÍ∞Ä */
        .ministry-progress-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .ministry-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .ministry-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .ministry-card:hover {
            border-color: #7c3aed;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
        }
        
        .ministry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .ministry-header h3 {
            color: #1e293b;
            font-size: 16px;
            font-weight: bold;
        }
        
        .ministry-total {
            background: #7c3aed;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .ministry-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .ministry-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .stat-label {
            font-size: 11px;
            color: #64748b;
            margin-bottom: 4px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
        }
        
        .stat-value.waiting {
            color: #f59e0b;
        }
        
        .stat-value.completed {
            color: #10b981;
        }
        
        .stat-value.approved {
            color: #059669;
        }
        
        .ministry-progress-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-bg {
            flex: 1;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed, #a855f7);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            font-size: 12px;
            font-weight: bold;
            color: #7c3aed;
            min-width: 60px;
            text-align: right;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- Ìó§Îçî ÏÑπÏÖò - Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù Ï∂îÍ∞Ä -->
            <div class="header">
                <div class="header-content">
                    <div class="header-top">
                        <div class="advisor-info">
                            <h1>{{ advisor.name }} ÏûêÎ¨∏ÏúÑÏõê</h1>
                            <p>{{ advisor.affiliation }} | {{ advisor.specialty }}</p>
                        </div>
                        <div class="current-status">
                            <h3>{{ selectedRound }}Ï∞® ÏûêÎ¨∏ ÏßÑÌñâ Ï§ë</h3>
                            <span class="status-badge">ÏûêÎ¨∏ Í∏∞Í∞Ñ</span>
                        </div>
                    </div>
                    
                    <!-- Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù Ï∂îÍ∞Ä -->
                    <div class="header-controls">
                        <!-- ÌöåÍ≥ÑÏó∞ÎèÑ ÏÑ†ÌÉù -->
                        <div class="year-selector">
                            <span class="year-label">üìÖ ÌöåÍ≥ÑÏó∞ÎèÑ:</span>
                            <select v-model="selectedYear" @change="loadYearData" class="year-dropdown">
                                <option value="2024">2024ÎÖÑ</option>
                                <option value="2023">2023ÎÖÑ</option>
                                <option value="2022">2022ÎÖÑ</option>
                            </select>
                        </div>
                        
                        <!-- Ï∞®Ïàò ÏÑ†ÌÉù -->
                        <div class="round-selector">
                            <span class="round-label">üîÑ Ï∞®Ïàò:</span>
                            <div class="round-buttons">
                                <button 
                                    v-for="round in [1, 2, 3, 4]" 
                                    :key="round"
                                    :class="['round-btn', { active: selectedRound === round }]"
                                    @click="selectRound(round)"
                                >
                                    {{ round }}Ï∞®
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ÏóÖÎ¨¥ ÏïàÎÇ¥ -->
                <div class="guide-section">
                    <div class="guide-title">ÏûêÎ¨∏ÏúÑÏõê ÏóÖÎ¨¥ ÏïàÎÇ¥</div>
                    <div>ÌôòÍ≤ΩÍ≥µÎã®Ïùò {{ selectedRound }}Ï∞® Í≤ÄÌÜ†Í∞Ä ÏôÑÎ£åÎêú ÏÇ¨ÏóÖÏóê ÎåÄÌï¥ Ï†ÑÎ¨∏Í∞Ä Í¥ÄÏ†êÏóêÏÑú ÏûêÎ¨∏ÏùòÍ≤¨ÏùÑ Ï†úÏãúÌï¥ Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§. Í∏∞Ïà†Ï†Å ÌÉÄÎãπÏÑ±, ÌôòÍ≤Ω Ìö®Í≥ºÏÑ±, Ïã§ÌòÑ Í∞ÄÎä•ÏÑ± Îì±ÏùÑ Ï§ëÏã¨ÏúºÎ°ú Í≤ÄÌÜ†Ìï¥ Ï£ºÏÑ∏Ïöî.</div>
                </div>
            </div>
            
            <!-- ÏûêÎ¨∏ÏúÑÏõê ÏóÖÎ¨¥ ÌòÑÌô© - 4Í∞ú Ìï≠Î™©ÏúºÎ°ú Îã®ÏàúÌôî -->
            <div class="advisor-stats">
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.totalProjects }}</div>
                    <div class="advisor-stat-label">Ï¥ù Í≤ÄÌÜ† ÎåÄÏÉÅ</div>
                    <div class="advisor-stat-detail">{{ selectedYear }}ÎÖÑ {{ selectedRound }}Ï∞®</div>
                </div>
                
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.waitingProjects }}</div>
                    <div class="advisor-stat-label">ÏûêÎ¨∏ÎåÄÍ∏∞</div>
                    <div class="advisor-stat-detail">ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ†ÏôÑÎ£å</div>
                </div>
                
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.completedProjects }}</div>
                    <div class="advisor-stat-label">ÏûêÎ¨∏ÏôÑÎ£å</div>
                    <div class="advisor-stat-detail">ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ±ÏôÑÎ£å</div>
                </div>
                
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.needsSupplementProjects }}</div>
                    <div class="advisor-stat-label">Î≥¥ÏôÑÌïÑÏöî</div>
                    <div class="advisor-stat-detail">Ï∂îÍ∞Ä Í≤ÄÌÜ† ÌïÑÏöî</div>
                </div>
            </div>
            
            <!-- Î∂ÄÏ≤òÎ≥Ñ ÏßÑÌñâÌòÑÌô© ÏÑπÏÖò Ï∂îÍ∞Ä -->
            <div class="ministry-progress-section">
                <h2 style="color: #7c3aed; margin-bottom: 20px; display: flex; align-items: center;">
                    üèõÔ∏è Î∂ÄÏ≤òÎ≥Ñ ÏßÑÌñâÌòÑÌô© ({{ selectedYear }}ÎÖÑ {{ selectedRound }}Ï∞®)
                </h2>
                
                <div class="ministry-cards">
                    <div v-for="ministry in ministryProgress" :key="ministry.name" class="ministry-card">
                        <div class="ministry-header">
                            <h3>{{ ministry.name }}</h3>
                            <span class="ministry-total">{{ ministry.totalProjects }}Í∞ú ÏÇ¨ÏóÖ</span>
                        </div>
                        
                        <div class="ministry-stats">
                            <div class="ministry-stat">
                                <span class="stat-label">ÏûêÎ¨∏ÎåÄÍ∏∞</span>
                                <span class="stat-value waiting">{{ ministry.waiting }}</span>
                            </div>
                            <div class="ministry-stat">
                                <span class="stat-label">ÏûêÎ¨∏ÏôÑÎ£å</span>
                                <span class="stat-value completed">{{ ministry.completed }}</span>
                            </div>
                            <div class="ministry-stat">
                                <span class="stat-label">ÏäπÏù∏Í∂åÍ≥†</span>
                                <span class="stat-value approved">{{ ministry.approved }}</span>
                            </div>
                        </div>
                        
                        <div class="ministry-progress-bar">
                            <div class="progress-bg">
                                <div class="progress-fill" :style="{ width: ministry.progressRate + '%' }"></div>
                            </div>
                            <span class="progress-text">{{ ministry.progressRate }}% ÏôÑÎ£å</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Í≤ÄÌÜ†ÏôÑÎ£å ÏÇ¨ÏóÖ Î™©Î°ù ÏÑπÏÖò -->
            <div class="projects-section">
                <div class="section-header">
                    <h2>Í≤ÄÌÜ†ÏôÑÎ£å ÏÇ¨ÏóÖ Î™©Î°ù ({{ selectedYear }}ÎÖÑ {{ selectedRound }}Ï∞®)</h2>
                    <div class="filter-controls">
                        <select v-model="ministryFilter" class="filter-select">
                            <option value="">Ï†ÑÏ≤¥ Î∂ÄÏ≤ò</option>
                            <option value="Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä">Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä</option>
                            <option value="ÏÇ∞ÏóÖÌÜµÏÉÅÏûêÏõêÎ∂Ä">ÏÇ∞ÏóÖÌÜµÏÉÅÏûêÏõêÎ∂Ä</option>
                            <option value="ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä">ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä</option>
                            <option value="Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä">Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä</option>
                        </select>
                        <select v-model="advisoryStatusFilter" class="filter-select">
                            <option value="">Ï†ÑÏ≤¥ ÏûêÎ¨∏ÏÉÅÌÉú</option>
                            <option value="ÏûêÎ¨∏ÎåÄÍ∏∞">ÏûêÎ¨∏ÎåÄÍ∏∞</option>
                            <option value="ÏûêÎ¨∏ÏôÑÎ£å">ÏûêÎ¨∏ÏôÑÎ£å</option>
                            <option value="ÏäπÏù∏Í∂åÍ≥†">ÏäπÏù∏Í∂åÍ≥†</option>
                            <option value="Î≥¥ÏôÑÍ∂åÍ≥†">Î≥¥ÏôÑÍ∂åÍ≥†</option>
                        </select>
                        <input 
                            v-model="searchKeyword" 
                            type="text" 
                            placeholder="ÏÇ¨ÏóÖÎ™Ö Í≤ÄÏÉâ..." 
                            class="search-input"
                        >
                    </div>
                </div>
                
                <table class="projects-table">
                    <thead>
                        <tr>
                            <th>ÏàúÎ≤à</th>
                            <th>Î∂ÄÏ≤òÎ™Ö</th>
                            <th>ÏÇ¨ÏóÖÏΩîÎìú</th>
                            <th>ÏÑ∏Î∂ÄÏÇ¨ÏóÖÎ™Ö</th>
                            <th>ÏòàÏÇ∞Ïï°(Î∞±ÎßåÏõê)</th>
                            <th>ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ†ÏùòÍ≤¨</th>
                            <th>ÏûêÎ¨∏ÏÉÅÌÉú</th>
                            <th>ÏûêÎ¨∏Ïùº</th>
                            <th>Ïï°ÏÖò</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(project, index) in filteredProjects" :key="project.id">
                            <td>{{ index + 1 }}</td>
                            <td>{{ project.ministry }}</td>
                            <td>{{ project.code }}</td>
                            <td>{{ project.name }}</td>
                            <td>{{ project.budget.toLocaleString() }}</td>
                            <td>{{ project.reviewResult }}</td>
                            <td>
                                <span :class="getAdvisoryStatusClass(project.advisoryStatus)">
                                    {{ project.advisoryStatus }}
                                </span>
                            </td>
                            <td>{{ project.advisoryDate || '-' }}</td>
                            <td>
                                <div class="action-buttons">
                                    <!-- ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ±/ÏàòÏ†ï Î≤ÑÌäº -->
                                    <button 
                                        v-if="project.advisoryStatus === 'ÏûêÎ¨∏ÎåÄÍ∏∞' || project.advisoryStatus === 'ÏûêÎ¨∏ÏôÑÎ£å'"
                                        class="btn btn-primary"
                                        @click="writeAdvisory(project)"
                                    >
                                        {{ project.advisoryStatus === 'ÏûêÎ¨∏ÎåÄÍ∏∞' ? 'ÏûêÎ¨∏ÏûëÏÑ±' : 'ÏûêÎ¨∏ÏàòÏ†ï' }}
                                    </button>
                                    
                                    <!-- ÏûêÎ¨∏ÏùòÍ≤¨ Î≥¥Í∏∞ Î≤ÑÌäº -->
                                    <button 
                                        v-if="project.advisoryStatus !== 'ÏûêÎ¨∏ÎåÄÍ∏∞'"
                                        class="btn btn-secondary"
                                        @click="viewAdvisory(project)"
                                    >
                                        ÏûêÎ¨∏ÏùòÍ≤¨
                                    </button>
                                    
                                    <!-- ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº -->
                                    <button 
                                        class="btn btn-warning"
                                        @click="viewProjectDetail(project)"
                                    >
                                        ÏÉÅÏÑ∏Î≥¥Í∏∞
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- ÌïòÎã® Ï†ïÎ≥¥ ÏÑπÏÖò - ÏÑ∏Î∂ÄÏÇ¨ÏóÖ Îã¥ÎãπÏûê Ïä§ÌÉÄÏùºÍ≥º ÎèôÏùº -->
            <div class="bottom-info-section">
                <!-- ÏôºÏ™Ω: Í≥µÏßÄÏÇ¨Ìï≠ -->
                <div class="info-card">
                    <h3>
                        üì¢ Í≥µÏßÄÏÇ¨Ìï≠
                        <button class="view-all-btn" @click="viewAllNotices">Ï†ÑÏ≤¥Î≥¥Í∏∞</button>
                    </h3>
                    <ul class="info-list">
                        <li v-for="notice in notices" :key="notice.id" class="info-item" @click="viewNotice(notice)">
                            <div class="info-title">{{ notice.title }}</div>
                            <div class="info-meta">
                                <span>{{ notice.date }}</span>
                                <span class="notice-badge" :class="notice.priority">{{ notice.priority === 'important' ? 'Ï§ëÏöî' : 'ÏùºÎ∞ò' }}</span>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <!-- Ïò§Î•∏Ï™Ω: ÎÇòÏóêÍ≤å Ïò® ÏïåÎ¶º -->
                <div class="info-card">
                    <h3>
                        üîî ÎÇòÏóêÍ≤å Ïò® ÏïåÎ¶º
                        <button class="view-all-btn" @click="viewAllAlerts">Ï†ÑÏ≤¥Î≥¥Í∏∞</button>
                    </h3>
                    <ul class="info-list">
                        <li v-for="alert in myAlerts" :key="alert.id" class="info-item" @click="viewMyAlert(alert)">
                            <div class="info-title">{{ alert.title }}</div>
                            <div class="info-meta">
                                <span>{{ alert.date }}</span>
                                <span class="alert-badge" :class="alert.type">{{ getAlertTypeText(alert.type) }}</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ± Î™®Îã¨ -->
        <div v-if="showAdvisoryModal" class="modal-overlay" @click="closeAdvisoryModal">
            <div class="modal-content" @click.stop>
                <div class="modal-header">
                    <button class="modal-close" @click="closeAdvisoryModal">&times;</button>
                    <h3 class="modal-title">ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ±</h3>
                    <p>{{ selectedProject.ministry }} - {{ selectedProject.name }}</p>
                </div>
                
                <!-- ÏÇ¨ÏóÖ ÏöîÏïΩ Ï†ïÎ≥¥ -->
                <div class="project-summary">
                    <h4 style="margin-bottom: 15px; color: #374151;">üìã ÏÇ¨ÏóÖ ÏöîÏïΩ Ï†ïÎ≥¥</h4>
                    <div class="project-info">
                        <div class="info-item">
                            <span class="info-label">ÏÇ¨ÏóÖÏΩîÎìú</span>
                            <span class="info-value">{{ selectedProject.code }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ÏòàÏÇ∞Ïï°</span>
                            <span class="info-value">{{ selectedProject.budget?.toLocaleString() }}Î∞±ÎßåÏõê</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Îã¥ÎãπÎ∂ÄÏ≤ò</span>
                            <span class="info-value">{{ selectedProject.ministry }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ†Ïûê</span>
                            <span class="info-value">{{ selectedProject.reviewer }}</span>
                        </div>
                    </div>
                </div>
                
                <!-- ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ†ÏùòÍ≤¨ -->
                <div class="review-section">
                    <h4>üè¢ ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ†ÏùòÍ≤¨</h4>
                    <div class="review-content">
                        <div class="review-text">
                            <strong>Í≤ÄÌÜ†Í≤∞Í≥º:</strong> {{ selectedProject.reviewResult }}<br><br>
                            <strong>ÏÉÅÏÑ∏ÏùòÍ≤¨:</strong><br>
                            {{ selectedProject.reviewComment }}
                        </div>
                    </div>
                </div>
                
                <!-- ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ± Ìèº -->
                <div class="advisory-form">
                    <h4 style="margin-bottom: 20px; color: #374151;">‚úçÔ∏è ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ±</h4>
                    
                    <div class="form-group">
                        <label class="form-label">Í∏∞Ïà†Ï†Å ÌÉÄÎãπÏÑ± ÌèâÍ∞Ä</label>
                        <textarea 
                            v-model="advisoryForm.technicalAssessment"
                            class="form-textarea"
                            placeholder="ÏÇ¨ÏóÖÏùò Í∏∞Ïà†Ï†Å ÌÉÄÎãπÏÑ±Ïóê ÎåÄÌïú ÏûêÎ¨∏ÏùòÍ≤¨ÏùÑ ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ÌôòÍ≤Ω Ìö®Í≥ºÏÑ± ÌèâÍ∞Ä</label>
                        <textarea 
                            v-model="advisoryForm.environmentalEffectiveness"
                            class="form-textarea"
                            placeholder="Ïò®Ïã§Í∞ÄÏä§ Í∞êÏ∂ï Ìö®Í≥º Î∞è ÌôòÍ≤Ω Í∞úÏÑ† Ìö®Í≥ºÏóê ÎåÄÌïú ÌèâÍ∞ÄÎ•º ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ïã§ÌòÑ Í∞ÄÎä•ÏÑ± ÌèâÍ∞Ä</label>
                        <textarea 
                            v-model="advisoryForm.feasibility"
                            class="form-textarea"
                            placeholder="ÏÇ¨ÏóÖÏùò Ïã§ÌòÑ Í∞ÄÎä•ÏÑ± Î∞è Ï∂îÏßÑ Î∞©ÏïàÏóê ÎåÄÌïú ÏùòÍ≤¨ÏùÑ ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ï¢ÖÌï© ÏûêÎ¨∏ÏùòÍ≤¨</label>
                        <textarea 
                            v-model="advisoryForm.overallComment"
                            class="form-textarea"
                            placeholder="Ï¢ÖÌï©Ï†ÅÏù∏ ÏûêÎ¨∏ÏùòÍ≤¨ Î∞è Í∞úÏÑ† Ï†úÏïàÏÇ¨Ìï≠ÏùÑ ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ÏµúÏ¢Ö Í∂åÍ≥†ÏÇ¨Ìï≠</label>
                        <select v-model="advisoryForm.recommendation" class="form-select">
                            <option value="">Í∂åÍ≥†ÏÇ¨Ìï≠ÏùÑ ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî</option>
                            <option value="ÏäπÏù∏Í∂åÍ≥†">ÏäπÏù∏ Í∂åÍ≥† - ÌòÑÏû¨ Í≥ÑÌöçÎåÄÎ°ú Ï∂îÏßÑ Í∂åÏû•</option>
                            <option value="Ï°∞Í±¥Î∂ÄÏäπÏù∏">Ï°∞Í±¥Î∂Ä ÏäπÏù∏ - ÏùºÎ∂Ä Î≥¥ÏôÑ ÌõÑ Ï∂îÏßÑ Í∂åÏû•</option>
                            <option value="Î≥¥ÏôÑÍ∂åÍ≥†">Î≥¥ÏôÑ Í∂åÍ≥† - ÏÉÅÎãπÌïú Î≥¥ÏôÑÏù¥ ÌïÑÏöîÌï®</option>
                            <option value="Ïû¨Í≤ÄÌÜ†Í∂åÍ≥†">Ïû¨Í≤ÄÌÜ† Í∂åÍ≥† - Í≥ÑÌöç Ï†ÑÎ∞òÏùò Ïû¨Í≤ÄÌÜ† ÌïÑÏöî</option>
                        </select>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-success btn-large" @click="saveAdvisory()">
                            üíæ ÏûêÎ¨∏ÏùòÍ≤¨ Ï†ÄÏû•
                        </button>
                        <button class="btn btn-secondary btn-large" @click="closeAdvisoryModal()">
                            Ï∑®ÏÜå
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const { createApp, ref, computed } = Vue;
        
        createApp({
            setup() {
                // ÏûêÎ¨∏ÏúÑÏõê Ï†ïÎ≥¥
                const advisor = ref({
                    name: 'ÍπÄÌôòÍ≤Ω',
                    affiliation: 'ÏÑúÏö∏ÎåÄÌïôÍµê ÌôòÍ≤ΩÍ≥µÌïôÍ≥º',
                    specialty: 'Ïò®Ïã§Í∞ÄÏä§ Í∞êÏ∂ïÍ∏∞Ïà† Ï†ÑÎ¨∏Í∞Ä'
                });
                
                // Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù ÏÉÅÌÉú Ï∂îÍ∞Ä
                const selectedYear = ref('2024');
                const selectedRound = ref(1);
                
                // Í∏∞Ï°¥ ÏÉÅÌÉúÎì§
                const ministryFilter = ref('');
                const advisoryStatusFilter = ref('');
                const searchKeyword = ref('');
                const showAdvisoryModal = ref(false);
                const selectedProject = ref({});
                
                // ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ± Ìèº
                const advisoryForm = ref({
                    technicalAssessment: '',
                    environmentalEffectiveness: '',
                    feasibility: '',
                    overallComment: '',
                    recommendation: ''
                });

                // ÏûêÎ¨∏ÏúÑÏõê ÌÜµÍ≥Ñ - refÎ°ú Î≥ÄÍ≤ΩÌï¥ÏÑú ÎèôÏ†Å ÏóÖÎç∞Ïù¥Ìä∏ Í∞ÄÎä•ÌïòÍ≤å
                const advisorStats = ref({
                    totalProjects: 23,
                    waitingProjects: 5,
                    completedProjects: 14,
                    needsSupplementProjects: 4
                });

                // Î∂ÄÏ≤òÎ≥Ñ ÏßÑÌñâÌòÑÌô© Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä (Ï∞®ÏàòÎ≥ÑÎ°ú Îã§Î•∏ Îç∞Ïù¥ÌÑ∞)
                const ministryProgress = computed(() => {
                    const progressData = {
                        1: [
                            { name: 'Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä', totalProjects: 5, waiting: 1, completed: 3, approved: 1, progressRate: 80 },
                            { name: 'ÏÇ∞ÏóÖÌÜµÏÉÅÏûêÏõêÎ∂Ä', totalProjects: 8, waiting: 2, completed: 4, approved: 2, progressRate: 75 },
                            { name: 'ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä', totalProjects: 3, waiting: 1, completed: 1, approved: 1, progressRate: 67 },
                            { name: 'Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä', totalProjects: 4, waiting: 1, completed: 2, approved: 1, progressRate: 75 },
                            { name: 'ÌôòÍ≤ΩÎ∂Ä', totalProjects: 3, waiting: 0, completed: 2, approved: 1, progressRate: 100 }
                        ],
                        2: [
                            { name: 'Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä', totalProjects: 3, waiting: 2, completed: 1, approved: 0, progressRate: 33 },
                            { name: 'ÏÇ∞ÏóÖÌÜµÏÉÅÏûêÏõêÎ∂Ä', totalProjects: 5, waiting: 3, completed: 2, approved: 0, progressRate: 40 },
                            { name: 'ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä', totalProjects: 2, waiting: 1, completed: 1, approved: 0, progressRate: 50 },
                            { name: 'Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä', totalProjects: 3, waiting: 2, completed: 1, approved: 0, progressRate: 33 },
                            { name: 'ÌôòÍ≤ΩÎ∂Ä', totalProjects: 2, waiting: 1, completed: 1, approved: 0, progressRate: 50 }
                        ],
                        3: [
                            { name: 'Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä', totalProjects: 1, waiting: 1, completed: 0, approved: 0, progressRate: 0 },
                            { name: 'ÏÇ∞ÏóÖÌÜµÏÉÅÏûêÏõêÎ∂Ä', totalProjects: 2, waiting: 2, completed: 0, approved: 0, progressRate: 0 },
                            { name: 'ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä', totalProjects: 1, waiting: 1, completed: 0, approved: 0, progressRate: 0 },
                            { name: 'Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä', totalProjects: 1, waiting: 1, completed: 0, approved: 0, progressRate: 0 }
                        ],
                        4: []
                    };
                    
                    return progressData[selectedRound.value] || [];
                });
                
                // Í≥µÏßÄÏÇ¨Ìï≠ Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä
                const notices = ref([
                    {
                        id: 1,
                        title: '2024ÎÖÑ Ïò®Ïã§Í∞ÄÏä§Í∞êÏ∂ïÏù∏ÏßÄ ÏòàÏÇ∞Ï†ú ÏûêÎ¨∏ÏúÑÏõê ÌôúÎèô ÏïàÎÇ¥',
                        date: '2024-12-20',
                        important: true,
                        priority: 'important'
                    },
                    {
                        id: 2,
                        title: 'ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ± Í∞ÄÏù¥ÎìúÎùºÏù∏ ÏóÖÎç∞Ïù¥Ìä∏',
                        date: '2024-12-18',
                        important: true,
                        priority: 'important'
                    },
                    {
                        id: 3,
                        title: 'ÏûêÎ¨∏ÏúÑÏõê ÏõåÌÅ¨ÏÉµ Í∞úÏµú ÏïàÎÇ¥ (1Ïõî ÏòàÏ†ï)',
                        date: '2024-12-15',
                        important: false,
                        priority: 'normal'
                    },
                    {
                        id: 4,
                        title: 'Ïö∞Ïàò ÏûêÎ¨∏ÏùòÍ≤¨ ÏÇ¨Î°ÄÏßë Î∞úÍ∞Ñ ÏïàÎÇ¥',
                        date: '2024-12-12',
                        important: false,
                        priority: 'normal'
                    },
                    {
                        id: 5,
                        title: '2Ï∞® ÏûêÎ¨∏ ÏùºÏ†ï ÏÇ¨Ï†Ñ Í≥µÏßÄ',
                        date: '2024-12-10',
                        important: false,
                        priority: 'normal'
                    }
                ]);
                
                // ÎÇòÏóêÍ≤å Ïò® ÏïåÎ¶º Îç∞Ïù¥ÌÑ∞ Ï∂îÍ∞Ä
                const myAlerts = ref([
                    {
                        id: 1,
                        title: 'Ïã†Í∑ú ÏûêÎ¨∏ ÏöîÏ≤≠: Ïä§ÎßàÌä∏Ìåú Ïò®Ïã§Í∞ÄÏä§ Í∞êÏ∂ïÏÇ¨ÏóÖ',
                        date: '2024-12-21',
                        read: false,
                        type: 'new'
                    },
                    {
                        id: 2,
                        title: 'AI Í∏∞Î∞ò ÏóêÎÑàÏßÄ Ìö®Ïú®Ìôî ÏãúÏä§ÌÖú ÏûêÎ¨∏ ÏôÑÎ£å ÌôïÏù∏',
                        date: '2024-12-20',
                        read: true,
                        type: 'normal'
                    },
                    {
                        id: 3,
                        title: 'ÏûêÎ¨∏ÏùòÍ≤¨ ÏàòÏ†ï ÏöîÏ≤≠: ÏπúÌôòÍ≤Ω ÎåÄÏ§ëÍµêÌÜµ ÌôïÏ∂©',
                        date: '2024-12-19',
                        read: true,
                        type: 'normal'
                    },
                    {
                        id: 4,
                        title: '1Ï∞® ÏûêÎ¨∏ ÌôúÎèô ÏôÑÎ£å ÏïàÎÇ¥',
                        date: '2024-12-18',
                        read: true,
                        type: 'normal'
                    },
                    {
                        id: 5,
                        title: 'ÏûêÎ¨∏ÏúÑÏõê ÏàòÎãπ ÏßÄÍ∏â ÏïàÎÇ¥',
                        date: '2024-12-15',
                        read: true,
                        type: 'normal'
                    }
                ]);
                
                // Í≤ÄÌÜ†ÏôÑÎ£å ÏÇ¨ÏóÖ Î™©Î°ù Îç∞Ïù¥ÌÑ∞ (ÌôòÍ≤ΩÍ≥µÎã® Í≤ÄÌÜ† ÏôÑÎ£åÎêú Í≤ÉÎßå)
                const projects = ref([
                    {
                        id: 1,
                        ministry: 'Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä',
                        code: 'KT2024-001',
                        name: 'Ïä§ÎßàÌä∏ÏãúÌã∞ Ïù∏ÌîÑÎùº Íµ¨Ï∂ï ÏÇ¨ÏóÖ',
                        budget: 15000,
                        reviewer: 'ÌôòÍ≤ΩÍ≥µÎã® Î∞ïÍ≤ÄÌÜ†',
                        reviewResult: 'ÏäπÏù∏',
                        reviewComment: 'Ïò®Ïã§Í∞ÄÏä§ Í∞êÏ∂ï Ìö®Í≥ºÍ∞Ä Î™ÖÌôïÌïòÍ≥† Í∏∞Ïà†Ï†Å ÌÉÄÎãπÏÑ±Ïù¥ ÎÜíÏùå. IoT Í∏∞Î∞ò ÍµêÌÜµ ÏµúÏ†ÅÌôîÎ°ú Ïó∞Í∞Ñ 15% CO2 Í∞êÏ∂ï ÏòàÏÉÅ.',
                        advisoryStatus: 'ÏäπÏù∏Í∂åÍ≥†',
                        advisoryDate: '2024-12-23',
                        advisoryComment: 'Í∏∞Ïà†Ï†ÅÏúºÎ°ú Í≤ÄÏ¶ùÎêú ÏÜîÎ£®ÏÖòÏù¥Î©∞ ÌôòÍ≤Ω Ìö®Í≥ºÍ∞Ä Îõ∞Ïñ¥ÎÇ®'
                    },
                    {
                        id: 2,
                        ministry: 'Íµ≠ÌÜ†ÍµêÌÜµÎ∂Ä',
                        code: 'KT2024-002',
                        name: 'ÏπúÌôòÍ≤Ω ÎåÄÏ§ëÍµêÌÜµ ÌôïÏ∂©',
                        budget: 28000,
                        reviewer: 'ÌôòÍ≤ΩÍ≥µÎã® ÍπÄÍ≤ÄÌÜ†',
                        reviewResult: 'Ï°∞Í±¥Î∂ÄÏäπÏù∏',
                        reviewComment: 'Ï†ÑÍ∏∞Î≤ÑÏä§ ÎèÑÏûÖÏùÄ Ï†ÅÏ†àÌïòÎÇò Ï∂©Ï†Ñ Ïù∏ÌîÑÎùº Í≥ÑÌöçÏù¥ Î∂ÄÏ°±Ìï®. Ïö¥Ìñâ Ìö®Ïú®ÏÑ± Í∞úÏÑ† Î∞©Ïïà Ï∂îÍ∞Ä ÌïÑÏöî.',
                        advisoryStatus: 'ÏûêÎ¨∏ÎåÄÍ∏∞',
                        advisoryDate: '',
                        advisoryComment: ''
                    },
                    {
                        id: 3,
                        ministry: 'ÏÇ∞ÏóÖÌÜµÏÉÅÏûêÏõêÎ∂Ä',
                        code: 'MT2024-001',
                        name: 'Ïã†Ïû¨ÏÉùÏóêÎÑàÏßÄ Î∞úÏ†ÑÎã®ÏßÄ Ï°∞ÏÑ±',
                        budget: 65000,
                        reviewer: 'ÌôòÍ≤ΩÍ≥µÎã® Ïù¥Í≤ÄÌÜ†',
                        reviewResult: 'ÏäπÏù∏',
                        reviewComment: 'ÌÉúÏñëÍ¥ë Î∞è ÌíçÎ†• Î∞úÏ†Ñ Í≥ÑÌöçÏù¥ Ï≤¥Í≥ÑÏ†ÅÏù¥Î©∞ ÏßÄÏó≠ ÌäπÏÑ±ÏùÑ Ïûò Î∞òÏòÅÌï®. Ïó∞Í∞Ñ 50ÎßåÌÜ§ CO2 Í∞êÏ∂ï Ìö®Í≥º ÏòàÏÉÅ.',
                        advisoryStatus: 'ÏûêÎ¨∏ÏôÑÎ£å',
                        advisoryDate: '2024-12-22',
                        advisoryComment: 'ÌôòÍ≤Ω Ìö®Í≥ºÏÑ±Í≥º Í≤ΩÏ†úÏÑ±Ïù¥ Î™®Îëê Ïö∞ÏàòÌï®'
                    },
                    {
                        id: 4,
                        ministry: 'ÎÜçÎ¶ºÏ∂ïÏÇ∞ÏãùÌíàÎ∂Ä',
                        code: 'AF2024-001',
                        name: 'Ïä§ÎßàÌä∏Ìåú Ïò®Ïã§Í∞ÄÏä§ Í∞êÏ∂ïÏÇ¨ÏóÖ',
                        budget: 12000,
                        reviewer: 'ÌôòÍ≤ΩÍ≥µÎã® ÏµúÍ≤ÄÌÜ†',
                        reviewResult: 'Î≥¥ÏôÑÌïÑÏöî',
                        reviewComment: 'AI Í∏∞Î∞ò ÎÜçÏóÖ Í∏∞Ïà†ÏùÄ Ïö∞ÏàòÌïòÎÇò Ïã§Ï†ú Í∞êÏ∂ïÎüâ ÏÇ∞Ï†ï Í∑ºÍ±∞ Î≥¥ÏôÑ ÌïÑÏöî. ÎÜçÍ∞Ä Ï∞∏Ïó¨ ÌôïÎåÄ Î∞©Ïïà Íµ¨Ï≤¥Ìôî ÏöîÍµ¨.',
                        advisoryStatus: 'ÏûêÎ¨∏ÎåÄÍ∏∞',
                        advisoryDate: '',
                        advisoryComment: ''
                    },
                    {
                        id: 5,
                        ministry: 'Í≥ºÌïôÍ∏∞Ïà†Ï†ïÎ≥¥ÌÜµÏã†Î∂Ä',
                        code: 'ST2024-001',
                        name: 'AI Í∏∞Î∞ò ÏóêÎÑàÏßÄ Ìö®Ïú®Ìôî ÏãúÏä§ÌÖú',
                        budget: 8500,
                        reviewer: 'ÌôòÍ≤ΩÍ≥µÎã® Ï†ïÍ≤ÄÌÜ†',
                        reviewResult: 'ÏäπÏù∏',
                        reviewComment: 'AI ÏïåÍ≥†Î¶¨Ï¶òÏùÑ ÌÜµÌïú ÏóêÎÑàÏßÄ ÏÇ¨Ïö© ÏµúÏ†ÅÌôî Î∞©ÏïàÏù¥ ÌòÅÏã†Ï†ÅÏûÑ. Í≥µÍ≥µÍ±¥Î¨º Ï†ÅÏö© Ïãú 20% ÏóêÎÑàÏßÄ Ï†àÏïΩ Í∞ÄÎä•.',
                        advisoryStatus: 'Î≥¥ÏôÑÍ∂åÍ≥†',
                        advisoryDate: '2024-12-21',
                        advisoryComment: 'Í∏∞Ïà†ÏùÄ Ïö∞ÏàòÌïòÎÇò ÌôïÏÇ∞ Í≥ÑÌöç Î≥¥ÏôÑ ÌïÑÏöî'
                    }
                ]);
                
                // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞ (ÌòÑÏû¨ ÏßÑÌñâ ÏÉÅÌô© Í∏∞Ï§Ä)
                const stats = computed(() => {
                    const total = projects.value.length;
                    const pending = projects.value.filter(p => p.advisoryStatus === 'ÏûêÎ¨∏ÎåÄÍ∏∞').length;
                    const completed = projects.value.filter(p => p.advisoryStatus !== 'ÏûêÎ¨∏ÎåÄÍ∏∞').length;
                    const approved = projects.value.filter(p => p.advisoryStatus === 'ÏäπÏù∏Í∂åÍ≥†').length;
                    
                    return { total, pending, completed, approved };
                });
                
                // ÌïÑÌÑ∞ÎßÅÎêú ÌîÑÎ°úÏ†ùÌä∏ Î™©Î°ù
                const filteredProjects = computed(() => {
                    let filtered = projects.value;
                    
                    // Î∂ÄÏ≤ò ÌïÑÌÑ∞
                    if (ministryFilter.value) {
                        filtered = filtered.filter(p => p.ministry === ministryFilter.value);
                    }
                    
                    // ÏûêÎ¨∏ÏÉÅÌÉú ÌïÑÌÑ∞
                    if (advisoryStatusFilter.value) {
                        filtered = filtered.filter(p => p.advisoryStatus === advisoryStatusFilter.value);
                    }
                    
                    // Í≤ÄÏÉâ ÌÇ§ÏõåÎìú ÌïÑÌÑ∞
                    if (searchKeyword.value) {
                        const keyword = searchKeyword.value.toLowerCase();
                        filtered = filtered.filter(p => 
                            p.name.toLowerCase().includes(keyword) ||
                            p.code.toLowerCase().includes(keyword)
                        );
                    }
                    
                    return filtered;
                });
                
                // ÏûêÎ¨∏ÏÉÅÌÉúÏóê Îî∞Î•∏ CSS ÌÅ¥ÎûòÏä§ Î∞òÌôò
                const getAdvisoryStatusClass = (status) => {
                    const statusMap = {
                        'ÏûêÎ¨∏ÎåÄÍ∏∞': 'advisory-status advisory-pending',
                        'ÏûêÎ¨∏ÏôÑÎ£å': 'advisory-status advisory-completed',
                        'ÏäπÏù∏Í∂åÍ≥†': 'advisory-status advisory-approved',
                        'Î≥¥ÏôÑÍ∂åÍ≥†': 'advisory-status advisory-rejected'
                    };
                    return statusMap[status] || 'advisory-status';
                };
                
                // Ïó∞ÎèÑ/Ï∞®Ïàò ÏÑ†ÌÉù Í¥ÄÎ†® Ìï®Ïàò Ï∂îÍ∞Ä
                const loadYearData = () => {
                    console.log(`${selectedYear.value}ÎÖÑ ÏûêÎ¨∏ Îç∞Ïù¥ÌÑ∞ Î°úÎìú`);
                    // Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂úÌïòÏó¨ Ìï¥Îãπ Ïó∞ÎèÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
                };
                
                // Ï∞®Ïàò ÏÑ†ÌÉù Ìï®Ïàò - ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ìè¨Ìï®
                const selectRound = (round) => {
                    selectedRound.value = round;
                    console.log(`${selectedYear.value}ÎÖÑ ${round}Ï∞® ÏûêÎ¨∏ Îç∞Ïù¥ÌÑ∞ Î°úÎìú`);
                    
                    // Ï∞®ÏàòÎ≥Ñ ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
                    const roundStats = {
                        1: { totalProjects: 23, waitingProjects: 5, completedProjects: 14, needsSupplementProjects: 4 },
                        2: { totalProjects: 15, waitingProjects: 9, completedProjects: 5, needsSupplementProjects: 1 },
                        3: { totalProjects: 5, waitingProjects: 5, completedProjects: 0, needsSupplementProjects: 0 },
                        4: { totalProjects: 0, waitingProjects: 0, completedProjects: 0, needsSupplementProjects: 0 }
                    };
                    
                    // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
                    const newStats = roundStats[round];
                    if (newStats) {
                        advisorStats.value = { ...newStats };
                    }
                };
                
                // ÏûêÎ¨∏ÏùòÍ≤¨ ÏûëÏÑ±
                const writeAdvisory = (project) => {
                    selectedProject.value = project;
                    
                    // Í∏∞Ï°¥ ÏûêÎ¨∏ÏùòÍ≤¨Ïù¥ ÏûàÏúºÎ©¥ ÌèºÏóê Î°úÎìú
                    if (project.advisoryStatus !== 'ÏûêÎ¨∏ÎåÄÍ∏∞') {
                        // Ïã§Ï†úÎ°úÎäî ÏÑúÎ≤ÑÏóêÏÑú ÏÉÅÏÑ∏ ÏûêÎ¨∏ÏùòÍ≤¨ÏùÑ Í∞ÄÏ†∏ÏôÄÏïº Ìï®
                        advisoryForm.value = {
                            technicalAssessment: 'Í∏∞Ï°¥ Í∏∞Ïà†Ï†Å ÌèâÍ∞Ä...',
                            environmentalEffectiveness: 'Í∏∞Ï°¥ ÌôòÍ≤Ω Ìö®Í≥ºÏÑ± ÌèâÍ∞Ä...',
                            feasibility: 'Í∏∞Ï°¥ Ïã§ÌòÑÍ∞ÄÎä•ÏÑ± ÌèâÍ∞Ä...',
                            overallComment: project.advisoryComment,
                            recommendation: project.advisoryStatus
                        };
                    } else {
                        // ÏÉà ÏûëÏÑ±
                        advisoryForm.value = {
                            technicalAssessment: '',
                            environmentalEffectiveness: '',
                            feasibility: '',
                            overallComment: '',
                            recommendation: ''
                        };
                    }
                    
                    showAdvisoryModal.value = true;
                };
                
                // ÏûêÎ¨∏ÏùòÍ≤¨ Î≥¥Í∏∞
                const viewAdvisory = (project) => {
                    alert(`${project.name}Ïùò ÏûêÎ¨∏ÏùòÍ≤¨ÏùÑ Ï°∞ÌöåÌï©ÎãàÎã§.\n\n${project.advisoryComment}`);
                };
                
                // ÏÇ¨ÏóÖ ÏÉÅÏÑ∏Î≥¥Í∏∞
                const viewProjectDetail = (project) => {
                    alert(`${project.name} ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Ï°∞ÌöåÌï©ÎãàÎã§.`);
                };
                
                // ÏûêÎ¨∏ÏùòÍ≤¨ Ï†ÄÏû•
                const saveAdvisory = () => {
                    if (!advisoryForm.value.recommendation) {
                        alert('ÏµúÏ¢Ö Í∂åÍ≥†ÏÇ¨Ìï≠ÏùÑ ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî.');
                        return;
                    }
                    
                    if (!advisoryForm.value.overallComment.trim()) {
                        alert('Ï¢ÖÌï© ÏûêÎ¨∏ÏùòÍ≤¨ÏùÑ ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî.');
                        return;
                    }
                    
                    // ÏûêÎ¨∏ÏùòÍ≤¨ Ï†ÄÏû• Î°úÏßÅ
                    const project = projects.value.find(p => p.id === selectedProject.value.id);
                    if (project) {
                        project.advisoryStatus = advisoryForm.value.recommendation;
                        project.advisoryDate = new Date().toISOString().split('T')[0];
                        project.advisoryComment = advisoryForm.value.overallComment;
                    }
                    
                    alert('ÏûêÎ¨∏ÏùòÍ≤¨Ïù¥ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.');
                    closeAdvisoryModal();
                };
                
                // Î™®Îã¨ Îã´Í∏∞
                const closeAdvisoryModal = () => {
                    showAdvisoryModal.value = false;
                    selectedProject.value = {};
                    advisoryForm.value = {
                        technicalAssessment: '',
                        environmentalEffectiveness: '',
                        feasibility: '',
                        overallComment: '',
                        recommendation: ''
                    };
                };
                
                // Í≥µÏßÄÏÇ¨Ìï≠ Í¥ÄÎ†® Ìï®Ïàò Ï∂îÍ∞Ä
                const viewNotice = (notice) => {
                    alert(`Í≥µÏßÄÏÇ¨Ìï≠ ÏÉÅÏÑ∏Î≥¥Í∏∞\n\nÏ†úÎ™©: ${notice.title}\nÏûëÏÑ±Ïùº: ${notice.date}\n\nÏûêÏÑ∏Ìïú ÎÇ¥Ïö©ÏùÄ Í≥µÏßÄÏÇ¨Ìï≠ ÏÉÅÏÑ∏ÌéòÏù¥ÏßÄÏóêÏÑú ÌôïÏù∏ÌïòÏÑ∏Ïöî.`);
                };
                
                const viewAllNotices = () => {
                    alert('Í≥µÏßÄÏÇ¨Ìï≠ Ï†ÑÏ≤¥ Î™©Î°ù ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
                };
                
                // Í∞úÏù∏ ÏïåÎ¶º Í¥ÄÎ†® Ìï®Ïàò Ï∂îÍ∞Ä
                const viewMyAlert = (alert) => {
                    alert.read = true;
                    alert(`ÎÇ¥ ÏïåÎ¶º\n\nÏ†úÎ™©: ${alert.title}\nÎÇ†Ïßú: ${alert.date}\n\nÍ¥ÄÎ†® ÏÇ¨ÏóÖÏùò ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî.`);
                };
                
                const viewAllAlerts = () => {
                    alert('ÎÇ¥ ÏïåÎ¶º Ï†ÑÏ≤¥ Î™©Î°ù ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
                };

                // ÏïåÎ¶º ÌÉÄÏûÖ ÌÖçÏä§Ìä∏ Î≥ÄÌôò Ìï®Ïàò Ï∂îÍ∞Ä
                const getAlertTypeText = (type) => {
                    const typeMap = {
                        'new': 'Ïã†Í∑ú',
                        'normal': 'ÏùΩÏùå',
                        'important': 'Ï§ëÏöî'
                    };
                    return typeMap[type] || 'ÏùºÎ∞ò';
                };

                return {
                    advisor,
                    selectedYear,
                    selectedRound,
                    ministryFilter,
                    advisoryStatusFilter,
                    searchKeyword,
                    showAdvisoryModal,
                    selectedProject,
                    advisoryForm,
                    projects,
                    notices,
                    myAlerts,
                    stats,
                    filteredProjects,
                    ministryProgress, // Ï∂îÍ∞Ä
                    getAdvisoryStatusClass,
                    getAlertTypeText,
                    loadYearData,
                    selectRound, // ÏóÖÎç∞Ïù¥Ìä∏Îêú Ìï®Ïàò
                    viewNotice,
                    viewAllNotices,
                    viewMyAlert,
                    viewAllAlerts,
                    writeAdvisory,
                    viewAdvisory,
                    viewProjectDetail,
                    saveAdvisory,
                    closeAdvisoryModal,
                    advisorStats
                };
            }
        }).mount('#app');
    </script>
</body>
</html> 