<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìë¬¸ìœ„ì› - ê²€í† ì™„ë£Œ ì‚¬ì—… ìë¬¸ì˜ê²¬ ì‘ì„±</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #7c3aed 0%, #4c1d95 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1500px;
            margin: 0 auto;
        }
        
        /* í—¤ë” ì„¹ì…˜ - ìë¬¸ìœ„ì› ì •ë³´ ë° í˜„ì¬ ìƒíƒœ */
        .header {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        /* í—¤ë” ê°œì„  - ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ì¶”ê°€ */
        .header-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* í—¤ë” ì—¬ë°± ì¡°ì • - ê²¹ì¹¨ ë°©ì§€ */
        .header-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            padding: 12px 20px;
            background: #f3e8ff;
            border: 2px solid #7c3aed;
            border-radius: 10px;
            margin-bottom: 20px; /* ì—¬ë°± ì¶”ê°€í•˜ì—¬ ê²¹ì¹¨ ë°©ì§€ */
        }
        
        .year-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .year-label {
            font-weight: bold;
            color: #7c3aed;
            font-size: 15px;
        }
        
        .year-dropdown {
            padding: 8px 15px;
            border: 2px solid #7c3aed;
            border-radius: 8px;
            font-weight: bold;
            color: #7c3aed;
            background: white;
            min-width: 100px;
            font-size: 14px;
        }
        
        .round-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .round-label {
            font-weight: bold;
            color: #7c3aed;
            font-size: 15px;
        }
        
        .round-buttons {
            display: flex;
            gap: 6px;
        }
        
        .round-btn {
            padding: 8px 15px;
            border: 2px solid #7c3aed;
            border-radius: 8px;
            background: white;
            color: #7c3aed;
            font-weight: bold;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 50px;
        }
        
        .round-btn.active {
            background: #7c3aed;
            color: white;
        }
        
        .round-btn:hover {
            background: #6d28d9;
            color: white;
        }
        
        .advisor-info h1 {
            color: #7c3aed;
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .advisor-info p {
            color: #6b7280;
            font-size: 14px;
        }
        
        .current-status {
            background: #f3e8ff;
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .current-status h3 {
            color: #7c3aed;
            margin-bottom: 5px;
        }
        
        .status-badge {
            background: #10b981;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* ì—…ë¬´ ì•ˆë‚´ ì„¹ì…˜ */
        .guide-section {
            background: #e0f2fe;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 25px;
        }
        
        .guide-title {
            color: #0369a1;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .guide-title::before {
            content: "ğŸ“‹";
            margin-right: 8px;
        }
        
        /* í†µê³„ ëŒ€ì‹œë³´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #6b7280;
            font-size: 14px;
        }
        
        .stat-pending { color: #f59e0b; }
        .stat-completed { color: #10b981; }
        .stat-total { color: #3b82f6; }
        .stat-approved { color: #059669; }
        
        /* ê²€í† ì™„ë£Œ ì‚¬ì—… ëª©ë¡ */
        .projects-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-header h2 {
            color: #7c3aed;
            font-size: 22px;
        }
        
        .filter-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .search-input {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            width: 200px;
        }
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .projects-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .projects-table th,
        .projects-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .projects-table th {
            background: #f9fafb;
            font-weight: bold;
            color: #374151;
        }
        
        .advisory-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
        }
        
        .advisory-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .advisory-completed {
            background: #d1fae5;
            color: #065f46;
        }
        
        .advisory-approved {
            background: #dcfce7;
            color: #14532d;
        }
        
        .advisory-rejected {
            background: #fee2e2;
            color: #991b1b;
        }
        
        /* ì•¡ì…˜ ë²„íŠ¼ë“¤ */
        .action-buttons {
            display: flex;
            gap: 5px;
        }
        
        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-primary {
            background: #7c3aed;
            color: white;
        }
        
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-warning {
            background: #f59e0b;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.8;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ìë¬¸ì˜ê²¬ ì‘ì„± ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 900px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .modal-title {
            color: #7c3aed;
            font-size: 22px;
            margin-bottom: 8px;
        }
        
        .modal-close {
            float: right;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }
        
        .project-summary {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        
        .project-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
        }
        
        .info-label {
            font-weight: bold;
            color: #374151;
            margin-bottom: 4px;
        }
        
        .info-value {
            color: #6b7280;
        }
        
        .review-section {
            margin-bottom: 25px;
        }
        
        .review-section h4 {
            color: #374151;
            margin-bottom: 10px;
            padding: 10px;
            background: #f3f4f6;
            border-radius: 6px;
        }
        
        .review-content {
            background: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #3b82f6;
            margin-bottom: 15px;
        }
        
        .review-text {
            color: #374151;
            line-height: 1.6;
        }
        
        .advisory-form {
            border-top: 2px solid #e5e7eb;
            padding-top: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-weight: bold;
            color: #374151;
            margin-bottom: 8px;
        }
        
        .form-textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }
        
        .form-select {
            width: 100%;
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }
        
        .btn-large {
            padding: 12px 30px;
            font-size: 16px;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .filter-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-input {
                width: 100%;
            }
            
            .project-info {
                grid-template-columns: 1fr;
            }
        }

        /* ìë¬¸ìœ„ì› ì—…ë¬´ ì•ˆë‚´ */
        .advisor-guide {
            background: #dbeafe;
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
        }

        /* í•˜ë‹¨ ì •ë³´ ì„¹ì…˜ - ì„¸ë¶€ì‚¬ì—… ë‹´ë‹¹ì ìŠ¤íƒ€ì¼ê³¼ ë™ì¼í•˜ê²Œ */
        .bottom-info-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        
        .info-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            height: fit-content;
        }
        
        .info-card h3 {
            color: #334155;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .info-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .info-item {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .info-item:hover {
            background: #f1f5f9;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-title {
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 4px;
            text-align: left;
        }
        
        .info-meta {
            font-size: 12px;
            color: #64748b;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* ë°°ì§€ ìŠ¤íƒ€ì¼ í†µì¼ */
        .notice-badge, .alert-badge {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .notice-badge.important, .alert-badge.important {
            background: #ef4444;
            color: white;
        }
        
        .notice-badge.normal, .alert-badge.normal {
            background: #7c3aed;
            color: white;
        }
        
        .alert-badge.new {
            background: #10b981;
            color: white;
        }
        
        .alert-badge.read {
            background: #6b7280;
            color: white;
        }
        
        /* ì „ì²´ë³´ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .view-all-btn {
            background: #6b7280;
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .view-all-btn:hover {
            background: #4b5563;
        }

        /* ìë¬¸ìœ„ì› í†µê³„ ìŠ¤íƒ€ì¼ - 4ê°œ í•­ëª© */
        .advisor-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 5ê°œ â†’ 4ê°œë¡œ ë³€ê²½ */
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .advisor-stat-card {
            background: #f3e8ff;
            border: 2px solid #a855f7;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .advisor-stat-card:hover {
            border-color: #7c3aed;
            background: #ede9fe;
            transform: translateY(-2px);
        }
        
        .advisor-stat-number {
            font-size: 28px;
            font-weight: bold;
            color: #7c3aed;
            margin-bottom: 8px;
        }
        
        .advisor-stat-label {
            font-size: 14px;
            font-weight: bold;
            color: #581c87;
            margin-bottom: 4px;
        }
        
        .advisor-stat-detail {
            font-size: 12px;
            color: #6b46c1;
        }

        /* ë¶€ì²˜ë³„ ì§„í–‰í˜„í™© ì„¹ì…˜ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        .ministry-progress-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .ministry-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .ministry-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .ministry-card:hover {
            border-color: #7c3aed;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
        }
        
        .ministry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .ministry-header h3 {
            color: #1e293b;
            font-size: 16px;
            font-weight: bold;
        }
        
        .ministry-total {
            background: #7c3aed;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .ministry-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .ministry-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .stat-label {
            font-size: 11px;
            color: #64748b;
            margin-bottom: 4px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
        }
        
        .stat-value.waiting {
            color: #f59e0b;
        }
        
        .stat-value.completed {
            color: #10b981;
        }
        
        .stat-value.approved {
            color: #059669;
        }
        
        .ministry-progress-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-bg {
            flex: 1;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed, #a855f7);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            font-size: 12px;
            font-weight: bold;
            color: #7c3aed;
            min-width: 60px;
            text-align: right;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- í—¤ë” ì„¹ì…˜ - ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ì¶”ê°€ -->
            <div class="header">
                <div class="header-content">
                    <div class="header-top">
                        <div class="advisor-info">
                            <h1>{{ advisor.name }} ìë¬¸ìœ„ì›</h1>
                            <p>{{ advisor.affiliation }} | {{ advisor.specialty }}</p>
                        </div>
                        <div class="current-status">
                            <h3>{{ selectedRound }}ì°¨ ìë¬¸ ì§„í–‰ ì¤‘</h3>
                            <span class="status-badge">ìë¬¸ ê¸°ê°„</span>
                        </div>
                    </div>
                    
                    <!-- ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ì¶”ê°€ -->
                    <div class="header-controls">
                        <!-- íšŒê³„ì—°ë„ ì„ íƒ -->
                        <div class="year-selector">
                            <span class="year-label">ğŸ“… íšŒê³„ì—°ë„:</span>
                            <select v-model="selectedYear" @change="loadYearData" class="year-dropdown">
                                <option value="2024">2024ë…„</option>
                                <option value="2023">2023ë…„</option>
                                <option value="2022">2022ë…„</option>
                            </select>
                        </div>
                        
                        <!-- ì°¨ìˆ˜ ì„ íƒ -->
                        <div class="round-selector">
                            <span class="round-label">ğŸ”„ ì°¨ìˆ˜:</span>
                            <div class="round-buttons">
                                <button 
                                    v-for="round in [1, 2, 3, 4]" 
                                    :key="round"
                                    :class="['round-btn', { active: selectedRound === round }]"
                                    @click="selectRound(round)"
                                >
                                    {{ round }}ì°¨
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ì—…ë¬´ ì•ˆë‚´ -->
                <div class="guide-section">
                    <div class="guide-title">ìë¬¸ìœ„ì› ì—…ë¬´ ì•ˆë‚´</div>
                    <div>í™˜ê²½ê³µë‹¨ì˜ {{ selectedRound }}ì°¨ ê²€í† ê°€ ì™„ë£Œëœ ì‚¬ì—…ì— ëŒ€í•´ ì „ë¬¸ê°€ ê´€ì ì—ì„œ ìë¬¸ì˜ê²¬ì„ ì œì‹œí•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ê¸°ìˆ ì  íƒ€ë‹¹ì„±, í™˜ê²½ íš¨ê³¼ì„±, ì‹¤í˜„ ê°€ëŠ¥ì„± ë“±ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê²€í† í•´ ì£¼ì„¸ìš”.</div>
                </div>
            </div>
            
            <!-- ìë¬¸ìœ„ì› ì—…ë¬´ í˜„í™© - 4ê°œ í•­ëª©ìœ¼ë¡œ ë‹¨ìˆœí™” -->
            <div class="advisor-stats">
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.totalProjects }}</div>
                    <div class="advisor-stat-label">ì´ ê²€í†  ëŒ€ìƒ</div>
                    <div class="advisor-stat-detail">{{ selectedYear }}ë…„ {{ selectedRound }}ì°¨</div>
                </div>
                
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.waitingProjects }}</div>
                    <div class="advisor-stat-label">ìë¬¸ëŒ€ê¸°</div>
                    <div class="advisor-stat-detail">í™˜ê²½ê³µë‹¨ ê²€í† ì™„ë£Œ</div>
                </div>
                
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.completedProjects }}</div>
                    <div class="advisor-stat-label">ìë¬¸ì™„ë£Œ</div>
                    <div class="advisor-stat-detail">ìë¬¸ì˜ê²¬ ì‘ì„±ì™„ë£Œ</div>
                </div>
                
                <div class="advisor-stat-card">
                    <div class="advisor-stat-number">{{ advisorStats.needsSupplementProjects }}</div>
                    <div class="advisor-stat-label">ë³´ì™„í•„ìš”</div>
                    <div class="advisor-stat-detail">ì¶”ê°€ ê²€í†  í•„ìš”</div>
                </div>
            </div>
            
            <!-- ë¶€ì²˜ë³„ ì§„í–‰í˜„í™© ì„¹ì…˜ ì¶”ê°€ -->
            <div class="ministry-progress-section">
                <h2 style="color: #7c3aed; margin-bottom: 20px; display: flex; align-items: center;">
                    ğŸ›ï¸ ë¶€ì²˜ë³„ ì§„í–‰í˜„í™© ({{ selectedYear }}ë…„ {{ selectedRound }}ì°¨)
                </h2>
                
                <div class="ministry-cards">
                    <div v-for="ministry in ministryProgress" :key="ministry.name" class="ministry-card">
                        <div class="ministry-header">
                            <h3>{{ ministry.name }}</h3>
                            <span class="ministry-total">{{ ministry.totalProjects }}ê°œ ì‚¬ì—…</span>
                        </div>
                        
                        <div class="ministry-stats">
                            <div class="ministry-stat">
                                <span class="stat-label">ìë¬¸ëŒ€ê¸°</span>
                                <span class="stat-value waiting">{{ ministry.waiting }}</span>
                            </div>
                            <div class="ministry-stat">
                                <span class="stat-label">ìë¬¸ì™„ë£Œ</span>
                                <span class="stat-value completed">{{ ministry.completed }}</span>
                            </div>
                            <div class="ministry-stat">
                                <span class="stat-label">ìŠ¹ì¸ê¶Œê³ </span>
                                <span class="stat-value approved">{{ ministry.approved }}</span>
                            </div>
                        </div>
                        
                        <div class="ministry-progress-bar">
                            <div class="progress-bg">
                                <div class="progress-fill" :style="{ width: ministry.progressRate + '%' }"></div>
                            </div>
                            <span class="progress-text">{{ ministry.progressRate }}% ì™„ë£Œ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê²€í† ì™„ë£Œ ì‚¬ì—… ëª©ë¡ ì„¹ì…˜ -->
            <div class="projects-section">
                <div class="section-header">
                    <h2>ê²€í† ì™„ë£Œ ì‚¬ì—… ëª©ë¡ ({{ selectedYear }}ë…„ {{ selectedRound }}ì°¨)</h2>
                    <div class="filter-controls">
                        <select v-model="ministryFilter" class="filter-select">
                            <option value="">ì „ì²´ ë¶€ì²˜</option>
                            <option value="êµ­í† êµí†µë¶€">êµ­í† êµí†µë¶€</option>
                            <option value="ì‚°ì—…í†µìƒìì›ë¶€">ì‚°ì—…í†µìƒìì›ë¶€</option>
                            <option value="ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€">ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€</option>
                            <option value="ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€">ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€</option>
                        </select>
                        <select v-model="advisoryStatusFilter" class="filter-select">
                            <option value="">ì „ì²´ ìë¬¸ìƒíƒœ</option>
                            <option value="ìë¬¸ëŒ€ê¸°">ìë¬¸ëŒ€ê¸°</option>
                            <option value="ìë¬¸ì™„ë£Œ">ìë¬¸ì™„ë£Œ</option>
                            <option value="ìŠ¹ì¸ê¶Œê³ ">ìŠ¹ì¸ê¶Œê³ </option>
                            <option value="ë³´ì™„ê¶Œê³ ">ë³´ì™„ê¶Œê³ </option>
                        </select>
                        <input 
                            v-model="searchKeyword" 
                            type="text" 
                            placeholder="ì‚¬ì—…ëª… ê²€ìƒ‰..." 
                            class="search-input"
                        >
                    </div>
                </div>
                
                <table class="projects-table">
                    <thead>
                        <tr>
                            <th>ìˆœë²ˆ</th>
                            <th>ë¶€ì²˜ëª…</th>
                            <th>ì‚¬ì—…ì½”ë“œ</th>
                            <th>ì„¸ë¶€ì‚¬ì—…ëª…</th>
                            <th>ì˜ˆì‚°ì•¡(ë°±ë§Œì›)</th>
                            <th>í™˜ê²½ê³µë‹¨ ê²€í† ì˜ê²¬</th>
                            <th>ìë¬¸ìƒíƒœ</th>
                            <th>ìë¬¸ì¼</th>
                            <th>ì•¡ì…˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(project, index) in filteredProjects" :key="project.id">
                            <td>{{ index + 1 }}</td>
                            <td>{{ project.ministry }}</td>
                            <td>{{ project.code }}</td>
                            <td>{{ project.name }}</td>
                            <td>{{ project.budget.toLocaleString() }}</td>
                            <td>{{ project.reviewResult }}</td>
                            <td>
                                <span :class="getAdvisoryStatusClass(project.advisoryStatus)">
                                    {{ project.advisoryStatus }}
                                </span>
                            </td>
                            <td>{{ project.advisoryDate || '-' }}</td>
                            <td>
                                <div class="action-buttons">
                                    <!-- ìë¬¸ì˜ê²¬ ì‘ì„±/ìˆ˜ì • ë²„íŠ¼ -->
                                    <button 
                                        v-if="project.advisoryStatus === 'ìë¬¸ëŒ€ê¸°' || project.advisoryStatus === 'ìë¬¸ì™„ë£Œ'"
                                        class="btn btn-primary"
                                        @click="writeAdvisory(project)"
                                    >
                                        {{ project.advisoryStatus === 'ìë¬¸ëŒ€ê¸°' ? 'ìë¬¸ì‘ì„±' : 'ìë¬¸ìˆ˜ì •' }}
                                    </button>
                                    
                                    <!-- ìë¬¸ì˜ê²¬ ë³´ê¸° ë²„íŠ¼ -->
                                    <button 
                                        v-if="project.advisoryStatus !== 'ìë¬¸ëŒ€ê¸°'"
                                        class="btn btn-secondary"
                                        @click="viewAdvisory(project)"
                                    >
                                        ìë¬¸ì˜ê²¬
                                    </button>
                                    
                                    <!-- ìƒì„¸ë³´ê¸° ë²„íŠ¼ -->
                                    <button 
                                        class="btn btn-warning"
                                        @click="viewProjectDetail(project)"
                                    >
                                        ìƒì„¸ë³´ê¸°
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- í•˜ë‹¨ ì •ë³´ ì„¹ì…˜ - ì„¸ë¶€ì‚¬ì—… ë‹´ë‹¹ì ìŠ¤íƒ€ì¼ê³¼ ë™ì¼ -->
            <div class="bottom-info-section">
                <!-- ì™¼ìª½: ê³µì§€ì‚¬í•­ -->
                <div class="info-card">
                    <h3>
                        ğŸ“¢ ê³µì§€ì‚¬í•­
                        <button class="view-all-btn" @click="viewAllNotices">ì „ì²´ë³´ê¸°</button>
                    </h3>
                    <ul class="info-list">
                        <li v-for="notice in notices" :key="notice.id" class="info-item" @click="viewNotice(notice)">
                            <div class="info-title">{{ notice.title }}</div>
                            <div class="info-meta">
                                <span>{{ notice.date }}</span>
                                <span class="notice-badge" :class="notice.priority">{{ notice.priority === 'important' ? 'ì¤‘ìš”' : 'ì¼ë°˜' }}</span>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <!-- ì˜¤ë¥¸ìª½: ë‚˜ì—ê²Œ ì˜¨ ì•Œë¦¼ -->
                <div class="info-card">
                    <h3>
                        ğŸ”” ë‚˜ì—ê²Œ ì˜¨ ì•Œë¦¼
                        <button class="view-all-btn" @click="viewAllAlerts">ì „ì²´ë³´ê¸°</button>
                    </h3>
                    <ul class="info-list">
                        <li v-for="alert in myAlerts" :key="alert.id" class="info-item" @click="viewMyAlert(alert)">
                            <div class="info-title">{{ alert.title }}</div>
                            <div class="info-meta">
                                <span>{{ alert.date }}</span>
                                <span class="alert-badge" :class="alert.type">{{ getAlertTypeText(alert.type) }}</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- ìë¬¸ì˜ê²¬ ì‘ì„± ëª¨ë‹¬ -->
        <div v-if="showAdvisoryModal" class="modal-overlay" @click="closeAdvisoryModal">
            <div class="modal-content" @click.stop>
                <div class="modal-header">
                    <button class="modal-close" @click="closeAdvisoryModal">&times;</button>
                    <h3 class="modal-title">ìë¬¸ì˜ê²¬ ì‘ì„±</h3>
                    <p>{{ selectedProject.ministry }} - {{ selectedProject.name }}</p>
                </div>
                
                <!-- ì‚¬ì—… ìš”ì•½ ì •ë³´ -->
                <div class="project-summary">
                    <h4 style="margin-bottom: 15px; color: #374151;">ğŸ“‹ ì‚¬ì—… ìš”ì•½ ì •ë³´</h4>
                    <div class="project-info">
                        <div class="info-item">
                            <span class="info-label">ì‚¬ì—…ì½”ë“œ</span>
                            <span class="info-value">{{ selectedProject.code }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ì˜ˆì‚°ì•¡</span>
                            <span class="info-value">{{ selectedProject.budget?.toLocaleString() }}ë°±ë§Œì›</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ë‹´ë‹¹ë¶€ì²˜</span>
                            <span class="info-value">{{ selectedProject.ministry }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">í™˜ê²½ê³µë‹¨ ê²€í† ì</span>
                            <span class="info-value">{{ selectedProject.reviewer }}</span>
                        </div>
                    </div>
                </div>
                
                <!-- í™˜ê²½ê³µë‹¨ ê²€í† ì˜ê²¬ -->
                <div class="review-section">
                    <h4>ğŸ¢ í™˜ê²½ê³µë‹¨ ê²€í† ì˜ê²¬</h4>
                    <div class="review-content">
                        <div class="review-text">
                            <strong>ê²€í† ê²°ê³¼:</strong> {{ selectedProject.reviewResult }}<br><br>
                            <strong>ìƒì„¸ì˜ê²¬:</strong><br>
                            {{ selectedProject.reviewComment }}
                        </div>
                    </div>
                </div>
                
                <!-- ìë¬¸ì˜ê²¬ ì‘ì„± í¼ -->
                <div class="advisory-form">
                    <h4 style="margin-bottom: 20px; color: #374151;">âœï¸ ìë¬¸ì˜ê²¬ ì‘ì„±</h4>
                    
                    <div class="form-group">
                        <label class="form-label">ê¸°ìˆ ì  íƒ€ë‹¹ì„± í‰ê°€</label>
                        <textarea 
                            v-model="advisoryForm.technicalAssessment"
                            class="form-textarea"
                            placeholder="ì‚¬ì—…ì˜ ê¸°ìˆ ì  íƒ€ë‹¹ì„±ì— ëŒ€í•œ ìë¬¸ì˜ê²¬ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">í™˜ê²½ íš¨ê³¼ì„± í‰ê°€</label>
                        <textarea 
                            v-model="advisoryForm.environmentalEffectiveness"
                            class="form-textarea"
                            placeholder="ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶• íš¨ê³¼ ë° í™˜ê²½ ê°œì„  íš¨ê³¼ì— ëŒ€í•œ í‰ê°€ë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ì‹¤í˜„ ê°€ëŠ¥ì„± í‰ê°€</label>
                        <textarea 
                            v-model="advisoryForm.feasibility"
                            class="form-textarea"
                            placeholder="ì‚¬ì—…ì˜ ì‹¤í˜„ ê°€ëŠ¥ì„± ë° ì¶”ì§„ ë°©ì•ˆì— ëŒ€í•œ ì˜ê²¬ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ì¢…í•© ìë¬¸ì˜ê²¬</label>
                        <textarea 
                            v-model="advisoryForm.overallComment"
                            class="form-textarea"
                            placeholder="ì¢…í•©ì ì¸ ìë¬¸ì˜ê²¬ ë° ê°œì„  ì œì•ˆì‚¬í•­ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”..."
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ìµœì¢… ê¶Œê³ ì‚¬í•­</label>
                        <select v-model="advisoryForm.recommendation" class="form-select">
                            <option value="">ê¶Œê³ ì‚¬í•­ì„ ì„ íƒí•´ ì£¼ì„¸ìš”</option>
                            <option value="ìŠ¹ì¸ê¶Œê³ ">ìŠ¹ì¸ ê¶Œê³  - í˜„ì¬ ê³„íšëŒ€ë¡œ ì¶”ì§„ ê¶Œì¥</option>
                            <option value="ì¡°ê±´ë¶€ìŠ¹ì¸">ì¡°ê±´ë¶€ ìŠ¹ì¸ - ì¼ë¶€ ë³´ì™„ í›„ ì¶”ì§„ ê¶Œì¥</option>
                            <option value="ë³´ì™„ê¶Œê³ ">ë³´ì™„ ê¶Œê³  - ìƒë‹¹í•œ ë³´ì™„ì´ í•„ìš”í•¨</option>
                            <option value="ì¬ê²€í† ê¶Œê³ ">ì¬ê²€í†  ê¶Œê³  - ê³„íš ì „ë°˜ì˜ ì¬ê²€í†  í•„ìš”</option>
                        </select>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-success btn-large" @click="saveAdvisory()">
                            ğŸ’¾ ìë¬¸ì˜ê²¬ ì €ì¥
                        </button>
                        <button class="btn btn-secondary btn-large" @click="closeAdvisoryModal()">
                            ì·¨ì†Œ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const { createApp, ref, computed } = Vue;
        
        createApp({
            setup() {
                // ìë¬¸ìœ„ì› ì •ë³´
                const advisor = ref({
                    name: 'ê¹€í™˜ê²½',
                    affiliation: 'ì„œìš¸ëŒ€í•™êµ í™˜ê²½ê³µí•™ê³¼',
                    specialty: 'ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶•ê¸°ìˆ  ì „ë¬¸ê°€'
                });
                
                // ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ìƒíƒœ ì¶”ê°€
                const selectedYear = ref('2024');
                const selectedRound = ref(1);
                
                // ê¸°ì¡´ ìƒíƒœë“¤
                const ministryFilter = ref('');
                const advisoryStatusFilter = ref('');
                const searchKeyword = ref('');
                const showAdvisoryModal = ref(false);
                const selectedProject = ref({});
                
                // ìë¬¸ì˜ê²¬ ì‘ì„± í¼
                const advisoryForm = ref({
                    technicalAssessment: '',
                    environmentalEffectiveness: '',
                    feasibility: '',
                    overallComment: '',
                    recommendation: ''
                });

                // ìë¬¸ìœ„ì› í†µê³„ - refë¡œ ë³€ê²½í•´ì„œ ë™ì  ì—…ë°ì´íŠ¸ ê°€ëŠ¥í•˜ê²Œ
                const advisorStats = ref({
                    totalProjects: 23,
                    waitingProjects: 5,
                    completedProjects: 14,
                    needsSupplementProjects: 4
                });

                // ë¶€ì²˜ë³„ ì§„í–‰í˜„í™© ë°ì´í„° ì¶”ê°€ (ì°¨ìˆ˜ë³„ë¡œ ë‹¤ë¥¸ ë°ì´í„°)
                const ministryProgress = computed(() => {
                    const progressData = {
                        1: [
                            { name: 'êµ­í† êµí†µë¶€', totalProjects: 5, waiting: 1, completed: 3, approved: 1, progressRate: 80 },
                            { name: 'ì‚°ì—…í†µìƒìì›ë¶€', totalProjects: 8, waiting: 2, completed: 4, approved: 2, progressRate: 75 },
                            { name: 'ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€', totalProjects: 3, waiting: 1, completed: 1, approved: 1, progressRate: 67 },
                            { name: 'ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€', totalProjects: 4, waiting: 1, completed: 2, approved: 1, progressRate: 75 },
                            { name: 'í™˜ê²½ë¶€', totalProjects: 3, waiting: 0, completed: 2, approved: 1, progressRate: 100 }
                        ],
                        2: [
                            { name: 'êµ­í† êµí†µë¶€', totalProjects: 3, waiting: 2, completed: 1, approved: 0, progressRate: 33 },
                            { name: 'ì‚°ì—…í†µìƒìì›ë¶€', totalProjects: 5, waiting: 3, completed: 2, approved: 0, progressRate: 40 },
                            { name: 'ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€', totalProjects: 2, waiting: 1, completed: 1, approved: 0, progressRate: 50 },
                            { name: 'ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€', totalProjects: 3, waiting: 2, completed: 1, approved: 0, progressRate: 33 },
                            { name: 'í™˜ê²½ë¶€', totalProjects: 2, waiting: 1, completed: 1, approved: 0, progressRate: 50 }
                        ],
                        3: [
                            { name: 'êµ­í† êµí†µë¶€', totalProjects: 1, waiting: 1, completed: 0, approved: 0, progressRate: 0 },
                            { name: 'ì‚°ì—…í†µìƒìì›ë¶€', totalProjects: 2, waiting: 2, completed: 0, approved: 0, progressRate: 0 },
                            { name: 'ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€', totalProjects: 1, waiting: 1, completed: 0, approved: 0, progressRate: 0 },
                            { name: 'ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€', totalProjects: 1, waiting: 1, completed: 0, approved: 0, progressRate: 0 }
                        ],
                        4: []
                    };
                    
                    return progressData[selectedRound.value] || [];
                });
                
                // ê³µì§€ì‚¬í•­ ë°ì´í„° ì¶”ê°€
                const notices = ref([
                    {
                        id: 1,
                        title: '2024ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ ìë¬¸ìœ„ì› í™œë™ ì•ˆë‚´',
                        date: '2024-12-20',
                        important: true,
                        priority: 'important'
                    },
                    {
                        id: 2,
                        title: 'ìë¬¸ì˜ê²¬ ì‘ì„± ê°€ì´ë“œë¼ì¸ ì—…ë°ì´íŠ¸',
                        date: '2024-12-18',
                        important: true,
                        priority: 'important'
                    },
                    {
                        id: 3,
                        title: 'ìë¬¸ìœ„ì› ì›Œí¬ìƒµ ê°œìµœ ì•ˆë‚´ (1ì›” ì˜ˆì •)',
                        date: '2024-12-15',
                        important: false,
                        priority: 'normal'
                    },
                    {
                        id: 4,
                        title: 'ìš°ìˆ˜ ìë¬¸ì˜ê²¬ ì‚¬ë¡€ì§‘ ë°œê°„ ì•ˆë‚´',
                        date: '2024-12-12',
                        important: false,
                        priority: 'normal'
                    },
                    {
                        id: 5,
                        title: '2ì°¨ ìë¬¸ ì¼ì • ì‚¬ì „ ê³µì§€',
                        date: '2024-12-10',
                        important: false,
                        priority: 'normal'
                    }
                ]);
                
                // ë‚˜ì—ê²Œ ì˜¨ ì•Œë¦¼ ë°ì´í„° ì¶”ê°€
                const myAlerts = ref([
                    {
                        id: 1,
                        title: 'ì‹ ê·œ ìë¬¸ ìš”ì²­: ìŠ¤ë§ˆíŠ¸íŒœ ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶•ì‚¬ì—…',
                        date: '2024-12-21',
                        read: false,
                        type: 'new'
                    },
                    {
                        id: 2,
                        title: 'AI ê¸°ë°˜ ì—ë„ˆì§€ íš¨ìœ¨í™” ì‹œìŠ¤í…œ ìë¬¸ ì™„ë£Œ í™•ì¸',
                        date: '2024-12-20',
                        read: true,
                        type: 'normal'
                    },
                    {
                        id: 3,
                        title: 'ìë¬¸ì˜ê²¬ ìˆ˜ì • ìš”ì²­: ì¹œí™˜ê²½ ëŒ€ì¤‘êµí†µ í™•ì¶©',
                        date: '2024-12-19',
                        read: true,
                        type: 'normal'
                    },
                    {
                        id: 4,
                        title: '1ì°¨ ìë¬¸ í™œë™ ì™„ë£Œ ì•ˆë‚´',
                        date: '2024-12-18',
                        read: true,
                        type: 'normal'
                    },
                    {
                        id: 5,
                        title: 'ìë¬¸ìœ„ì› ìˆ˜ë‹¹ ì§€ê¸‰ ì•ˆë‚´',
                        date: '2024-12-15',
                        read: true,
                        type: 'normal'
                    }
                ]);
                
                // ê²€í† ì™„ë£Œ ì‚¬ì—… ëª©ë¡ ë°ì´í„° (í™˜ê²½ê³µë‹¨ ê²€í†  ì™„ë£Œëœ ê²ƒë§Œ)
                const projects = ref([
                    {
                        id: 1,
                        ministry: 'êµ­í† êµí†µë¶€',
                        code: 'KT2024-001',
                        name: 'ìŠ¤ë§ˆíŠ¸ì‹œí‹° ì¸í”„ë¼ êµ¬ì¶• ì‚¬ì—…',
                        budget: 15000,
                        reviewer: 'í™˜ê²½ê³µë‹¨ ë°•ê²€í† ',
                        reviewResult: 'ìŠ¹ì¸',
                        reviewComment: 'ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶• íš¨ê³¼ê°€ ëª…í™•í•˜ê³  ê¸°ìˆ ì  íƒ€ë‹¹ì„±ì´ ë†’ìŒ. IoT ê¸°ë°˜ êµí†µ ìµœì í™”ë¡œ ì—°ê°„ 15% CO2 ê°ì¶• ì˜ˆìƒ.',
                        advisoryStatus: 'ìŠ¹ì¸ê¶Œê³ ',
                        advisoryDate: '2024-12-23',
                        advisoryComment: 'ê¸°ìˆ ì ìœ¼ë¡œ ê²€ì¦ëœ ì†”ë£¨ì…˜ì´ë©° í™˜ê²½ íš¨ê³¼ê°€ ë›°ì–´ë‚¨'
                    },
                    {
                        id: 2,
                        ministry: 'êµ­í† êµí†µë¶€',
                        code: 'KT2024-002',
                        name: 'ì¹œí™˜ê²½ ëŒ€ì¤‘êµí†µ í™•ì¶©',
                        budget: 28000,
                        reviewer: 'í™˜ê²½ê³µë‹¨ ê¹€ê²€í† ',
                        reviewResult: 'ì¡°ê±´ë¶€ìŠ¹ì¸',
                        reviewComment: 'ì „ê¸°ë²„ìŠ¤ ë„ì…ì€ ì ì ˆí•˜ë‚˜ ì¶©ì „ ì¸í”„ë¼ ê³„íšì´ ë¶€ì¡±í•¨. ìš´í–‰ íš¨ìœ¨ì„± ê°œì„  ë°©ì•ˆ ì¶”ê°€ í•„ìš”.',
                        advisoryStatus: 'ìë¬¸ëŒ€ê¸°',
                        advisoryDate: '',
                        advisoryComment: ''
                    },
                    {
                        id: 3,
                        ministry: 'ì‚°ì—…í†µìƒìì›ë¶€',
                        code: 'MT2024-001',
                        name: 'ì‹ ì¬ìƒì—ë„ˆì§€ ë°œì „ë‹¨ì§€ ì¡°ì„±',
                        budget: 65000,
                        reviewer: 'í™˜ê²½ê³µë‹¨ ì´ê²€í† ',
                        reviewResult: 'ìŠ¹ì¸',
                        reviewComment: 'íƒœì–‘ê´‘ ë° í’ë ¥ ë°œì „ ê³„íšì´ ì²´ê³„ì ì´ë©° ì§€ì—­ íŠ¹ì„±ì„ ì˜ ë°˜ì˜í•¨. ì—°ê°„ 50ë§Œí†¤ CO2 ê°ì¶• íš¨ê³¼ ì˜ˆìƒ.',
                        advisoryStatus: 'ìë¬¸ì™„ë£Œ',
                        advisoryDate: '2024-12-22',
                        advisoryComment: 'í™˜ê²½ íš¨ê³¼ì„±ê³¼ ê²½ì œì„±ì´ ëª¨ë‘ ìš°ìˆ˜í•¨'
                    },
                    {
                        id: 4,
                        ministry: 'ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€',
                        code: 'AF2024-001',
                        name: 'ìŠ¤ë§ˆíŠ¸íŒœ ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶•ì‚¬ì—…',
                        budget: 12000,
                        reviewer: 'í™˜ê²½ê³µë‹¨ ìµœê²€í† ',
                        reviewResult: 'ë³´ì™„í•„ìš”',
                        reviewComment: 'AI ê¸°ë°˜ ë†ì—… ê¸°ìˆ ì€ ìš°ìˆ˜í•˜ë‚˜ ì‹¤ì œ ê°ì¶•ëŸ‰ ì‚°ì • ê·¼ê±° ë³´ì™„ í•„ìš”. ë†ê°€ ì°¸ì—¬ í™•ëŒ€ ë°©ì•ˆ êµ¬ì²´í™” ìš”êµ¬.',
                        advisoryStatus: 'ìë¬¸ëŒ€ê¸°',
                        advisoryDate: '',
                        advisoryComment: ''
                    },
                    {
                        id: 5,
                        ministry: 'ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€',
                        code: 'ST2024-001',
                        name: 'AI ê¸°ë°˜ ì—ë„ˆì§€ íš¨ìœ¨í™” ì‹œìŠ¤í…œ',
                        budget: 8500,
                        reviewer: 'í™˜ê²½ê³µë‹¨ ì •ê²€í† ',
                        reviewResult: 'ìŠ¹ì¸',
                        reviewComment: 'AI ì•Œê³ ë¦¬ì¦˜ì„ í†µí•œ ì—ë„ˆì§€ ì‚¬ìš© ìµœì í™” ë°©ì•ˆì´ í˜ì‹ ì ì„. ê³µê³µê±´ë¬¼ ì ìš© ì‹œ 20% ì—ë„ˆì§€ ì ˆì•½ ê°€ëŠ¥.',
                        advisoryStatus: 'ë³´ì™„ê¶Œê³ ',
                        advisoryDate: '2024-12-21',
                        advisoryComment: 'ê¸°ìˆ ì€ ìš°ìˆ˜í•˜ë‚˜ í™•ì‚° ê³„íš ë³´ì™„ í•„ìš”'
                    }
                ]);
                
                // í†µê³„ ê³„ì‚° (í˜„ì¬ ì§„í–‰ ìƒí™© ê¸°ì¤€)
                const stats = computed(() => {
                    const total = projects.value.length;
                    const pending = projects.value.filter(p => p.advisoryStatus === 'ìë¬¸ëŒ€ê¸°').length;
                    const completed = projects.value.filter(p => p.advisoryStatus !== 'ìë¬¸ëŒ€ê¸°').length;
                    const approved = projects.value.filter(p => p.advisoryStatus === 'ìŠ¹ì¸ê¶Œê³ ').length;
                    
                    return { total, pending, completed, approved };
                });
                
                // í•„í„°ë§ëœ í”„ë¡œì íŠ¸ ëª©ë¡
                const filteredProjects = computed(() => {
                    let filtered = projects.value;
                    
                    // ë¶€ì²˜ í•„í„°
                    if (ministryFilter.value) {
                        filtered = filtered.filter(p => p.ministry === ministryFilter.value);
                    }
                    
                    // ìë¬¸ìƒíƒœ í•„í„°
                    if (advisoryStatusFilter.value) {
                        filtered = filtered.filter(p => p.advisoryStatus === advisoryStatusFilter.value);
                    }
                    
                    // ê²€ìƒ‰ í‚¤ì›Œë“œ í•„í„°
                    if (searchKeyword.value) {
                        const keyword = searchKeyword.value.toLowerCase();
                        filtered = filtered.filter(p => 
                            p.name.toLowerCase().includes(keyword) ||
                            p.code.toLowerCase().includes(keyword)
                        );
                    }
                    
                    return filtered;
                });
                
                // ìë¬¸ìƒíƒœì— ë”°ë¥¸ CSS í´ë˜ìŠ¤ ë°˜í™˜
                const getAdvisoryStatusClass = (status) => {
                    const statusMap = {
                        'ìë¬¸ëŒ€ê¸°': 'advisory-status advisory-pending',
                        'ìë¬¸ì™„ë£Œ': 'advisory-status advisory-completed',
                        'ìŠ¹ì¸ê¶Œê³ ': 'advisory-status advisory-approved',
                        'ë³´ì™„ê¶Œê³ ': 'advisory-status advisory-rejected'
                    };
                    return statusMap[status] || 'advisory-status';
                };
                
                // ì—°ë„/ì°¨ìˆ˜ ì„ íƒ ê´€ë ¨ í•¨ìˆ˜ ì¶”ê°€
                const loadYearData = () => {
                    console.log(`${selectedYear.value}ë…„ ìë¬¸ ë°ì´í„° ë¡œë“œ`);
                    // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ì—°ë„ ë°ì´í„° ë¡œë“œ
                };
                
                // ì°¨ìˆ˜ ì„ íƒ í•¨ìˆ˜ - í†µê³„ ì—…ë°ì´íŠ¸ í¬í•¨
                const selectRound = (round) => {
                    selectedRound.value = round;
                    console.log(`${selectedYear.value}ë…„ ${round}ì°¨ ìë¬¸ ë°ì´í„° ë¡œë“œ`);
                    
                    // ì°¨ìˆ˜ë³„ í†µê³„ ì—…ë°ì´íŠ¸
                    const roundStats = {
                        1: { totalProjects: 23, waitingProjects: 5, completedProjects: 14, needsSupplementProjects: 4 },
                        2: { totalProjects: 15, waitingProjects: 9, completedProjects: 5, needsSupplementProjects: 1 },
                        3: { totalProjects: 5, waitingProjects: 5, completedProjects: 0, needsSupplementProjects: 0 },
                        4: { totalProjects: 0, waitingProjects: 0, completedProjects: 0, needsSupplementProjects: 0 }
                    };
                    
                    // í†µê³„ ì—…ë°ì´íŠ¸
                    const newStats = roundStats[round];
                    if (newStats) {
                        advisorStats.value = { ...newStats };
                    }
                };
                
                // ìë¬¸ì˜ê²¬ ì‘ì„±
                const writeAdvisory = (project) => {
                    selectedProject.value = project;
                    
                    // ê¸°ì¡´ ìë¬¸ì˜ê²¬ì´ ìˆìœ¼ë©´ í¼ì— ë¡œë“œ
                    if (project.advisoryStatus !== 'ìë¬¸ëŒ€ê¸°') {
                        // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ìƒì„¸ ìë¬¸ì˜ê²¬ì„ ê°€ì ¸ì™€ì•¼ í•¨
                        advisoryForm.value = {
                            technicalAssessment: 'ê¸°ì¡´ ê¸°ìˆ ì  í‰ê°€...',
                            environmentalEffectiveness: 'ê¸°ì¡´ í™˜ê²½ íš¨ê³¼ì„± í‰ê°€...',
                            feasibility: 'ê¸°ì¡´ ì‹¤í˜„ê°€ëŠ¥ì„± í‰ê°€...',
                            overallComment: project.advisoryComment,
                            recommendation: project.advisoryStatus
                        };
                    } else {
                        // ìƒˆ ì‘ì„±
                        advisoryForm.value = {
                            technicalAssessment: '',
                            environmentalEffectiveness: '',
                            feasibility: '',
                            overallComment: '',
                            recommendation: ''
                        };
                    }
                    
                    showAdvisoryModal.value = true;
                };
                
                // ìë¬¸ì˜ê²¬ ë³´ê¸°
                const viewAdvisory = (project) => {
                    alert(`${project.name}ì˜ ìë¬¸ì˜ê²¬ì„ ì¡°íšŒí•©ë‹ˆë‹¤.\n\n${project.advisoryComment}`);
                };
                
                // ì‚¬ì—… ìƒì„¸ë³´ê¸°
                const viewProjectDetail = (project) => {
                    alert(`${project.name} ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.`);
                };
                
                // ìë¬¸ì˜ê²¬ ì €ì¥
                const saveAdvisory = () => {
                    if (!advisoryForm.value.recommendation) {
                        alert('ìµœì¢… ê¶Œê³ ì‚¬í•­ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    if (!advisoryForm.value.overallComment.trim()) {
                        alert('ì¢…í•© ìë¬¸ì˜ê²¬ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    // ìë¬¸ì˜ê²¬ ì €ì¥ ë¡œì§
                    const project = projects.value.find(p => p.id === selectedProject.value.id);
                    if (project) {
                        project.advisoryStatus = advisoryForm.value.recommendation;
                        project.advisoryDate = new Date().toISOString().split('T')[0];
                        project.advisoryComment = advisoryForm.value.overallComment;
                    }
                    
                    alert('ìë¬¸ì˜ê²¬ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    closeAdvisoryModal();
                };
                
                // ëª¨ë‹¬ ë‹«ê¸°
                const closeAdvisoryModal = () => {
                    showAdvisoryModal.value = false;
                    selectedProject.value = {};
                    advisoryForm.value = {
                        technicalAssessment: '',
                        environmentalEffectiveness: '',
                        feasibility: '',
                        overallComment: '',
                        recommendation: ''
                    };
                };
                
                // ê³µì§€ì‚¬í•­ ê´€ë ¨ í•¨ìˆ˜ ì¶”ê°€
                const viewNotice = (notice) => {
                    alert(`ê³µì§€ì‚¬í•­ ìƒì„¸ë³´ê¸°\n\nì œëª©: ${notice.title}\nì‘ì„±ì¼: ${notice.date}\n\nìì„¸í•œ ë‚´ìš©ì€ ê³µì§€ì‚¬í•­ ìƒì„¸í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì„¸ìš”.`);
                };
                
                const viewAllNotices = () => {
                    alert('ê³µì§€ì‚¬í•­ ì „ì²´ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                };
                
                // ê°œì¸ ì•Œë¦¼ ê´€ë ¨ í•¨ìˆ˜ ì¶”ê°€
                const viewMyAlert = (alert) => {
                    alert.read = true;
                    alert(`ë‚´ ì•Œë¦¼\n\nì œëª©: ${alert.title}\në‚ ì§œ: ${alert.date}\n\nê´€ë ¨ ì‚¬ì—…ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.`);
                };
                
                const viewAllAlerts = () => {
                    alert('ë‚´ ì•Œë¦¼ ì „ì²´ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                };

                // ì•Œë¦¼ íƒ€ì… í…ìŠ¤íŠ¸ ë³€í™˜ í•¨ìˆ˜ ì¶”ê°€
                const getAlertTypeText = (type) => {
                    const typeMap = {
                        'new': 'ì‹ ê·œ',
                        'normal': 'ì½ìŒ',
                        'important': 'ì¤‘ìš”'
                    };
                    return typeMap[type] || 'ì¼ë°˜';
                };

                return {
                    advisor,
                    selectedYear,
                    selectedRound,
                    ministryFilter,
                    advisoryStatusFilter,
                    searchKeyword,
                    showAdvisoryModal,
                    selectedProject,
                    advisoryForm,
                    projects,
                    notices,
                    myAlerts,
                    stats,
                    filteredProjects,
                    ministryProgress, // ì¶”ê°€
                    getAdvisoryStatusClass,
                    getAlertTypeText,
                    loadYearData,
                    selectRound, // ì—…ë°ì´íŠ¸ëœ í•¨ìˆ˜
                    viewNotice,
                    viewAllNotices,
                    viewMyAlert,
                    viewAllAlerts,
                    writeAdvisory,
                    viewAdvisory,
                    viewProjectDetail,
                    saveAdvisory,
                    closeAdvisoryModal,
                    advisorStats
                };
            }
        }).mount('#app');
    </script>
</body>
</html> 