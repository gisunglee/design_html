<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ ìš´ì˜ì‹œìŠ¤í…œ</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        /* ì „ì²´ ìŠ¤íƒ€ì¼ ì„¤ì • - ê´€ê³µì„œ íŠ¹ì„±ì— ë§ëŠ” ê¹”ë”í•˜ê³  ì‹ ë¢°ì„± ìˆëŠ” ë””ìì¸ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* í—¤ë” ìŠ¤íƒ€ì¼ - ì‹œìŠ¤í…œ ì •ì²´ì„±ì„ ëª…í™•íˆ í‘œí˜„ */
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3d6f 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ - ê¸°ëŠ¥ë³„ í™”ë©´ êµ¬ë¶„ì„ ìœ„í•œ ì§ê´€ì  íƒ­ */
        .tab-nav {
            display: flex;
            background: white;
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tab-button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: #2c5aa0;
            color: white;
        }
        
        .tab-button:hover:not(.active) {
            background: #e8f2ff;
        }
        
        /* ì¹´ë“œ ì»¨í…Œì´ë„ˆ - ì„¹ì…˜ë³„ êµ¬ë¶„ì„ ìœ„í•œ ì¹´ë“œ í˜•íƒœ */
        .card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
        }
        
        .card-header {
            border-bottom: 2px solid #f8f9fa;
            padding-bottom: 16px;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 4px;
        }
        
        .card-subtitle {
            font-size: 14px;
            color: #6c757d;
        }
        
        /* í¼ ìš”ì†Œë“¤ - ì…ë ¥ í¸ì˜ì„±ê³¼ ê°€ë…ì„±ì„ ê³ ë ¤í•œ ë””ìì¸ */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-label {
            font-weight: 500;
            margin-bottom: 6px;
            color: #333;
        }
        
        .form-input {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #2c5aa0;
            box-shadow: 0 0 0 2px rgba(44, 90, 160, 0.1);
        }
        
        .form-select {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ì•¡ì…˜ë³„ ì‹œê°ì  êµ¬ë¶„ */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #2c5aa0;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1e3d6f;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-warning {
            background: #ffc107;
            color: #333;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ - ë°ì´í„° í‘œì‹œë¥¼ ìœ„í•œ ê¹”ë”í•œ í…Œì´ë¸” */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        .table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }
        
        .table tbody tr:hover {
            background: #f8f9fa;
        }
        
        /* ìƒíƒœ í‘œì‹œ ë°°ì§€ - ì§„í–‰ ìƒí™©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆëŠ” ë°°ì§€ */
        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            text-align: center;
        }
        
        .badge-active { background: #d4edda; color: #155724; }
        .badge-closed { background: #f8d7da; color: #721c24; }
        .badge-pending { background: #fff3cd; color: #856404; }
        .badge-review { background: #cce7ff; color: #004085; }
        
        /* í”„ë¡œê·¸ë ˆìŠ¤ ë°” - ì§„í–‰ë¥  ì‹œê°í™” */
        .progress {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: #28a745;
            transition: width 0.3s ease;
        }
        
        /* ì•Œë¦¼ ìŠ¤íƒ€ì¼ */
        .alert {
            padding: 12px 16px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border-left: 4px solid #17a2b8;
        }
        
        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border-left: 4px solid #ffc107;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-nav {
                flex-direction: column;
            }
            
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- ì‹œìŠ¤í…œ í—¤ë” - ì‚¬ìš©ìì—ê²Œ í˜„ì¬ ì‹œìŠ¤í…œ ìœ„ì¹˜ë¥¼ ëª…í™•íˆ ì•Œë ¤ì¤Œ -->
        <div class="container">
            <div class="header">
                <h1>ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ ìš´ì˜ì‹œìŠ¤í…œ</h1>
                <p>ë§ˆê°ê´€ë¦¬ ë° ì°¨ìˆ˜ê´€ë¦¬ | í™˜ê²½ë¶€ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œë„</p>
            </div>
            
            <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ - ë‘ ê°œì˜ ì£¼ìš” ê¸°ëŠ¥ì„ íƒ­ìœ¼ë¡œ êµ¬ë¶„ -->
            <div class="tab-nav">
                <button 
                    class="tab-button" 
                    :class="{ active: activeTab === 'deadline' }"
                    @click="activeTab = 'deadline'"
                >
                    ğŸ“… ë§ˆê° ë° ì°¨ìˆ˜ ê´€ë¦¬
                </button>
                <button 
                    class="tab-button" 
                    :class="{ active: activeTab === 'projects' }"
                    @click="activeTab = 'projects'"
                >
                    ğŸ“Š ì„¸ë¶€ì‚¬ì—… ê´€ë¦¬
                </button>
            </div>
            
            <!-- ë§ˆê° ë° ì°¨ìˆ˜ ê´€ë¦¬ í™”ë©´ -->
            <div v-show="activeTab === 'deadline'">
                <!-- ìƒˆ ì˜ˆì‚°ì œ ìƒì„± ì„¹ì…˜ -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ìƒˆ ì˜ˆì‚°ì œ ìƒì„±</h2>
                        <p class="card-subtitle">ìƒˆë¡œìš´ íšŒê³„ì—°ë„ ì˜ˆì‚°ì œ ê´€ë¦¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤</p>
                    </div>
                    
                    <div class="form-grid">
                        <!-- ê¸°ë³¸ ì •ë³´ ì…ë ¥ -->
                        <div class="form-group">
                            <label class="form-label">íšŒê³„ì—°ë„</label>
                            <input 
                                v-model="newBudget.year" 
                                type="number" 
                                class="form-input" 
                                placeholder="ì˜ˆ: 2025"
                                min="2024"
                                max="2030"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì˜ˆì‚°ì œ ëª…ì¹­</label>
                            <input 
                                v-model="newBudget.name" 
                                type="text" 
                                class="form-input" 
                                placeholder="ì˜ˆ: 2025ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ"
                            >
                        </div>
                        
                        <!-- ì¶”ê²½ ê´€ë ¨ ì„¤ì • -->
                        <div class="form-group">
                            <label class="form-label">ì¶”ê²½ ì—¬ë¶€</label>
                            <select v-model="newBudget.isSupplementary" class="form-select">
                                <option value="false">ë³¸ì˜ˆì‚°</option>
                                <option value="true">ì¶”ê²½ì˜ˆì‚°</option>
                            </select>
                        </div>
                        
                        <div class="form-group" v-if="newBudget.isSupplementary === 'true'">
                            <label class="form-label">ì¶”ê²½ ì°¨ìˆ˜</label>
                            <select v-model="newBudget.supplementaryRound" class="form-select">
                                <option value="1">1ì°¨ ì¶”ê²½</option>
                                <option value="2">2ì°¨ ì¶”ê²½</option>
                                <option value="3">3ì°¨ ì¶”ê²½</option>
                                <option value="4">4ì°¨ ì¶”ê²½</option>
                            </select>
                        </div>
                    </div>
                    
                    <button @click="createNewBudget" class="btn btn-primary">
                        âœ¨ ìƒˆ ì˜ˆì‚°ì œ ìƒì„±
                    </button>
                </div>
                
                <!-- ì°¨ìˆ˜ ê´€ë¦¬ ì„¹ì…˜ -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ì°¨ìˆ˜ ê´€ë¦¬</h2>
                        <p class="card-subtitle">ì˜ˆì‚°ì œ ê²€í†  ì°¨ìˆ˜ë³„ ì¼ì • ë° ë§ˆê° ê´€ë¦¬</p>
                    </div>
                    
                    <!-- í˜„ì¬ ì„ íƒëœ ì˜ˆì‚°ì œ í‘œì‹œ -->
                    <div class="alert alert-info" v-if="selectedBudget">
                        <strong>í˜„ì¬ ê´€ë¦¬ ì¤‘ì¸ ì˜ˆì‚°ì œ:</strong> {{ selectedBudget.name }}
                        <span class="badge badge-active" style="margin-left: 10px;">{{ selectedBudget.year }}ë…„</span>
                    </div>
                    
                    <!-- ìƒˆ ì°¨ìˆ˜ ì¶”ê°€ í¼ -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">ê²€í†  ì°¨ìˆ˜</label>
                            <select v-model="newRound.roundNumber" class="form-select">
                                <option value="1">1ì°¨ ê²€í† </option>
                                <option value="2">2ì°¨ ê²€í† </option>
                                <option value="3">3ì°¨ ê²€í† </option>
                                <option value="4">4ì°¨ ê²€í† </option>
                            </select>
                        </div>
                        
                        <!-- ì‘ì„± ê¸°ê°„ ì„¤ì • -->
                        <div class="form-group">
                            <label class="form-label">ì‘ì„± ì‹œì‘ì¼</label>
                            <input v-model="newRound.writeStartDate" type="date" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì‘ì„± ì¢…ë£Œì¼</label>
                            <input v-model="newRound.writeEndDate" type="date" class="form-input">
                        </div>
                        
                        <!-- ê²€í†  ê¸°ê°„ ì„¤ì • -->
                        <div class="form-group">
                            <label class="form-label">ê²€í†  ì‹œì‘ì¼</label>
                            <input v-model="newRound.reviewStartDate" type="date" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ê²€í†  ì¢…ë£Œì¼</label>
                            <input v-model="newRound.reviewEndDate" type="date" class="form-input">
                        </div>
                        
                        <!-- ìƒíƒœ ì„¤ì • -->
                        <div class="form-group">
                            <label class="form-label">ì‘ì„± í—ˆìš© ì—¬ë¶€</label>
                            <select v-model="newRound.writeAllowed" class="form-select">
                                <option value="true">í—ˆìš©</option>
                                <option value="false">ê¸ˆì§€</option>
                            </select>
                        </div>
                    </div>
                    
                    <button @click="addRound" class="btn btn-success">
                        â• ì°¨ìˆ˜ ì¶”ê°€
                    </button>
                </div>
                
                <!-- ì°¨ìˆ˜ ëª©ë¡ í‘œì‹œ -->
                <div class="card" v-if="rounds.length > 0">
                    <div class="card-header">
                        <h2 class="card-title">ë“±ë¡ëœ ì°¨ìˆ˜ ëª©ë¡</h2>
                        <p class="card-subtitle">ì°¨ìˆ˜ë³„ ì¼ì • í˜„í™© ë° ìƒíƒœ ê´€ë¦¬</p>
                    </div>
                    
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ì°¨ìˆ˜</th>
                                <th>ì‘ì„± ê¸°ê°„</th>
                                <th>ê²€í†  ê¸°ê°„</th>
                                <th>ì‘ì„± í—ˆìš©</th>
                                <th>ë§ˆê° ìƒíƒœ</th>
                                <th>ì§„í–‰ë¥ </th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="round in rounds" :key="round.id">
                                <td>
                                    <strong>{{ round.roundNumber }}ì°¨</strong>
                                </td>
                                <td>
                                    {{ formatDate(round.writeStartDate) }} ~ {{ formatDate(round.writeEndDate) }}
                                </td>
                                <td>
                                    {{ formatDate(round.reviewStartDate) }} ~ {{ formatDate(round.reviewEndDate) }}
                                </td>
                                <td>
                                    <span :class="round.writeAllowed === 'true' ? 'badge badge-active' : 'badge badge-closed'">
                                        {{ round.writeAllowed === 'true' ? 'í—ˆìš©' : 'ê¸ˆì§€' }}
                                    </span>
                                </td>
                                <td>
                                    <span :class="getStatusBadgeClass(round.status)">
                                        {{ getStatusText(round.status) }}
                                    </span>
                                </td>
                                <td>
                                    <div class="progress">
                                        <div class="progress-bar" :style="{ width: round.progress + '%' }"></div>
                                    </div>
                                    <small>{{ round.progress }}%</small>
                                </td>
                                <td>
                                    <button @click="toggleWriteAllowed(round)" class="btn btn-warning" style="margin-right: 8px;">
                                        {{ round.writeAllowed === 'true' ? 'ğŸ“â†’ğŸ”’' : 'ğŸ”’â†’ğŸ“' }}
                                    </button>
                                    <button @click="deleteRound(round.id)" class="btn btn-danger">
                                        ğŸ—‘ï¸
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- ì„¸ë¶€ì‚¬ì—… ê´€ë¦¬ í™”ë©´ -->
            <div v-show="activeTab === 'projects'">
                <!-- ì„¸ë¶€ì‚¬ì—… ëª¨ìˆ˜ ê´€ë¦¬ -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ì„¸ë¶€ì‚¬ì—… ëª¨ìˆ˜ ê´€ë¦¬</h2>
                        <p class="card-subtitle">ì˜ˆì‚°ì„œ ì‘ì„± ëŒ€ìƒ ì„¸ë¶€ì‚¬ì—…ì˜ ëª¨ìˆ˜ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
                    </div>
                    
                    <!-- ì¶”ê²½ ê´€ë¦¬ ë°©ì‹ ì„ íƒ -->
                    <div class="alert alert-warning">
                        <strong>ğŸ¤” ê¸°íšì  ì œì•ˆ:</strong> ì¶”ê²½ ì‹œ ì„¸ë¶€ì‚¬ì—… ì¶”ê°€ ê´€ë¦¬ ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.<br>
                        <strong>ë°©ì‹ 1:</strong> ì „ì²´ ë³µì‚¬ í›„ ê´€ë¦¬ (ë°ì´í„° ì¼ê´€ì„± í™•ë³´, ì €ì¥ê³µê°„ ë§ì´ ì‚¬ìš©)<br>
                        <strong>ë°©ì‹ 2:</strong> ê¸°ì¡´ ëª¨ìˆ˜ + ì¶”ê°€ë¶„ ë³„ë„ ê´€ë¦¬ (ì €ì¥ê³µê°„ íš¨ìœ¨ì , ì¶”ê°€ ë¡œì§ í•„ìš”)
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label class="form-label">ì¶”ê²½ ê´€ë¦¬ ë°©ì‹</label>
                        <select v-model="supplementaryManagementType" class="form-select">
                            <option value="copy">ë°©ì‹1: ì „ì²´ ë³µì‚¬ ê´€ë¦¬ (ê¶Œì¥)</option>
                            <option value="additional">ë°©ì‹2: ì¶”ê°€ë¶„ ë³„ë„ ê´€ë¦¬</option>
                        </select>
                    </div>
                    
                    <!-- ì„¸ë¶€ì‚¬ì—… ì¶”ê°€ í¼ -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">ë¶€ì²˜ëª…</label>
                            <input v-model="newProject.ministry" type="text" class="form-input" placeholder="ì˜ˆ: í™˜ê²½ë¶€">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì„¸ë¶€ì‚¬ì—…ëª…</label>
                            <input v-model="newProject.projectName" type="text" class="form-input" placeholder="ì˜ˆ: ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œê¶Œê±°ë˜ì œ ìš´ì˜">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì‚¬ì—…ì½”ë“œ</label>
                            <input v-model="newProject.projectCode" type="text" class="form-input" placeholder="ì˜ˆ: 1234-567">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì˜ˆì‚°ì•¡ (ì²œì›)</label>
                            <input v-model="newProject.budget" type="number" class="form-input" placeholder="ì˜ˆ: 1000000">
                        </div>
                        
                        <div class="form-group" v-if="supplementaryManagementType === 'additional'">
                            <label class="form-label">ì¶”ê°€ êµ¬ë¶„</label>
                            <select v-model="newProject.additionType" class="form-select">
                                <option value="existing">ê¸°ì¡´ ì‚¬ì—…</option>
                                <option value="new">ì‹ ê·œ ì¶”ê°€</option>
                                <option value="modified">ë³€ê²½ ì‚¬ì—…</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ë‹´ë‹¹ì</label>
                            <input v-model="newProject.manager" type="text" class="form-input" placeholder="ì˜ˆ: í™ê¸¸ë™">
                        </div>
                    </div>
                    
                    <button @click="addProject" class="btn btn-primary">
                        â• ì„¸ë¶€ì‚¬ì—… ì¶”ê°€
                    </button>
                </div>
                
                <!-- ì„¸ë¶€ì‚¬ì—… ëª©ë¡ -->
                <div class="card" v-if="projects.length > 0">
                    <div class="card-header">
                        <h2 class="card-title">ë“±ë¡ëœ ì„¸ë¶€ì‚¬ì—… ëª©ë¡</h2>
                        <p class="card-subtitle">ì´ {{ projects.length }}ê°œ ì„¸ë¶€ì‚¬ì—… | ì´ ì˜ˆì‚°ì•¡: {{ getTotalBudget().toLocaleString() }}ì²œì›</p>
                    </div>
                    
                    <!-- í•„í„°ë§ ë° ê²€ìƒ‰ -->
                    <div class="form-grid" style="margin-bottom: 20px;">
                        <div class="form-group">
                            <label class="form-label">ë¶€ì²˜ë³„ í•„í„°</label>
                            <select v-model="filterMinistry" class="form-select">
                                <option value="">ì „ì²´ ë¶€ì²˜</option>
                                <option v-for="ministry in getUniqueMinistries()" :key="ministry" :value="ministry">
                                    {{ ministry }}
                                </option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì‚¬ì—…ëª… ê²€ìƒ‰</label>
                            <input v-model="searchProject" type="text" class="form-input" placeholder="ì‚¬ì—…ëª… ê²€ìƒ‰...">
                        </div>
                    </div>
                    
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ë¶€ì²˜ëª…</th>
                                <th>ì„¸ë¶€ì‚¬ì—…ëª…</th>
                                <th>ì‚¬ì—…ì½”ë“œ</th>
                                <th>ì˜ˆì‚°ì•¡ (ì²œì›)</th>
                                <th v-if="supplementaryManagementType === 'additional'">ì¶”ê°€êµ¬ë¶„</th>
                                <th>ë‹´ë‹¹ì</th>
                                <th>ìƒíƒœ</th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="project in filteredProjects" :key="project.id">
                                <td>{{ project.ministry }}</td>
                                <td>{{ project.projectName }}</td>
                                <td>{{ project.projectCode }}</td>
                                <td>{{ project.budget.toLocaleString() }}</td>
                                <td v-if="supplementaryManagementType === 'additional'">
                                    <span :class="getAdditionTypeBadgeClass(project.additionType)">
                                        {{ getAdditionTypeText(project.additionType) }}
                                    </span>
                                </td>
                                <td>{{ project.manager }}</td>
                                <td>
                                    <span :class="project.isActive ? 'badge badge-active' : 'badge badge-closed'">
                                        {{ project.isActive ? 'í™œì„±' : 'ë¹„í™œì„±' }}
                                    </span>
                                </td>
                                <td>
                                    <button @click="toggleProjectStatus(project)" class="btn btn-warning" style="margin-right: 8px;">
                                        {{ project.isActive ? 'ë¹„í™œì„±í™”' : 'í™œì„±í™”' }}
                                    </button>
                                    <button @click="deleteProject(project.id)" class="btn btn-danger">
                                        ğŸ—‘ï¸
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- ì¶”ê²½ ë³µì‚¬ ê´€ë¦¬ ì„¹ì…˜ (ë°©ì‹1 ì„ íƒ ì‹œ) -->
                <div class="card" v-if="supplementaryManagementType === 'copy'">
                    <div class="card-header">
                        <h2 class="card-title">ì¶”ê²½ ì‹œ ì „ì²´ ë³µì‚¬ ê´€ë¦¬</h2>
                        <p class="card-subtitle">ê¸°ì¡´ ë³¸ì˜ˆì‚° ì„¸ë¶€ì‚¬ì—…ì„ ì¶”ê²½ìœ¼ë¡œ ë³µì‚¬í•˜ì—¬ ê´€ë¦¬</p>
                    </div>
                    
                    <div class="alert alert-info">
                        <strong>ğŸ’¡ ê¸°íš í¬ì¸íŠ¸:</strong> ë³¸ì˜ˆì‚°ì—ì„œ ì¶”ê²½ìœ¼ë¡œ ë³µì‚¬í•  ë•Œ ëª¨ë“  ì„¸ë¶€ì‚¬ì—…ì´ ë³µì‚¬ë˜ë©°, 
                        ì¶”ê²½ì—ì„œ ì¶”ê°€ë˜ëŠ” ìƒˆë¡œìš´ ì‚¬ì—…ë§Œ ë³„ë„ë¡œ ì¶”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                    </div>
                    
                    <button @click="copyToSupplementary" class="btn btn-success" style="margin-right: 10px;">
                        ğŸ“‹ ë³¸ì˜ˆì‚° â†’ ì¶”ê²½ ë³µì‚¬
                    </button>
                    
                    <button @click="generateReport" class="btn btn-secondary">
                        ğŸ“Š ë³€ê²½ ì‚¬í•­ ë¦¬í¬íŠ¸
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    // í˜„ì¬ í™œì„± íƒ­ (ê¸°ë³¸ê°’: ë§ˆê°ê´€ë¦¬)
                    activeTab: 'deadline',
                    
                    // ìƒˆ ì˜ˆì‚°ì œ ìƒì„±ì„ ìœ„í•œ ë°ì´í„°
                    newBudget: {
                        year: 2025,
                        name: '2025ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ',
                        isSupplementary: 'false',
                        supplementaryRound: '1'
                    },
                    
                    // í˜„ì¬ ì„ íƒëœ ì˜ˆì‚°ì œ (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì˜¬ ë°ì´í„°)
                    selectedBudget: {
                        id: 1,
                        name: '2025ë…„ ì˜¨ì‹¤ê°€ìŠ¤ê°ì¶•ì¸ì§€ ì˜ˆì‚°ì œ',
                        year: 2025,
                        isSupplementary: false
                    },
                    
                    // ìƒˆ ì°¨ìˆ˜ ì¶”ê°€ë¥¼ ìœ„í•œ ë°ì´í„°
                    newRound: {
                        roundNumber: '1',
                        writeStartDate: '',
                        writeEndDate: '',
                        reviewStartDate: '',
                        reviewEndDate: '',
                        writeAllowed: 'true'
                    },
                    
                    // ë“±ë¡ëœ ì°¨ìˆ˜ ëª©ë¡ (ìƒ˜í”Œ ë°ì´í„°)
                    rounds: [
                        {
                            id: 1,
                            roundNumber: '1',
                            writeStartDate: '2024-12-01',
                            writeEndDate: '2024-12-20',
                            reviewStartDate: '2024-12-21',
                            reviewEndDate: '2025-01-10',
                            writeAllowed: 'true',
                            status: 'active',
                            progress: 75
                        },
                        {
                            id: 2,
                            roundNumber: '2',
                            writeStartDate: '2025-01-15',
                            writeEndDate: '2025-01-30',
                            reviewStartDate: '2025-02-01',
                            reviewEndDate: '2025-02-15',
                            writeAllowed: 'false',
                            status: 'pending',
                            progress: 0
                        }
                    ],
                    
                    // ì„¸ë¶€ì‚¬ì—… ê´€ë¦¬ ê´€ë ¨ ë°ì´í„°
                    supplementaryManagementType: 'copy', // ì¶”ê²½ ê´€ë¦¬ ë°©ì‹
                    
                    newProject: {
                        ministry: '',
                        projectName: '',
                        projectCode: '',
                        budget: 0,
                        additionType: 'existing',
                        manager: ''
                    },
                    
                    // ë“±ë¡ëœ ì„¸ë¶€ì‚¬ì—… ëª©ë¡ (ìƒ˜í”Œ ë°ì´í„°)
                    projects: [
                        {
                            id: 1,
                            ministry: 'í™˜ê²½ë¶€',
                            projectName: 'ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œê¶Œê±°ë˜ì œ ìš´ì˜',
                            projectCode: '1234-567',
                            budget: 15000000,
                            additionType: 'existing',
                            manager: 'ê¹€í™˜ê²½',
                            isActive: true
                        },
                        {
                            id: 2,
                            ministry: 'ì‚°ì—…í†µìƒìì›ë¶€',
                            projectName: 'ì‹ ì¬ìƒì—ë„ˆì§€ ë³´ê¸‰ í™•ì‚°',
                            projectCode: '2345-678',
                            budget: 25000000,
                            additionType: 'existing',
                            manager: 'ì´ì‚°ì—…',
                            isActive: true
                        },
                        {
                            id: 3,
                            ministry: 'êµ­í† êµí†µë¶€',
                            projectName: 'ì¹œí™˜ê²½ êµí†µìˆ˜ë‹¨ ì¸í”„ë¼ êµ¬ì¶•',
                            projectCode: '3456-789',
                            budget: 30000000,
                            additionType: 'new',
                            manager: 'ë°•êµí†µ',
                            isActive: true
                        }
                    ],
                    
                    // í•„í„°ë§ ë° ê²€ìƒ‰ì„ ìœ„í•œ ë°ì´í„°
                    filterMinistry: '',
                    searchProject: ''
                }
            },
            
            computed: {
                // í•„í„°ë§ëœ ì„¸ë¶€ì‚¬ì—… ëª©ë¡
                filteredProjects() {
                    let filtered = this.projects;
                    
                    // ë¶€ì²˜ë³„ í•„í„°ë§
                    if (this.filterMinistry) {
                        filtered = filtered.filter(project => 
                            project.ministry === this.filterMinistry
                        );
                    }
                    
                    // ì‚¬ì—…ëª… ê²€ìƒ‰
                    if (this.searchProject) {
                        filtered = filtered.filter(project => 
                            project.projectName.toLowerCase().includes(this.searchProject.toLowerCase())
                        );
                    }
                    
                    return filtered;
                }
            },
            
            methods: {
                // ìƒˆ ì˜ˆì‚°ì œ ìƒì„± í•¨ìˆ˜
                createNewBudget() {
                    if (!this.newBudget.year || !this.newBudget.name) {
                        alert('íšŒê³„ì—°ë„ì™€ ì˜ˆì‚°ì œ ëª…ì¹­ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.');
                        return;
                    }
                    
                    // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œë¡œ ì„œë²„ì— ì €ì¥
                    console.log('ìƒˆ ì˜ˆì‚°ì œ ìƒì„±:', this.newBudget);
                    alert(`${this.newBudget.name}ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    
                    // ìƒì„±ëœ ì˜ˆì‚°ì œë¥¼ í˜„ì¬ ì„ íƒëœ ì˜ˆì‚°ì œë¡œ ì„¤ì •
                    this.selectedBudget = {
                        id: Date.now(),
                        name: this.newBudget.name,
                        year: this.newBudget.year,
                        isSupplementary: this.newBudget.isSupplementary === 'true'
                    };
                    
                    // í¼ ì´ˆê¸°í™”
                    this.newBudget = {
                        year: new Date().getFullYear() + 1,
                        name: '',
                        isSupplementary: 'false',
                        supplementaryRound: '1'
                    };
                },
                
                // ìƒˆ ì°¨ìˆ˜ ì¶”ê°€ í•¨ìˆ˜
                addRound() {
                    if (!this.selectedBudget) {
                        alert('ë¨¼ì € ì˜ˆì‚°ì œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    // í•„ìˆ˜ í•„ë“œ ê²€ì¦
                    if (!this.newRound.writeStartDate || !this.newRound.writeEndDate || 
                        !this.newRound.reviewStartDate || !this.newRound.reviewEndDate) {
                        alert('ëª¨ë“  ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    // ì¤‘ë³µ ì°¨ìˆ˜ ê²€ì¦
                    if (this.rounds.some(round => round.roundNumber === this.newRound.roundNumber)) {
                        alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì°¨ìˆ˜ì…ë‹ˆë‹¤.');
                        return;
                    }
                    
                    // ìƒˆ ì°¨ìˆ˜ ì¶”ê°€
                    const newRoundData = {
                        id: Date.now(),
                        ...this.newRound,
                        status: 'pending',
                        progress: 0
                    };
                    
                    this.rounds.push(newRoundData);
                    this.rounds.sort((a, b) => parseInt(a.roundNumber) - parseInt(b.roundNumber));
                    
                    alert(`${this.newRound.roundNumber}ì°¨ ê²€í† ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    
                    // í¼ ì´ˆê¸°í™”
                    this.newRound = {
                        roundNumber: (parseInt(this.newRound.roundNumber) + 1).toString(),
                        writeStartDate: '',
                        writeEndDate: '',
                        reviewStartDate: '',
                        reviewEndDate: '',
                        writeAllowed: 'true'
                    };
                },
                
                // ì‘ì„± í—ˆìš© ì—¬ë¶€ í† ê¸€
                toggleWriteAllowed(round) {
                    round.writeAllowed = round.writeAllowed === 'true' ? 'false' : 'true';
                    alert(`${round.roundNumber}ì°¨ ì‘ì„± í—ˆìš© ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                },
                
                // ì°¨ìˆ˜ ì‚­ì œ
                deleteRound(roundId) {
                    if (confirm('ì •ë§ë¡œ ì´ ì°¨ìˆ˜ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        this.rounds = this.rounds.filter(round => round.id !== roundId);
                        alert('ì°¨ìˆ˜ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                    }
                },
                
                // ìƒˆ ì„¸ë¶€ì‚¬ì—… ì¶”ê°€
                addProject() {
                    if (!this.newProject.ministry || !this.newProject.projectName || 
                        !this.newProject.projectCode || !this.newProject.budget) {
                        alert('ëª¨ë“  í•„ìˆ˜ í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    // ì¤‘ë³µ ì‚¬ì—…ì½”ë“œ ê²€ì¦
                    if (this.projects.some(project => project.projectCode === this.newProject.projectCode)) {
                        alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‚¬ì—…ì½”ë“œì…ë‹ˆë‹¤.');
                        return;
                    }
                    
                    const newProjectData = {
                        id: Date.now(),
                        ...this.newProject,
                        budget: parseInt(this.newProject.budget),
                        isActive: true
                    };
                    
                    this.projects.push(newProjectData);
                    alert('ì„¸ë¶€ì‚¬ì—…ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    
                    // í¼ ì´ˆê¸°í™”
                    this.newProject = {
                        ministry: '',
                        projectName: '',
                        projectCode: '',
                        budget: 0,
                        additionType: 'existing',
                        manager: ''
                    };
                },
                
                // ì„¸ë¶€ì‚¬ì—… ìƒíƒœ í† ê¸€
                toggleProjectStatus(project) {
                    project.isActive = !project.isActive;
                    alert(`${project.projectName}ì˜ ìƒíƒœê°€ ${project.isActive ? 'í™œì„±' : 'ë¹„í™œì„±'}ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                },
                
                // ì„¸ë¶€ì‚¬ì—… ì‚­ì œ
                deleteProject(projectId) {
                    if (confirm('ì •ë§ë¡œ ì´ ì„¸ë¶€ì‚¬ì—…ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        this.projects = this.projects.filter(project => project.id !== projectId);
                        alert('ì„¸ë¶€ì‚¬ì—…ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                    }
                },
                
                // ì¶”ê²½ìœ¼ë¡œ ë³µì‚¬
                copyToSupplementary() {
                    if (confirm('ë³¸ì˜ˆì‚°ì˜ ëª¨ë“  ì„¸ë¶€ì‚¬ì—…ì„ ì¶”ê²½ìœ¼ë¡œ ë³µì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ë³µì‚¬ ë¡œì§ ìˆ˜í–‰
                        alert('ë³¸ì˜ˆì‚° ì„¸ë¶€ì‚¬ì—…ì´ ì¶”ê²½ìœ¼ë¡œ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ì¶”ê²½ë³„ ìˆ˜ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                    }
                },
                
                // ë³€ê²½ ì‚¬í•­ ë¦¬í¬íŠ¸ ìƒì„±
                generateReport() {
                    alert('ë³€ê²½ ì‚¬í•­ ë¦¬í¬íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. (ì‹¤ì œë¡œëŠ” Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ)');
                },
                
                // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
                formatDate(dateString) {
                    return new Date(dateString).toLocaleDateString('ko-KR');
                },
                
                getStatusBadgeClass(status) {
                    const classes = {
                        'active': 'badge badge-active',
                        'pending': 'badge badge-pending',
                        'review': 'badge badge-review',
                        'closed': 'badge badge-closed'
                    };
                    return classes[status] || 'badge badge-pending';
                },
                
                getStatusText(status) {
                    const texts = {
                        'active': 'ì§„í–‰ì¤‘',
                        'pending': 'ëŒ€ê¸°ì¤‘',
                        'review': 'ê²€í† ì¤‘',
                        'closed': 'ì™„ë£Œ'
                    };
                    return texts[status] || 'ì•Œ ìˆ˜ ì—†ìŒ';
                },
                
                getAdditionTypeBadgeClass(type) {
                    const classes = {
                        'existing': 'badge badge-active',
                        'new': 'badge badge-warning',
                        'modified': 'badge badge-review'
                    };
                    return classes[type] || 'badge badge-pending';
                },
                
                getAdditionTypeText(type) {
                    const texts = {
                        'existing': 'ê¸°ì¡´',
                        'new': 'ì‹ ê·œ',
                        'modified': 'ë³€ê²½'
                    };
                    return texts[type] || 'ê¸°ì¡´';
                },
                
                getTotalBudget() {
                    return this.filteredProjects.reduce((sum, project) => sum + project.budget, 0);
                },
                
                getUniqueMinistries() {
                    return [...new Set(this.projects.map(project => project.ministry))];
                }
            }
        }).mount('#app')
    </script>
</body>
</html> 